import{b as Rl,g as Wy,h as h_,k as u$}from"/myst_assets_folder/_shared/chunk-YPHMSYSS.js";import{a as Ei}from"/myst_assets_folder/_shared/chunk-YTDUQO4S.js";import{g as Vk,n as Gk}from"/myst_assets_folder/_shared/chunk-CEWELH6O.js";import{a as Ao,b as d_,c as or,d as u_,e as bs,f as rT,g as Pc}from"/myst_assets_folder/_shared/chunk-J5VIBAGS.js";import{a as pt}from"/myst_assets_folder/_shared/chunk-X3SRJYZW.js";import{b as bm}from"/myst_assets_folder/_shared/chunk-WMHU5VV3.js";import{C as Yk,E as Xk,b as Wk,s as qk,t as Uk,u as Il,z as wu}from"/myst_assets_folder/_shared/chunk-XZQAKIX3.js";import{$ as tT,A as Vi,B as s_,C as vs,D as o_,E as jr,F as a_,G as Se,H as Vt,I as l_,L as Js,M as vm,N as n$,U as c_,V as Qk,W as eT,X as jy,a as ms,b as Cu,ba as Fy,c as dt,ca as s$,d as Kk,da as o$,e as zc,ea as a$,f as Ii,fa as l$,g as B,ga as c$,h as fi,ha as d$,i as ps,ia as iT,j as Ml,ja as $y,k as kl,ka as f_,l as Jk,la as nT,m as Tl,ma as sT,n as Br,na as h$,o as _a,oa as oT,p as Hr,pa as f$,q as Te,qa as xs,r as gs,ra as qy,s as Zk,sa as aT,t as _s,ta as m$,u as Al,ua as lT,v as ut,va as p$,w as _m,x as Hy,y as Ie,z as Ui}from"/myst_assets_folder/_shared/chunk-H3IPSNLT.js";import{c as yu,l as $k}from"/myst_assets_folder/_shared/chunk-YBLVZUVT.js";import{a as be,b as By,c as r$,d as Ce}from"/myst_assets_folder/_shared/chunk-MV5ISYB3.js";import{b as F,c as qe,d as Oc,e as H,f as ga}from"/myst_assets_folder/_shared/chunk-2NH4LW52.js";var g$=qe((_Q,cT)=>{cT.exports={}});var SN=qe((Eoe,Ma)=>{function hC(t){return Ma.exports=hC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma.exports.__esModule=!0,Ma.exports.default=Ma.exports,hC(t)}Ma.exports=hC,Ma.exports.__esModule=!0,Ma.exports.default=Ma.exports});var MN=qe((Ioe,ka)=>{var EN=SN().default;function IN(){"use strict";ka.exports=IN=function(){return e},ka.exports.__esModule=!0,ka.exports.default=ka.exports;var t,e={},i=Object.prototype,r=i.hasOwnProperty,n=Object.defineProperty||function(G,X,Z){G[X]=Z.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(G,X,Z){return Object.defineProperty(G,X,{value:Z,enumerable:!0,configurable:!0,writable:!0}),G[X]}try{c({},"")}catch{c=function(Z,ye,ue){return Z[ye]=ue}}function u(G,X,Z,ye){var ue=X&&X.prototype instanceof x?X:x,xe=Object.create(ue.prototype),ke=new de(ye||[]);return n(xe,"_invoke",{value:R(G,Z,ke)}),xe}function d(G,X,Z){try{return{type:"normal",arg:G.call(X,Z)}}catch(ye){return{type:"throw",arg:ye}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",m="executing",p="completed",_={};function x(){}function y(){}function C(){}var k={};c(k,o,function(){return this});var M=Object.getPrototypeOf,v=M&&M(M(te([])));v&&v!==i&&r.call(v,o)&&(k=v);var I=C.prototype=x.prototype=Object.create(k);function E(G){["next","throw","return"].forEach(function(X){c(G,X,function(Z){return this._invoke(X,Z)})})}function T(G,X){function Z(ue,xe,ke,We){var Xe=d(G[ue],G,xe);if(Xe.type!=="throw"){var Ze=Xe.arg,st=Ze.value;return st&&EN(st)=="object"&&r.call(st,"__await")?X.resolve(st.__await).then(function(vt){Z("next",vt,ke,We)},function(vt){Z("throw",vt,ke,We)}):X.resolve(st).then(function(vt){Ze.value=vt,ke(Ze)},function(vt){return Z("throw",vt,ke,We)})}We(Xe.arg)}var ye;n(this,"_invoke",{value:function(xe,ke){function We(){return new X(function(Xe,Ze){Z(xe,ke,Xe,Ze)})}return ye=ye?ye.then(We,We):We()}})}function R(G,X,Z){var ye=f;return function(ue,xe){if(ye===m)throw Error("Generator is already running");if(ye===p){if(ue==="throw")throw xe;return{value:t,done:!0}}for(Z.method=ue,Z.arg=xe;;){var ke=Z.delegate;if(ke){var We=P(ke,Z);if(We){if(We===_)continue;return We}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(ye===f)throw ye=p,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);ye=m;var Xe=d(G,X,Z);if(Xe.type==="normal"){if(ye=Z.done?p:h,Xe.arg===_)continue;return{value:Xe.arg,done:Z.done}}Xe.type==="throw"&&(ye=p,Z.method="throw",Z.arg=Xe.arg)}}}function P(G,X){var Z=X.method,ye=G.iterator[Z];if(ye===t)return X.delegate=null,Z==="throw"&&G.iterator.return&&(X.method="return",X.arg=t,P(G,X),X.method==="throw")||Z!=="return"&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),_;var ue=d(ye,G.iterator,X.arg);if(ue.type==="throw")return X.method="throw",X.arg=ue.arg,X.delegate=null,_;var xe=ue.arg;return xe?xe.done?(X[G.resultName]=xe.value,X.next=G.nextLoc,X.method!=="return"&&(X.method="next",X.arg=t),X.delegate=null,_):xe:(X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,_)}function Y(G){var X={tryLoc:G[0]};1 in G&&(X.catchLoc=G[1]),2 in G&&(X.finallyLoc=G[2],X.afterLoc=G[3]),this.tryEntries.push(X)}function re(G){var X=G.completion||{};X.type="normal",delete X.arg,G.completion=X}function de(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(Y,this),this.reset(!0)}function te(G){if(G||G===""){var X=G[o];if(X)return X.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length)){var Z=-1,ye=function ue(){for(;++Z<G.length;)if(r.call(G,Z))return ue.value=G[Z],ue.done=!1,ue;return ue.value=t,ue.done=!0,ue};return ye.next=ye}}throw new TypeError(EN(G)+" is not iterable")}return y.prototype=C,n(I,"constructor",{value:C,configurable:!0}),n(C,"constructor",{value:y,configurable:!0}),y.displayName=c(C,l,"GeneratorFunction"),e.isGeneratorFunction=function(G){var X=typeof G=="function"&&G.constructor;return!!X&&(X===y||(X.displayName||X.name)==="GeneratorFunction")},e.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,C):(G.__proto__=C,c(G,l,"GeneratorFunction")),G.prototype=Object.create(I),G},e.awrap=function(G){return{__await:G}},E(T.prototype),c(T.prototype,a,function(){return this}),e.AsyncIterator=T,e.async=function(G,X,Z,ye,ue){ue===void 0&&(ue=Promise);var xe=new T(u(G,X,Z,ye),ue);return e.isGeneratorFunction(X)?xe:xe.next().then(function(ke){return ke.done?ke.value:xe.next()})},E(I),c(I,l,"Generator"),c(I,o,function(){return this}),c(I,"toString",function(){return"[object Generator]"}),e.keys=function(G){var X=Object(G),Z=[];for(var ye in X)Z.push(ye);return Z.reverse(),function ue(){for(;Z.length;){var xe=Z.pop();if(xe in X)return ue.value=xe,ue.done=!1,ue}return ue.done=!0,ue}},e.values=te,de.prototype={constructor:de,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(re),!X)for(var Z in this)Z.charAt(0)==="t"&&r.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=t)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var Z=this;function ye(Ze,st){return ke.type="throw",ke.arg=X,Z.next=Ze,st&&(Z.method="next",Z.arg=t),!!st}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var xe=this.tryEntries[ue],ke=xe.completion;if(xe.tryLoc==="root")return ye("end");if(xe.tryLoc<=this.prev){var We=r.call(xe,"catchLoc"),Xe=r.call(xe,"finallyLoc");if(We&&Xe){if(this.prev<xe.catchLoc)return ye(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return ye(xe.finallyLoc)}else if(We){if(this.prev<xe.catchLoc)return ye(xe.catchLoc,!0)}else{if(!Xe)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return ye(xe.finallyLoc)}}}},abrupt:function(X,Z){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var ue=this.tryEntries[ye];if(ue.tryLoc<=this.prev&&r.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var xe=ue;break}}xe&&(X==="break"||X==="continue")&&xe.tryLoc<=Z&&Z<=xe.finallyLoc&&(xe=null);var ke=xe?xe.completion:{};return ke.type=X,ke.arg=Z,xe?(this.method="next",this.next=xe.finallyLoc,_):this.complete(ke)},complete:function(X,Z){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&Z&&(this.next=Z),_},finish:function(X){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ye=this.tryEntries[Z];if(ye.finallyLoc===X)return this.complete(ye.completion,ye.afterLoc),re(ye),_}},catch:function(X){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ye=this.tryEntries[Z];if(ye.tryLoc===X){var ue=ye.completion;if(ue.type==="throw"){var xe=ue.arg;re(ye)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(X,Z,ye){return this.delegate={iterator:te(X),resultName:Z,nextLoc:ye},this.method==="next"&&(this.arg=t),_}},e}ka.exports=IN,ka.exports.__esModule=!0,ka.exports.default=ka.exports});var fC=qe((Moe,kN)=>{var dv=MN()();kN.exports=dv;try{regeneratorRuntime=dv}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=dv:Function("r","regeneratorRuntime = r")(dv)}});var WN=qe($N=>{"use strict";var vh=be();function Zq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qq=typeof Object.is=="function"?Object.is:Zq,e6=vh.useState,t6=vh.useEffect,i6=vh.useLayoutEffect,r6=vh.useDebugValue;function n6(t,e){var i=e(),r=e6({inst:{value:i,getSnapshot:e}}),n=r[0].inst,s=r[1];return i6(function(){n.value=i,n.getSnapshot=e,bC(n)&&s({inst:n})},[t,i,e]),t6(function(){return bC(n)&&s({inst:n}),t(function(){bC(n)&&s({inst:n})})},[t]),r6(i),i}function bC(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Qq(t,i)}catch{return!0}}function s6(t,e){return e()}var o6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s6:n6;$N.useSyncExternalStore=vh.useSyncExternalStore!==void 0?vh.useSyncExternalStore:o6});var UN=qe((lae,qN)=>{"use strict";qN.exports=WN()});var QO=qe(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.OutputAreaByRef=void 0;var fV=(Ii(),ga(zc)),$v=Ce(),mV=fV.__importDefault(be());Wv.OutputAreaByRef=mV.default.forwardRef(({busy:t,content:e},i)=>(0,$v.jsx)("div",{children:(0,$v.jsxs)("div",Object.assign({className:"m-1 hover:delay-15"},{children:[(0,$v.jsx)("div",Object.assign({className:"p-1 rounded",ref:i},{children:e||"[Output Area]"})),t&&(0,$v.jsx)("div",{children:"Cell is running..."})]}))}))});var JC=qe(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0});var pV="0.5.0";KC.default=pV});function gV(t,e){let i=new URL(e);return`${t}-${i.origin+i.pathname}`}function qv(t,e,i){let r=`${e}/build/${i}`,n=`${e}/v2/${i}`;return{build:r,launch:n,storageKey:gV(t,r)}}function _V(t){if(!t.binder.repo)throw Error("repo is required for git provider");let{repo:e,binderUrl:i,ref:r}=t.binder,n=encodeURIComponent(e.replace(/(^\/)|(\/?$)/g,"")),s=i?.replace(/(\/?$)/g,""),o=`git/${n}/${r??"HEAD"}`;return qv(t.savedSessions.storagePrefix,s,o)}function vV(t){var e,i,r;if(!t.binder.repo)throw Error("repo is required for gitlab provider");let n=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),o=`gl/${encodeURIComponent(((i=t.binder.repo)!==null&&i!==void 0?i:"").replace(/^(https?:\/\/)?gitlab.com\//,"").replace(/(^\/)|(\/?$)/g,""))}/${(r=t.binder.ref)!==null&&r!==void 0?r:"HEAD"}`;return qv(t.savedSessions.storagePrefix,n,o)}function bV(t){var e,i;if(!t.binder.repo)throw Error("repo is required for github provider");let r=t.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),n=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),s=`gh/${r}/${(i=t.binder.ref)!==null&&i!==void 0?i:"HEAD"}`;return qv(t.savedSessions.storagePrefix,n,s)}function xV(t){var e,i;if(!t.binder.repo)throw Error("repo is required for gist provider");let r=t.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),n=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),s=`gist/${r}/${(i=t.binder.ref)!==null&&i!==void 0?i:"HEAD"}`;return qv(t.savedSessions.storagePrefix,n,s)}function Vv(t,e){var i,r;let n=(i=e.reduce((o,a)=>Object.assign(Object.assign({},o),{[a.name]:a}),{}))!==null&&i!==void 0?i:{},s=(r=t.binder.repoProvider)!==null&&r!==void 0?r:"github";if(!Object.keys(n).includes(s))throw Error(`Unknown provider ${t.binder.repoProvider}`);if(!n[s].makeUrls)throw Error(`No makeUrls function for ${s}`);return n[s].makeUrls(t)}var yV,wV,CV,SV,Uv,ez=F(()=>{yV={name:"github",makeUrls:bV},wV={name:"gitlab",makeUrls:vV},CV={name:"git",makeUrls:_V},SV={name:"gist",makeUrls:xV},Uv=[yV,wV,CV,SV]});function EV(t){let e=window.localStorage.getItem(t);if(!e)return;let i=JSON.parse(e);window.localStorage.setItem(t,JSON.stringify(Object.assign(Object.assign({},i),{lastUsed:new Date})))}function tz(t,e,i){try{let{baseUrl:r,token:n,wsUrl:s}=i;window.localStorage.setItem(t,JSON.stringify({id:e,baseUrl:r,token:n,wsUrl:s,lastUsed:new Date}))}catch(r){console.warn("Couldn't save thebe binder connection info to local storage",r)}}function iz(t,e){return dt(this,void 0,void 0,function*(){if(!t.enabled)return null;let i=window.localStorage.getItem(e);if(i==null)return console.debug("thebe:getExistingServer No session saved in ",e),null;console.debug("thebe:getExistingServer Saved binder session found");let r=JSON.parse(i??""),n=new Date(r.lastUsed);if((new Date().getTime()-n.getTime())/1e3>t.maxAge)return console.debug(`thebe:getExistingServer Not using expired binder session for ${r.baseUrl} from ${n}`),window.localStorage.removeItem(e),null;try{yield Gv.KernelAPI.listRunning(Gv.ServerConnection.makeSettings(r))}catch(a){return console.debug("thebe:getExistingServer Saved binder connection appears to be invalid, requesting new session",a),window.localStorage.removeItem(e),null}return EV(e),console.debug(`thebe:getExistingServer Saved binder session is valid and will be reused ${r.baseUrl}`),r})}function rz(t="thebe-binder"){let e=[];for(let i=0;i<window.localStorage.length;i++){let r=window.localStorage.key(i);r?.startsWith(t)&&e.push(r)}console.debug(`thebe:clearAllSavedSessions - removing ${e.length} saved sessions`,e.join(",")),e.forEach(i=>window.localStorage.removeItem(i))}function nz(t){console.debug(`thebe:clearSavedSession - removing ${t}`),window.localStorage.removeItem(t)}var Gv,ZC=F(()=>{Ii();Gv=H(Hy())});function Yv(t){var e;return t.traceback?Array.isArray(t.traceback)?`${t.evalue}
${((e=t.traceback)!==null&&e!==void 0?e:[]).join("")}`:`${t.evalue}
${JSON.stringify(t.traceback)}`:t.evalue}var Pi,Rs,QC,An,Yl,oo,Rr,Lh,od,Oa=F(()=>{(function(t){t.launching="launching",t.ready="server-ready",t.closed="closed",t.unknown="unknown"})(Pi||(Pi={}));(function(t){t.starting="starting",t.ready="ready",t.shutdown="shutdown"})(Rs||(Rs={}));(function(t){t.starting="starting",t.ready="ready",t.shutdown="shutdown"})(QC||(QC={}));(function(t){t.attached="attached",t.detached="detached",t.executing="executing",t.idle="idle"})(An||(An={}));(function(t){t.attached="attached",t.detached="detached",t.executing="executing",t.idle="idle"})(Yl||(Yl={}));(function(t){t.server="server",t.session="session",t.kernel="kernel",t.notebook="notebook",t.cell="cell"})(oo||(oo={}));(function(t){t.warning="warning",t.executeError="execute-error",t.error="error",t.server="server-error",t.session="session-error"})(Rr||(Rr={}));(function(t){t.status="status",t.error="error"})(Lh||(Lh={}));od=class{constructor(){this.listeners={}}_ensureMap(e){e in this.listeners||(this.listeners[e]=new Map)}trigger(e,i){e in this.listeners&&this.listeners[e].forEach(({unbind:r},n)=>{n(e,i),r&&this.listeners[e].delete(n)})}on(e,i){return this._ensureMap(e),this.listeners[e].set(i,{unbind:!1}),()=>this.off(e,i)}one(e,i){return this._ensureMap(e),this.listeners[e].set(i,{unbind:!0}),()=>this.off(e,i)}off(e,i){e in this.listeners&&this.listeners[e].delete(i)}}});var Nh,za,sz=F(()=>{Nh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new za.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new za.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof za.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new za.LinkedListNode(this,e),n=i,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof za.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new za.LinkedListNode(this,e),n=i,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof za.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let r=new t;return r.assign(i),r}t.from=e})(Nh||(Nh={}));(function(t){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}t.LinkedListNode=e})(za||(za={}))});var ln,Xl,Re,Xv=F(()=>{_a();sz();ln=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},Xl=class extends ln{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(E=>T=>{let R=!1;return E.then(()=>!R&&T()),()=>{R=!0}})(Promise.resolve());function r(E,T){let R=f.get(E);if(!R||R.length===0){x(E,T);return}Ml(Tl(R),Y=>Y?_(Y,E,T):!0)&&x(E,T)}t.sendMessage=r;function n(E,T){if(!T.isConflatable){y(E,T);return}kl(d,P=>P.handler!==E||!P.msg||P.msg.type!==T.type||!P.msg.isConflatable?!1:P.msg.conflate(T))||y(E,T)}t.postMessage=n;function s(E,T){let R=f.get(E);R&&R.indexOf(T)!==-1||(R?R.push(T):f.set(E,[T]))}t.installMessageHook=s;function o(E,T){let R=f.get(E);if(!R)return;let P=R.indexOf(T);P!==-1&&(R[P]=null,k(R))}t.removeMessageHook=o;function a(E){let T=f.get(E);T&&T.length>0&&(B.fill(T,null),k(T));for(let R of d)R.handler===E&&(R.handler=null,R.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,C(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function u(E){let T=m;return m=E,T}t.setExceptionHandler=u;let d=new Nh,f=new WeakMap,h=new Set,m=E=>{console.error(E)},p=!1;function _(E,T,R){let P=!0;try{typeof E=="function"?P=E(T,R):P=E.messageHook(T,R)}catch(Y){m(Y)}return P}function x(E,T){try{E.processMessage(T)}catch(R){m(R)}}function y(E,T){d.addLast({handler:E,msg:T}),e===null&&(e=i(C))}function C(){if(e=null,d.isEmpty)return;let E={handler:null,msg:null};for(d.addLast(E);;){let T=d.removeFirst();if(T===E)return;T.handler&&T.msg&&r(T.handler,T.msg)}}function k(E){h.size===0&&i(M),h.add(E)}function M(){h.forEach(v),h.clear()}function v(E){B.removeAllWhere(E,I)}function I(E){return E===null}})(Re||(Re={}))});var Zi,Vr,oz=F(()=>{Al();Zi=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:i,edge:r,distance:n}=this._scrollTarget,s=Vr.SCROLL_EDGE_SIZE-n,o=Math.pow(s/Vr.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*Vr.SCROLL_EDGE_SIZE));switch(r){case"top":i.scrollTop-=a;break;case"left":i.scrollLeft-=a;break;case"right":i.scrollLeft+=a;break;case"bottom":i.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Vr.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,i){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,i),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:i});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,i){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${i}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Vr.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let i=Vr.dispatchDrop(this,this._currentTarget,e);this._finalize(i)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let i=Vr.findScrollTarget(e);!this._scrollTarget&&!i||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=i)}_updateCurrentTarget(e){let i=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=Vr.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&Vr.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=Vr.dispatchDragEnter(this,s,r,e)),r!==i&&(this._currentTarget=r,Vr.dispatchDragLeave(this,i,r,e));let o=Vr.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,i){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${i}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Vr.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=Zi.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=Zi.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=Zi.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=Zi.overrideCursor("move",this.document);break}}_finalize(e){let i=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,i&&i(e)}};(function(t){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}t.Event=e;function i(r,n=document){return Vr.overrideCursor(r,n)}t.overrideCursor=i})(Zi||(Zi={}));(function(t){t.SCROLL_EDGE_SIZE=20;function e(k,M){return d[k]&f[M]?k:"none"}t.validateAction=e;function i(k,M=document){if(k){if(r&&k==r.event)return r.element;t.cursorBackdrop.style.zIndex="-1000";let v=M.elementFromPoint(k.clientX,k.clientY);return t.cursorBackdrop.style.zIndex="",r={event:k,element:v},v}else{let v=t.cursorBackdrop.style.transform;if(n&&v===n.transform)return n.element;let I=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";let E=M.elementFromPoint(I.left+I.width/2,I.top+I.height/2);return t.cursorBackdrop.style.zIndex="",n={transform:v,element:E},E}}t.findElementBehindBackdrop=i;let r=null,n=null;function s(k){let M=k.clientX,v=k.clientY,I=i(k);for(;I;I=I.parentElement){if(!I.hasAttribute("data-lm-dragscroll"))continue;let E=0,T=0;I===document.body&&(E=window.pageXOffset,T=window.pageYOffset);let R=I.getBoundingClientRect(),P=R.top+T,Y=R.left+E,re=Y+R.width,de=P+R.height;if(M<Y||M>=re||v<P||v>=de)continue;let te=M-Y+1,G=v-P+1,X=re-M,Z=de-v,ye=Math.min(te,G,X,Z);if(ye>t.SCROLL_EDGE_SIZE)continue;let ue;switch(ye){case Z:ue="bottom";break;case G:ue="top";break;case X:ue="right";break;case te:ue="left";break;default:throw"unreachable"}let xe=I.scrollWidth-I.clientWidth,ke=I.scrollHeight-I.clientHeight,We;switch(ue){case"top":We=ke>0&&I.scrollTop>0;break;case"left":We=xe>0&&I.scrollLeft>0;break;case"right":We=xe>0&&I.scrollLeft<xe;break;case"bottom":We=ke>0&&I.scrollTop<ke;break;default:throw"unreachable"}if(We)return{element:I,edge:ue,distance:ye}}return null}t.findScrollTarget=s;function o(k,M,v,I){if(!M)return null;let E=new Zi.Event(I,{drag:k,related:v,type:"lm-dragenter"});if(!M.dispatchEvent(E))return M;let R=k.document instanceof Document?k.document.body:k.document.firstElementChild;return M===R?v:(E=new Zi.Event(I,{drag:k,related:v,type:"lm-dragenter"}),R.dispatchEvent(E),R)}t.dispatchDragEnter=o;function a(k,M,v,I){if(!M)return;let E=new Zi.Event(I,{drag:k,related:v,type:"lm-dragexit"});M.dispatchEvent(E)}t.dispatchDragExit=a;function l(k,M,v,I){if(!M)return;let E=new Zi.Event(I,{drag:k,related:v,type:"lm-dragleave"});M.dispatchEvent(E)}t.dispatchDragLeave=l;function c(k,M,v){if(!M)return"none";let I=new Zi.Event(v,{drag:k,related:null,type:"lm-dragover"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDragOver=c;function u(k,M,v){if(!M)return"none";let I=new Zi.Event(v,{drag:k,related:null,type:"lm-drop"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(k,M=document){let v=++C,I=M instanceof Document?M.body:M.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",I.appendChild(t.cursorBackdrop),_(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=k,new _s(()=>{v===C&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),t.cursorBackdrop.removeEventListener("scroll",p,!0),I.removeChild(t.cursorBackdrop))})}t.overrideCursor=h;function m(k){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${k.clientX}px, ${k.clientY}px)`)}function p(k){if(!t.cursorBackdrop)return;let M=i();if(!M)return;let v=M.closest("[data-lm-dragscroll]");v&&(v.scrollTop+=t.cursorBackdrop.scrollTop-x,v.scrollLeft+=t.cursorBackdrop.scrollLeft-x,_())}function _(){t.cursorBackdrop.scrollTop=x,t.cursorBackdrop.scrollLeft=x}let x=500;function y(){let k=document.createElement("div");return k.classList.add("lm-cursor-backdrop"),k}let C=0;t.cursorBackdrop=y()})(Vr||(Vr={}))});var ja,jo,Vn,Jm,me,Kv,$o,ld,Dh,Oh,Zm,Qm,ao,Ba,eS,Jv,Zv,tS,cd,iS,ep,rS,Gn,ad,Qv,nS,zh,Pa,Fo,cn,az,IV,Kl,Ls,sS,Bi,dd,Ti,Ha,ur,Ph,eb,lz,cz,oS,dz,uz,lS=F(()=>{_a();ja=H(Hr());s_();Xv();_m();gs();oz();a_();l_();Al();o_();jo=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let _=s[p],x=_.minSize,y=_.maxSize,C=_.sizeHint;_.done=!1,_.size=Math.max(x,Math.min(C,y)),u+=_.size,l+=x,c+=y,_.stretch>0&&(d+=_.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size-k<=C.minSize?(p-=C.size-C.minSize,d-=C.stretch,C.size=C.minSize,C.done=!0,m--,f--):(p-=k,C.size-=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size-_<=y.minSize?(p-=y.size-y.minSize,y.size=y.minSize,y.done=!0,m--):(p-=_,y.size-=_))}}}else{let p=o-u;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size+k>=C.maxSize?(p-=C.maxSize-C.size,d-=C.stretch,C.size=C.maxSize,C.done=!0,m--,f--):(p-=k,C.size+=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size+_>=y.maxSize?(p-=y.maxSize-y.size,y.size=y.maxSize,y.done=!0,m--):(p-=_,y.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}t.adjust=i;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(Vn||(Vn={}));Jm=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Te(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Te.clearData(this))}},me=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Te(this),this._hiddenMode=me.HiddenMode.Display,this.node=Kv.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(me.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&me.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Te.clearData(this),Re.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(me.Flag.IsDisposed)}get isAttached(){return this.testFlag(me.Flag.IsAttached)}get isHidden(){return this.testFlag(me.Flag.IsHidden)}get isVisible(){return this.testFlag(me.Flag.IsVisible)}get title(){return Kv.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==me.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new me.ChildMessage("child-removed",this);Re.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new me.ChildMessage("child-added",this);Re.sendMessage(this._parent,i)}this.isDisposed||Re.sendMessage(this,me.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(me.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Re.postMessage(this,me.Msg.UpdateRequest)}fit(){Re.postMessage(this,me.Msg.FitRequest)}activate(){Re.postMessage(this,me.Msg.ActivateRequest)}close(){Re.sendMessage(this,me.Msg.CloseRequest)}show(){if(this.testFlag(me.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Re.sendMessage(this,me.Msg.BeforeShow),this.clearFlag(me.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Re.sendMessage(this,me.Msg.AfterShow),this.parent)){let e=new me.ChildMessage("child-shown",this);Re.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(me.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Re.sendMessage(this,me.Msg.BeforeHide),this.setFlag(me.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Re.sendMessage(this,me.Msg.AfterHide),this.parent)){let e=new me.ChildMessage("child-hidden",this);Re.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(me.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(me.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(me.Flag.IsVisible),this.setFlag(me.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(me.Flag.IsVisible),this.clearFlag(me.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&me.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case me.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case me.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case me.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case me.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case me.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case me.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new ln("before-show"),s.AfterShow=new ln("after-show"),s.BeforeHide=new ln("before-hide"),s.AfterHide=new ln("after-hide"),s.BeforeAttach=new ln("before-attach"),s.AfterAttach=new ln("after-attach"),s.BeforeDetach=new ln("before-detach"),s.AfterDetach=new ln("after-detach"),s.ParentChanged=new ln("parent-changed"),s.UpdateRequest=new Xl("update-request"),s.FitRequest=new Xl("fit-request"),s.ActivateRequest=new Xl("activate-request"),s.CloseRequest=new Xl("close-request")}(t.Msg||(t.Msg={}));class e extends ln{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends ln{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Re.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),Re.sendMessage(s,t.Msg.AfterAttach)}t.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Re.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Re.sendMessage(s,t.Msg.AfterDetach)}t.detach=n})(me||(me={}));(function(t){t.titleProperty=new ut({name:"title",create:i=>new Jm({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(Kv||(Kv={}));$o=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Te.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)Re.sendMessage(i,me.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)Re.sendMessage(i,me.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)Re.sendMessage(i,e)}onAfterAttach(e){for(let i of this)Re.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)Re.sendMessage(i,e)}onAfterDetach(e){for(let i of this)Re.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||Re.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||Re.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||Re.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||Re.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return Dh.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){Dh.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function r(s){return Dh.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=r;function n(s,o){Dh.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=n})($o||($o={}));ld=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Ie.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch($o.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch($o.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(n-o)/2;break;case"bottom":i+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new me.ResizeMessage(s,o);Re.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(Dh||(Dh={}));Oh=class extends $o{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let r=this._widgets.indexOf(i),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){B.insert(this._widgets,n,i),this.parent&&this.attachWidget(n,i);return}n===this._widgets.length&&n--,r!==n&&(B.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=B.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let r=this.parent.node.children[e];this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,r),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterAttach)}moveWidget(e,i,r){this.parent.isAttached&&Re.sendMessage(r,me.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&Re.sendMessage(r,me.Msg.AfterDetach);let n=this.parent.node.children[i];this.parent.isAttached&&Re.sendMessage(r,me.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&Re.sendMessage(r,me.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(Zm||(Zm={}));Qm=Zm,ao=class extends Oh{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Zm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Zm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Ba.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=Ba.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=i-r.offsetLeft:n=i-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);Vn.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let r=new ld(i),n=Ba.createHandle(this.renderer),s=Ba.averageSize(this._sizers),o=Ba.createSizer(s);B.insert(this._items,e,r),B.insert(this._sizers,e,o),B.insert(this._handles,e,n),this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(n),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),B.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let r=B.removeAt(this._items,e),n=B.removeAt(this._handles,e);B.removeAt(this._sizers,e),this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(n),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=ao.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Ie.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Re.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&Re.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=Vn.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(t){function e(r){return Ba.stretchProperty.get(r)}t.getStretch=e;function i(r,n){Ba.stretchProperty.set(r,n)}t.setStretch=i})(ao||(ao={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new jo;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=n;function s(o){o.parent&&o.parent.layout instanceof ao&&o.parent.fit()}})(Ba||(Ba={}));eS=class extends ao{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Qm.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=Jv.createTitle(this.renderer,i.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,i){i.id||(i.id=`id-${ja.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let r=Jv.createTitle(this.renderer,i.title);B.insert(this._titles,e,r),this.parent.node.appendChild(r),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,i)}moveWidget(e,i,r){B.move(this._titles,e,i),super.moveWidget(e,i,r)}detachWidget(e,i){let r=B.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,i)}updateItemPosition(e,i,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,r,n,s,o,a)}};(function(t){function e(i,r,n=!0){let s=i.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(Jv||(Jv={}));Zv=class extends me{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=tS.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new Oh}t.createLayout=e})(tS||(tS={}));cd=class extends Zv{constructor(e={}){super({layout:iS.createLayout(e)}),this._handleMoved=new Te(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=B.findFirstIndex(i.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=i.handles[r],o=s.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=Zi.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?i=e.clientX-n.left-this._pressData.delta:i=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(n){return ao.getStretch(n)}t.getStretch=i;function r(n,s){ao.setStretch(n,s)}t.setStretch=r})(cd||(cd={}));(function(t){function e(i){return i.layout||new ao({renderer:i.renderer||cd.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(iS||(iS={}));ep=class extends cd{constructor(e={}){super({...e,layout:rS.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Te(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=B.findFirstIndex(this.widgets,r=>r.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,r=i.widgets[e];if(!r)return;let n=r.isHidden,s=i.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let r=B.findFirstIndex(this.titles,n=>n.contains(i));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,r=!1;if(i){let n=B.findFirstIndex(this.titles,s=>s.contains(i));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),r.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends cd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(ep||(ep={}));(function(t){function e(i){return i.layout||new eS({renderer:i.renderer||ep.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(rS||(rS={}));Gn=class extends Oh{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Qm.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Qm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){B.insert(this._items,e,new ld(i)),B.insert(this._sizers,e,new jo),this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);B.removeAt(this._sizers,e),this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=ad.isHorizontal(this._direction),r=i?this._fixed:0,n=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=Gn.getSizeBasis(c.widget),u.stretch=Gn.getStretch(c.widget),i?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Ie.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Re.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&Re.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=Vn.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=Vn.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=Vn.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=Vn.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return ad.stretchProperty.get(s)}t.getStretch=e;function i(s,o){ad.stretchProperty.set(s,o)}t.setStretch=i;function r(s){return ad.sizeBasisProperty.get(s)}t.getSizeBasis=r;function n(s,o){ad.sizeBasisProperty.set(s,o)}t.setSizeBasis=n})(Gn||(Gn={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),t.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}t.isHorizontal=e;function i(n){return Math.max(0,Math.floor(n))}t.clampSpacing=i;function r(n){n.parent&&n.parent.layout instanceof Gn&&n.parent.fit()}})(ad||(ad={}));Qv=class extends Zv{constructor(e={}){super({layout:nS.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return Gn.getStretch(s)}t.getStretch=e;function i(s,o){Gn.setStretch(s,o)}t.setStretch=i;function r(s){return Gn.getSizeBasis(s)}t.getSizeBasis=r;function n(s,o){Gn.setSizeBasis(s,o)}t.setSizeBasis=n})(Qv||(Qv={}));(function(t){function e(i){return i.layout||new Gn(i)}t.createLayout=e})(nS||(nS={}));zh=class extends me{constructor(e){super({node:Pa.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(me.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||zh.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=Pa.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(r=>Pa.createItem(this.commands,r));return i.forEach(r=>this._items.push(r)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){B.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=Pa.search(this._items,i),this._activeIndex=i?B.findFirstIndex(n,Pa.canActivate):-1),!i&&n.length===0){Vt.render(null,r);return}if(i&&n.length===0){let l=this.renderer.renderEmptyMessage({query:i});Vt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Vt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Ie.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=B.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<i-1?e+1:0,n=r===0?i-1:r-1;this._activeIndex=B.findFirstIndex(this._results,Pa.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<=0?i-1:e-1,n=r===i-1?0:r+1;this._activeIndex=B.findLastIndex(this._results,Pa.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let r=this.inputNode;r.value=`${i.category.toLowerCase()} `,r.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(r){let n=this.formatHeader(r);return Se.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?Se.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):Se.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return Se.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return Se.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return Se.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return Se.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:Br.highlight(r.category,r.indices,Se.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:Br.highlight(r.item.label,r.indices,Se.mark)}formatItemCaption(r){return r.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(zh||(zh={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new d(f,h)}t.createItem=i;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}t.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let y=l(x,h);y&&(x.isEnabled||(y.score+=1e3),m.push(y))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,x=1/0,y=null,C=/\b\w/g;for(;;){let E=C.exec(_);if(!E)break;let T=Br.matchSumOfDeltas(_,h,E.index);if(!T)break;T.score<=x&&(x=T.score,y=T.indices)}if(!y||x===1/0)return null;let k=m.length+1,M=B.lowerBound(y,k,(E,T)=>E-T),v=y.slice(0,M),I=y.slice(M);for(let E=0,T=I.length;E<T;++E)I[E]-=k;return v.length===0?{matchType:0,categoryIndices:null,labelIndices:I,score:x,item:f}:I.length===0?{matchType:1,categoryIndices:v,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:v,labelIndices:I,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,x=0;switch(f.matchType){case 0:_=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],x=h.categoryIndices[0];break}if(_!==x)return _-x;let y=f.item.category.localeCompare(h.item.category);if(y!==0)return y;let C=f.item.rank,k=h.item.rank;return C!==k?C<k?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:x,labelIndices:y}=f[m],C=_.category;(m===0||C!==f[m-1].item.category)&&h.push({type:"header",category:C,indices:x}),h.push({type:"item",item:_,indices:y})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||ja.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return B.findLastValue(this._commands.keyBindings,p=>p.command===h&&ja.JSONExt.deepEqual(p.args,m))||null}}})(Pa||(Pa={}));Fo=class extends me{constructor(e){super({node:cn.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Te(this),this._menuRequested=new Te(this),this.addClass("lm-Menu"),this.setFlag(me.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Fo.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!cn.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,r=i<e-1?i+1:0,n=r===0?e-1:r-1;this.activeIndex=B.findFirstIndex(this._items,cn.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,r=i<=0?e-1:i-1,n=r===e-1?0:r+1;this.activeIndex=B.findLastIndex(this._items,cn.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:r}=e;this.commands.isEnabled(i,r)?this.commands.execute(i,r):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=cn.createItem(this,i);return B.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,B.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";cn.openRootMenu(this,e,i,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,r=this.renderer,n=this._activeIndex,s=cn.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Vt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=cn.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:r}=e;if(Ie.hitTest(this._childMenu.node,i,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(cn.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let r=i.submenu;if(r===this._childMenu)return;Fo.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,Re.sendMessage(this,me.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];cn.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},cn.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},cn.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){cn.saveWindowData()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return Se.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Fo||(Fo={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function r(){return i>0?(i--,e):u()}function n(){e=u(),i++}t.saveWindowData=n;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,x){for(let y=p;y;y=y.childMenu)if(Ie.hitTest(y.node,_,x))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);B.fill(_,!1);let x=0,y=p.length;for(;x<y;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;_[x]=!0}}let C=y-1;for(;C>=0;--C){let M=p[C];if(M.isVisible){if(M.type!=="separator")break;_[C]=!0}}let k=!1;for(;++x<C;){let M=p[x];M.isVisible&&(M.type!=="separator"?k=!1:k?_[x]=!0:k=!0)}return _}t.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,_,x,y,C,k,M,v){let I=r(),E=I.pageXOffset,T=I.pageYOffset,R=I.clientWidth,P=I.clientHeight;Re.sendMessage(p,me.Msg.UpdateRequest);let Y=P-(C?x:0),re=p.node,de=re.style;de.opacity="0",de.maxHeight=`${Y}px`,me.attach(p,M||document.body,v);let{width:te,height:G}=re.getBoundingClientRect();k==="right"&&(_-=te),!y&&_+te>E+R&&(_=E+R-te),!C&&x+G>T+P&&(x>T+P?x=T+P-G:x=x-G),de.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,x)}px`,de.opacity="1"}t.openRootMenu=d;function f(p,_){let x=r(),y=x.pageXOffset,C=x.pageYOffset,k=x.clientWidth,M=x.clientHeight;Re.sendMessage(p,me.Msg.UpdateRequest);let v=M,I=p.node,E=I.style;E.opacity="0",E.maxHeight=`${v}px`,me.attach(p,document.body);let{width:T,height:R}=I.getBoundingClientRect(),P=Ie.boxSizing(p.node),Y=_.getBoundingClientRect(),re=Y.right-t.SUBMENU_OVERLAP;re+T>y+k&&(re=Y.left+t.SUBMENU_OVERLAP-T);let de=Y.top-P.borderTop-P.paddingTop;de+R>C+M&&(de=Y.bottom+P.borderBottom+P.paddingBottom-R),E.transform=`translate(${Math.max(0,re)}px, ${Math.max(0,de)}px`,E.opacity="1"}t.openSubmenu=f;function h(p,_,x){let y=-1,C=-1,k=!1,M=_.toUpperCase();for(let v=0,I=p.length;v<I;++v){let E=(v+x)%I,T=p[E];if(!o(T))continue;let R=T.label;if(R.length===0)continue;let P=T.mnemonic;if(P>=0&&P<R.length){R[P].toUpperCase()===M&&(y===-1?y=E:k=!0);continue}C===-1&&R[0].toUpperCase()===M&&(C=E)}return{index:y,multiple:k,auto:C}}t.findMnemonic=h;class m{constructor(_,x){this._commands=_,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||ja.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:x}=this;return B.findLastValue(this._commands.keyBindings,y=>y.command===_&&ja.JSONExt.deepEqual(y.args,x))||null}return null}}})(cn||(cn={}));(function(t){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let x=h[p];x&&Vi.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}t.matchItems=i;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!Vi.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=Vi.calculateSpecificity(o.selector),c=Vi.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(az||(az={}));IV=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Kl=class extends me{constructor(e={}){super({node:Ls.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Te(this),this._currentChanged=new Te(this),this._addRequested=new Te(this),this._tabCloseRequested=new Te(this),this._tabDetachRequested=new Te(this),this._tabActivateRequested=new Te(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(me.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Kl.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,r=this._titles[i]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let r=Ls.asTitle(i),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(B.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(B.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=B.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Vt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,r=B.findFirstIndex(i,o=>Ie.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=i[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=B.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(IV.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=B.findFirstIndex(r,o=>Ie.hitTest(o,e.clientX,e.clientY));if(n===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!i.dragActive&&!Ls.dragExceeded(i,e))){if(!i.dragActive){let n=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=n.width,i.tabPressPos=i.pressX-n.left):(i.tabPos=i.tab.offsetTop,i.tabSize=n.height,i.tabPressPos=i.pressY-n.top),i.tabPressOffset={x:i.pressX-n.left,y:i.pressY-n.top},i.tabLayout=Ls.snapTabLayout(r,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=Zi.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Ls.detachExceeded(i,e)){i.detachRequested=!0;let n=i.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Ls.layoutTabs(r,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=B.findFirstIndex(s,c=>Ie.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Ls.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let r=Ls.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Ls.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let n=i.index,s=i.targetIndex;s===-1||n===s||(B.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),Re.sendMessage(this,me.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Ls.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:i});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return Se.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return Se.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(Kl||(Kl={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}t.createNode=e;function i(u){return u instanceof Jm?u:new Jm(u)}t.asTitle=i;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}t.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],_=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-t.DETACH_THRESHOLD||d.clientX>=f.right+t.DETACH_THRESHOLD||d.clientY<f.top-t.DETACH_THRESHOLD||d.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(u,d,f,h){let m,p,_,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,_=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,_=f.clientY,x=d.contentRect.height);let y=d.index,C=p-d.tabPressPos,k=C+d.tabSize;for(let M=0,v=u.length;M<v;++M){let I,E=d.tabLayout[M],T=E.pos+(E.size>>1);if(M<d.index&&C<T)I=`${d.tabSize+d.tabLayout[M+1].margin}px`,y=Math.min(y,M);else if(M>d.index&&k>T)I=`${-d.tabSize-E.margin}px`,y=Math.max(y,M);else if(M===d.index){let R=_-m,P=x-(d.tabPos+d.tabSize);I=`${Math.max(-d.tabPos,Math.min(R,P))}px`}else I="";h==="horizontal"?u[M].style.left=I:u[M].style.top=I}d.targetIndex=y}t.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let _=u.tabLayout[u.targetIndex];h=_.pos+_.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Ls||(Ls={}));sS=class extends $o{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Qm.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:me.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let r of i.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Qm.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():fi()}widgets(){return this._root?this._root.iterUserWidgets():fi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():fi()}tabBars(){return this._root?this._root.iterTabBars():fi()}handles(){return this._root?this._root.iterHandles():fi()}moveHandle(e,i,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),Vn.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,r;e.main?r=Bi.normalizeAreaConfig(e.main,i):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;r?this._root=Bi.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let r=i.ref||null,n=i.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=i-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new ld(e)),this.parent.isAttached&&Re.sendMessage(e,me.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Re.sendMessage(e,me.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Re.sendMessage(e,me.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Re.sendMessage(e,me.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Bi.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===me.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=me.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let r=i.parent;i.parent=null;let n=B.removeFirstOf(r.children,i),s=B.removeAt(r.handles,n);if(B.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Bi.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=B.removeAt(c.handles,u);B.removeAt(c.children,u),B.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];B.insert(c.children,u+f,m),B.insert(c.handles,u+f,p),B.insert(c.sizers,u+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Bi.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Bi.addAria(e,i.tabBar),i}_insertTab(e,i,r,n){if(e===i)return;if(!this._root){let o=new Bi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Bi.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=r.tabBar.titles.indexOf(i.title):s=r.tabBar.currentIndex,this._hiddenMode===me.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=me.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=me.HiddenMode.Scale}else e.hiddenMode=me.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Bi.addAria(e,r.tabBar)}_insertSplit(e,i,r,n,s,o=!1){if(e===i&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Bi.createSizer(r?1:Bi.GOLDEN_RATIO),p=this._createTabNode(e);B.insert(f.children,h,p),B.insert(f.sizers,h,m),B.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let _=f+(s?1:-1),x=a.children[_];if(x instanceof Bi.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);B.insert(a.children,m,p),B.insert(a.sizers,m,Bi.createSizer(h)),B.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=B.removeFirstOf(a.children,r),c=new Bi.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Bi.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);B.insert(c.children,u,d),B.insert(c.sizers,u,Bi.createSizer(.5)),B.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),B.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Bi.SplitLayoutNode&&i.orientation===e)return i;let r=this._root=new Bi.SplitLayoutNode(e);return i&&(r.children.push(i),r.sizers.push(Bi.createSizer(0)),r.handles.push(this._createHandle()),i.parent=r),r}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Re.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&Re.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new jo;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}t.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new jo,p=new jo;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,x=1/0,y=1/0,C=m.get(this.tabBar),k=this.tabBar.currentTitle,M=k?m.get(k.owner):void 0,[v,I]=this.sizers;return C&&C.fit(),M&&M.fit(),C&&!C.isHidden?(p=Math.max(p,C.minWidth),_+=C.minHeight,v.minSize=C.minHeight,v.maxSize=C.maxHeight):(v.minSize=0,v.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),_+=M.minHeight,I.minSize=M.minHeight,I.maxSize=1/0):(I.minSize=0,I.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:x,maxHeight:y}}update(h,m,p,_,x,y){this._top=m,this._left=h,this._width=p,this._height=_;let C=y.get(this.tabBar),k=this.tabBar.currentTitle,M=k?y.get(k.owner):void 0;if(Vn.calc(this.sizers,_),C&&!C.isHidden){let v=this.sizers[0].size;C.update(h,m,p,v),m+=v}if(M&&!M.isHidden){let v=this.sizers[1].size;M.update(h,m,p,v)}}}t.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,x)=>_+x,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,x=p?_:0,y=p?0:_,C=1/0,k=1/0;for(let M=0,v=this.children.length;M<v;++M){let I=this.children[M].fit(h,m);p?(y=Math.max(y,I.minHeight),x+=I.minWidth,this.sizers[M].minSize=I.minWidth):(x=Math.max(x,I.minWidth),y+=I.minHeight,this.sizers[M].minSize=I.minHeight)}return{minWidth:x,minHeight:y,maxWidth:C,maxHeight:k}}update(h,m,p,_,x,y){let C=this.orientation==="horizontal",k=Math.max(0,this.children.length-1)*x,M=Math.max(0,(C?p:_)-k);if(this.normalized){for(let v of this.sizers)v.sizeHint*=M;this.normalized=!1}Vn.calc(this.sizers,M);for(let v=0,I=this.children.length;v<I;++v){let E=this.children[v],T=this.sizers[v].size,R=this.handles[v].style;C?(E.update(h,m,T,_,x,y),h+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${x}px`,R.height=`${_}px`,h+=x):(E.update(h,m,p,T,x,y),m+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${p}px`,R.height=`${x}px`,m+=x)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Kl.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let x=0,y=f.children.length;x<y;++x){let C=i(f.children[x],h);C&&(C.type==="tab-area"||C.orientation!==m?(p.push(C),_.push(Math.abs(f.sizes[x]||0))):(p.push(...C.children),_.push(...C.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function u(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,x)=>{let y=r(_,h,m),C=e(f.sizes[x]),k=h.createHandle();p.children.push(y),p.handles.push(k),p.sizers.push(C),y.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Bi||(Bi={}));dd=class extends me{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Te(this),this._addRequested=new Te(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||dd.defaultRenderer,this._edges=e.edges||Ti.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new sS({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new dd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let r of i.tabBars())r.show();break;case"single-document":i.restoreLayout(Ti.createSingleDocumentConfig(this));break;default:throw"unreachable"}Re.postMessage(this,Ti.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=ps(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ui.IS_EDGE||Ui.IS_IE)&&Re.flush(),Re.postMessage(this,Ti.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),Re.postMessage(this,Ti.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Ti.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Ti.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Re.postMessage(this,Ti.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:r}=e,{zone:n,target:s}=Ti.findDropTarget(this,i,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof me)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Ti.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Re.postMessage(this,Ti.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=e.target,n=ps(i.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=Zi.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),r=e.clientX-i.left-this._pressData.deltaX,n=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Re.postMessage(this,Ti.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:r,target:n}=Ti.findDropTarget(this,e,i,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Ie.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Ti.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Ti.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Ti.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Ti.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Ti.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Re.postMessage(this,Ti.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:r,currentTitle:n}=i;r&&r.owner.hide(),n&&n.owner.show(),(Ui.IS_EDGE||Ui.IS_IE)&&Re.flush(),Re.postMessage(this,Ti.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=i,l=new ja.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new Zi({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}t.Overlay=e;class i{createTabBar(n){let s=new Kl({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}t.Renderer=i,t.defaultRenderer=new i})(dd||(dd={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new Xl("layout-modified"),t.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(n,s,o,a){if(!Ie.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let C=n.node.getBoundingClientRect(),k=s-C.left+1,M=o-C.top+1,v=C.right-s,I=C.bottom-o;switch(Math.min(M,v,I,k)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case v:if(v<a.right)return{zone:"root-right",target:null};break;case I:if(I<a.bottom)return{zone:"root-bottom",target:null};break;case k:if(k<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(u>p&&f>p&&d>_&&h>_)return{zone:"widget-all",target:c};u/=p,d/=_,f/=p,h/=_;let x=Math.min(u,d,f,h),y;switch(x){case u:y="widget-left";break;case d:y="widget-top";break;case f:y="widget-right";break;case h:y="widget-bottom";break;default:throw"unreachable"}return{zone:y,target:c}}t.findDropTarget=i;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}t.getDropRef=r})(Ti||(Ti={}));Ha=class extends $o{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new jo],this._columnSizers=[new jo],this._box=null,e.rowCount!==void 0&&ur.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&ur.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=ur.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=ur.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(ur.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(ur.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=ur.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=ur.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let r=this._rowSizers[e];r&&(i=ur.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let r=this._columnSizers[e];r&&(i=ur.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){B.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new ld(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=B.findFirstIndex(this._items,n=>n.widget===e);if(i===-1)return;let r=B.removeAt(this._items,i);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Re.sendMessage(e,me.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Re.sendMessage(e,me.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Re.sendMessage(e,me.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Re.sendMessage(e,me.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,r=this.columnCount-1;e.sort(ur.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=Ha.getCellConfig(u.widget),f=Math.min(d.row,i),h=Math.min(d.row+d.rowSpan-1,i);ur.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(ur.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=Ha.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);ur.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){Re.sendMessage(this.parent,me.Msg.UpdateRequest);return}let n=i*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Ie.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Re.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&Re.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;Vn.calc(this._rowSizers,Math.max(0,o-c)),Vn.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=Ha.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),y=Math.min(m.column+m.columnSpan-1,l),C=this._columnStarts[_],k=this._rowStarts[p],M=this._columnStarts[y]+this._columnSizers[y].size-C,v=this._rowStarts[x]+this._rowSizers[x].size-k;h.update(C,k,M,v)}}};(function(t){function e(r){return ur.cellConfigProperty.get(r)}t.getCellConfig=e;function i(r,n){ur.cellConfigProperty.set(r,ur.normalizeConfig(n))}t.setCellConfig=i})(Ha||(Ha={}));(function(t){t.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function r(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}t.rowSpanCmp=r;function n(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}t.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new jo);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof Ha&&l.parent.fit()}})(ur||(ur={}));Ph=class extends me{constructor(e={}){super({node:eb.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(me.Flag.DisallowLayout),this.renderer=e.renderer||Ph.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,r=!0){this._closeChildMenu();let n=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){B.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(B.move(this._menus,n,s),r&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let r=B.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new Fo({commands:new jr}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let _=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),u[a]=n.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Vt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>i&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>i){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=eb.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Ie.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=B.findFirstIndex(this.contentNode.children,r=>Ie.hitTest(r,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let r=this._positionForMenu(i);Fo.saveWindowData(),this.activeIndex=i,this._openChildMenu(r)}}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let r=i>=0&&this._childMenu?this._positionForMenu(i):null;Fo.saveWindowData(),this.activeIndex=i,r&&this._openChildMenu(r)}_positionForMenu(e){let i=this.contentNode.children[e],{left:r,bottom:n}=i.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let r=this._childMenu;if(r===i)return;this._childMenu=i,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Re.sendMessage(this,me.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),i.items.length>0&&i.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(i){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(Ph||(Ph={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}t.createNode=e;function i(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(eb||(eb={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}t.createNode=e;function i(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}t.findPart=i})(lz||(lz={}));cz=class extends $o{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Re.sendMessage(e,me.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Re.sendMessage(e,me.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Re.sendMessage(e,me.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Re.sendMessage(e,me.Msg.AfterDetach)}},oS=class extends Oh{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:me.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===me.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=me.HiddenMode.Scale),i.hiddenMode=me.HiddenMode.Scale):i.hiddenMode=me.HiddenMode.Display,B.insert(this._items,e,new ld(i)),this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);this.parent.isAttached&&Re.sendMessage(i,me.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Re.sendMessage(i,me.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===me.HiddenMode.Scale&&(i.hiddenMode=me.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=me.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Re.sendMessage(this.parent.parent,me.Msg.FitRequest),this._dirty&&Re.sendMessage(this.parent,me.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(t){function e(i){return i.layout||new oS}t.createLayout=e})(dz||(dz={}));(function(t){function e(s){return r[s]}t.orientationFromPlacement=e;function i(s){return n[s]}t.directionFromPlacement=i;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(uz||(uz={}))});var hz=F(()=>{});var cS,tb,Bh,fz=F(()=>{jy();cS=H(Hr());gs();tb=class{constructor(e){this.trusted=!1,this._changed=new Te(this),this._raw={};let i=Bh.getData(e.value);this._data=new c_({values:i}),this._rawData=i;let r=e.value;for(let n in r)switch(n){case"data":break;default:this._raw[n]=Bh.extract(r,n)}}get changed(){return this._changed}dispose(){this._data.dispose(),Te.clearData(this)}get data(){return this._rawData}get metadata(){return{}}setData(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),this._changed.emit(void 0)}toJSON(){let e={};for(let i in this._raw)e[i]=Bh.extract(this._raw,i);return e}_updateObservable(e,i){let r=e.keys(),n=Object.keys(i);for(let s of r)n.indexOf(s)===-1&&e.delete(s);for(let s of n){let o=e.get(s),a=i[s];o!==a&&e.set(s,a)}}};(function(t){function e(i){return Bh.getData(i)}t.getData=e})(tb||(tb={}));(function(t){function e(s){return n(s)}t.getData=e;function i(s){return{data:e(s.value)}}t.getBundleOptions=i;function r(s,o){let a=s[o];return a===void 0||cS.JSONExt.isPrimitive(a)?a:cS.JSONExt.deepCopy(a)}t.extract=r;function n(s){let o=Object.create(null);for(let a in s)o[a]=r(s,a);return o}})(Bh||(Bh={}))});var Hh,Fa,mz=F(()=>{Hh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new Fa.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new Fa.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof Fa.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new Fa.LinkedListNode(this,e),n=i,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof Fa.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new Fa.LinkedListNode(this,e),n=i,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Fa.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let r=new t;return r.assign(i),r}t.from=e})(Hh||(Hh={}));(function(t){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}t.LinkedListNode=e})(Fa||(Fa={}))});var dn,Jl,De,pz=F(()=>{_a();mz();dn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},Jl=class extends dn{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(E=>T=>{let R=!1;return E.then(()=>!R&&T()),()=>{R=!0}})(Promise.resolve());function r(E,T){let R=f.get(E);if(!R||R.length===0){x(E,T);return}Ml(Tl(R),Y=>Y?_(Y,E,T):!0)&&x(E,T)}t.sendMessage=r;function n(E,T){if(!T.isConflatable){y(E,T);return}kl(d,P=>P.handler!==E||!P.msg||P.msg.type!==T.type||!P.msg.isConflatable?!1:P.msg.conflate(T))||y(E,T)}t.postMessage=n;function s(E,T){let R=f.get(E);R&&R.indexOf(T)!==-1||(R?R.push(T):f.set(E,[T]))}t.installMessageHook=s;function o(E,T){let R=f.get(E);if(!R)return;let P=R.indexOf(T);P!==-1&&(R[P]=null,k(R))}t.removeMessageHook=o;function a(E){let T=f.get(E);T&&T.length>0&&(B.fill(T,null),k(T));for(let R of d)R.handler===E&&(R.handler=null,R.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,C(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function u(E){let T=m;return m=E,T}t.setExceptionHandler=u;let d=new Hh,f=new WeakMap,h=new Set,m=E=>{console.error(E)},p=!1;function _(E,T,R){let P=!0;try{typeof E=="function"?P=E(T,R):P=E.messageHook(T,R)}catch(Y){m(Y)}return P}function x(E,T){try{E.processMessage(T)}catch(R){m(R)}}function y(E,T){d.addLast({handler:E,msg:T}),e===null&&(e=i(C))}function C(){if(e=null,d.isEmpty)return;let E={handler:null,msg:null};for(d.addLast(E);;){let T=d.removeFirst();if(T===E)return;T.handler&&T.msg&&r(T.handler,T.msg)}}function k(E){h.size===0&&i(M),h.add(E)}function M(){h.forEach(v),h.clear()}function v(E){B.removeAllWhere(E,I)}function I(E){return E===null}})(De||(De={}))});var Qi,Gr,gz=F(()=>{Al();Qi=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:i,edge:r,distance:n}=this._scrollTarget,s=Gr.SCROLL_EDGE_SIZE-n,o=Math.pow(s/Gr.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*Gr.SCROLL_EDGE_SIZE));switch(r){case"top":i.scrollTop-=a;break;case"left":i.scrollLeft-=a;break;case"right":i.scrollLeft+=a;break;case"bottom":i.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Gr.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,i){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,i),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:i});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,i){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${i}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Gr.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let i=Gr.dispatchDrop(this,this._currentTarget,e);this._finalize(i)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let i=Gr.findScrollTarget(e);!this._scrollTarget&&!i||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=i)}_updateCurrentTarget(e){let i=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=Gr.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&Gr.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=Gr.dispatchDragEnter(this,s,r,e)),r!==i&&(this._currentTarget=r,Gr.dispatchDragLeave(this,i,r,e));let o=Gr.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,i){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${i}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Gr.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=Qi.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=Qi.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=Qi.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=Qi.overrideCursor("move",this.document);break}}_finalize(e){let i=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,i&&i(e)}};(function(t){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}t.Event=e;function i(r,n=document){return Gr.overrideCursor(r,n)}t.overrideCursor=i})(Qi||(Qi={}));(function(t){t.SCROLL_EDGE_SIZE=20;function e(k,M){return d[k]&f[M]?k:"none"}t.validateAction=e;function i(k,M=document){if(k){if(r&&k==r.event)return r.element;t.cursorBackdrop.style.zIndex="-1000";let v=M.elementFromPoint(k.clientX,k.clientY);return t.cursorBackdrop.style.zIndex="",r={event:k,element:v},v}else{let v=t.cursorBackdrop.style.transform;if(n&&v===n.transform)return n.element;let I=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";let E=M.elementFromPoint(I.left+I.width/2,I.top+I.height/2);return t.cursorBackdrop.style.zIndex="",n={transform:v,element:E},E}}t.findElementBehindBackdrop=i;let r=null,n=null;function s(k){let M=k.clientX,v=k.clientY,I=i(k);for(;I;I=I.parentElement){if(!I.hasAttribute("data-lm-dragscroll"))continue;let E=0,T=0;I===document.body&&(E=window.pageXOffset,T=window.pageYOffset);let R=I.getBoundingClientRect(),P=R.top+T,Y=R.left+E,re=Y+R.width,de=P+R.height;if(M<Y||M>=re||v<P||v>=de)continue;let te=M-Y+1,G=v-P+1,X=re-M,Z=de-v,ye=Math.min(te,G,X,Z);if(ye>t.SCROLL_EDGE_SIZE)continue;let ue;switch(ye){case Z:ue="bottom";break;case G:ue="top";break;case X:ue="right";break;case te:ue="left";break;default:throw"unreachable"}let xe=I.scrollWidth-I.clientWidth,ke=I.scrollHeight-I.clientHeight,We;switch(ue){case"top":We=ke>0&&I.scrollTop>0;break;case"left":We=xe>0&&I.scrollLeft>0;break;case"right":We=xe>0&&I.scrollLeft<xe;break;case"bottom":We=ke>0&&I.scrollTop<ke;break;default:throw"unreachable"}if(We)return{element:I,edge:ue,distance:ye}}return null}t.findScrollTarget=s;function o(k,M,v,I){if(!M)return null;let E=new Qi.Event(I,{drag:k,related:v,type:"lm-dragenter"});if(!M.dispatchEvent(E))return M;let R=k.document instanceof Document?k.document.body:k.document.firstElementChild;return M===R?v:(E=new Qi.Event(I,{drag:k,related:v,type:"lm-dragenter"}),R.dispatchEvent(E),R)}t.dispatchDragEnter=o;function a(k,M,v,I){if(!M)return;let E=new Qi.Event(I,{drag:k,related:v,type:"lm-dragexit"});M.dispatchEvent(E)}t.dispatchDragExit=a;function l(k,M,v,I){if(!M)return;let E=new Qi.Event(I,{drag:k,related:v,type:"lm-dragleave"});M.dispatchEvent(E)}t.dispatchDragLeave=l;function c(k,M,v){if(!M)return"none";let I=new Qi.Event(v,{drag:k,related:null,type:"lm-dragover"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDragOver=c;function u(k,M,v){if(!M)return"none";let I=new Qi.Event(v,{drag:k,related:null,type:"lm-drop"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(k,M=document){let v=++C,I=M instanceof Document?M.body:M.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",I.appendChild(t.cursorBackdrop),_(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=k,new _s(()=>{v===C&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),t.cursorBackdrop.removeEventListener("scroll",p,!0),I.removeChild(t.cursorBackdrop))})}t.overrideCursor=h;function m(k){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${k.clientX}px, ${k.clientY}px)`)}function p(k){if(!t.cursorBackdrop)return;let M=i();if(!M)return;let v=M.closest("[data-lm-dragscroll]");v&&(v.scrollTop+=t.cursorBackdrop.scrollTop-x,v.scrollLeft+=t.cursorBackdrop.scrollLeft-x,_())}function _(){t.cursorBackdrop.scrollTop=x,t.cursorBackdrop.scrollLeft=x}let x=500;function y(){let k=document.createElement("div");return k.classList.add("lm-cursor-backdrop"),k}let C=0;t.cursorBackdrop=y()})(Gr||(Gr={}))});var Ua,Wo,Yn,tp,pe,ib,Uo,hd,jh,Fh,ip,rp,lo,Wa,dS,rb,nb,uS,fd,hS,np,fS,Xn,ud,sb,mS,$h,$a,qo,un,_z,kV,Zl,Ns,pS,Hi,md,Ai,qa,hr,Wh,ob,vz,bz,gS,xz,yz,wz=F(()=>{_a();Ua=H(Hr());s_();pz();_m();gs();gz();a_();l_();Al();o_();Wo=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let _=s[p],x=_.minSize,y=_.maxSize,C=_.sizeHint;_.done=!1,_.size=Math.max(x,Math.min(C,y)),u+=_.size,l+=x,c+=y,_.stretch>0&&(d+=_.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size-k<=C.minSize?(p-=C.size-C.minSize,d-=C.stretch,C.size=C.minSize,C.done=!0,m--,f--):(p-=k,C.size-=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size-_<=y.minSize?(p-=y.size-y.minSize,y.size=y.minSize,y.done=!0,m--):(p-=_,y.size-=_))}}}else{let p=o-u;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size+k>=C.maxSize?(p-=C.maxSize-C.size,d-=C.stretch,C.size=C.maxSize,C.done=!0,m--,f--):(p-=k,C.size+=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size+_>=y.maxSize?(p-=y.maxSize-y.size,y.size=y.maxSize,y.done=!0,m--):(p-=_,y.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}t.adjust=i;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(Yn||(Yn={}));tp=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Te(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Te.clearData(this))}},pe=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Te(this),this._hiddenMode=pe.HiddenMode.Display,this.node=ib.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(pe.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&pe.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Te.clearData(this),De.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(pe.Flag.IsDisposed)}get isAttached(){return this.testFlag(pe.Flag.IsAttached)}get isHidden(){return this.testFlag(pe.Flag.IsHidden)}get isVisible(){return this.testFlag(pe.Flag.IsVisible)}get title(){return ib.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==pe.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new pe.ChildMessage("child-removed",this);De.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new pe.ChildMessage("child-added",this);De.sendMessage(this._parent,i)}this.isDisposed||De.sendMessage(this,pe.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(pe.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){De.postMessage(this,pe.Msg.UpdateRequest)}fit(){De.postMessage(this,pe.Msg.FitRequest)}activate(){De.postMessage(this,pe.Msg.ActivateRequest)}close(){De.sendMessage(this,pe.Msg.CloseRequest)}show(){if(this.testFlag(pe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,pe.Msg.BeforeShow),this.clearFlag(pe.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,pe.Msg.AfterShow),this.parent)){let e=new pe.ChildMessage("child-shown",this);De.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(pe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,pe.Msg.BeforeHide),this.setFlag(pe.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&De.sendMessage(this,pe.Msg.AfterHide),this.parent)){let e=new pe.ChildMessage("child-hidden",this);De.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(pe.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(pe.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(pe.Flag.IsVisible),this.setFlag(pe.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(pe.Flag.IsVisible),this.clearFlag(pe.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&pe.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case pe.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case pe.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case pe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case pe.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case pe.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case pe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new dn("before-show"),s.AfterShow=new dn("after-show"),s.BeforeHide=new dn("before-hide"),s.AfterHide=new dn("after-hide"),s.BeforeAttach=new dn("before-attach"),s.AfterAttach=new dn("after-attach"),s.BeforeDetach=new dn("before-detach"),s.AfterDetach=new dn("after-detach"),s.ParentChanged=new dn("parent-changed"),s.UpdateRequest=new Jl("update-request"),s.FitRequest=new Jl("fit-request"),s.ActivateRequest=new Jl("activate-request"),s.CloseRequest=new Jl("close-request")}(t.Msg||(t.Msg={}));class e extends dn{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends dn{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");De.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),De.sendMessage(s,t.Msg.AfterAttach)}t.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");De.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),De.sendMessage(s,t.Msg.AfterDetach)}t.detach=n})(pe||(pe={}));(function(t){t.titleProperty=new ut({name:"title",create:i=>new tp({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(ib||(ib={}));Uo=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Te.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)De.sendMessage(i,pe.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)De.sendMessage(i,pe.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)De.sendMessage(i,e)}onAfterAttach(e){for(let i of this)De.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)De.sendMessage(i,e)}onAfterDetach(e){for(let i of this)De.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||De.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return jh.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){jh.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function r(s){return jh.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=r;function n(s,o){jh.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=n})(Uo||(Uo={}));hd=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Ie.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(Uo.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(Uo.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(n-o)/2;break;case"bottom":i+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new pe.ResizeMessage(s,o);De.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(jh||(jh={}));Fh=class extends Uo{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let r=this._widgets.indexOf(i),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){B.insert(this._widgets,n,i),this.parent&&this.attachWidget(n,i);return}n===this._widgets.length&&n--,r!==n&&(B.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=B.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let r=this.parent.node.children[e];this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,r),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterAttach)}moveWidget(e,i,r){this.parent.isAttached&&De.sendMessage(r,pe.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&De.sendMessage(r,pe.Msg.AfterDetach);let n=this.parent.node.children[i];this.parent.isAttached&&De.sendMessage(r,pe.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&De.sendMessage(r,pe.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(ip||(ip={}));rp=ip,lo=class extends Fh{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=ip.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=ip.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Wa.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=Wa.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=i-r.offsetLeft:n=i-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);Yn.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let r=new hd(i),n=Wa.createHandle(this.renderer),s=Wa.averageSize(this._sizers),o=Wa.createSizer(s);B.insert(this._items,e,r),B.insert(this._sizers,e,o),B.insert(this._handles,e,n),this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(n),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),B.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let r=B.removeAt(this._items,e),n=B.removeAt(this._handles,e);B.removeAt(this._sizers,e),this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(n),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=lo.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Ie.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=Yn.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(t){function e(r){return Wa.stretchProperty.get(r)}t.getStretch=e;function i(r,n){Wa.stretchProperty.set(r,n)}t.setStretch=i})(lo||(lo={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new Wo;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=n;function s(o){o.parent&&o.parent.layout instanceof lo&&o.parent.fit()}})(Wa||(Wa={}));dS=class extends lo{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=rp.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=rb.createTitle(this.renderer,i.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,i){i.id||(i.id=`id-${Ua.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let r=rb.createTitle(this.renderer,i.title);B.insert(this._titles,e,r),this.parent.node.appendChild(r),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,i)}moveWidget(e,i,r){B.move(this._titles,e,i),super.moveWidget(e,i,r)}detachWidget(e,i){let r=B.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,i)}updateItemPosition(e,i,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,r,n,s,o,a)}};(function(t){function e(i,r,n=!0){let s=i.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(rb||(rb={}));nb=class extends pe{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=uS.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new Fh}t.createLayout=e})(uS||(uS={}));fd=class extends nb{constructor(e={}){super({layout:hS.createLayout(e)}),this._handleMoved=new Te(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=B.findFirstIndex(i.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=i.handles[r],o=s.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=Qi.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?i=e.clientX-n.left-this._pressData.delta:i=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(n){return lo.getStretch(n)}t.getStretch=i;function r(n,s){lo.setStretch(n,s)}t.setStretch=r})(fd||(fd={}));(function(t){function e(i){return i.layout||new lo({renderer:i.renderer||fd.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(hS||(hS={}));np=class extends fd{constructor(e={}){super({...e,layout:fS.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Te(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=B.findFirstIndex(this.widgets,r=>r.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,r=i.widgets[e];if(!r)return;let n=r.isHidden,s=i.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let r=B.findFirstIndex(this.titles,n=>n.contains(i));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,r=!1;if(i){let n=B.findFirstIndex(this.titles,s=>s.contains(i));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),r.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends fd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(np||(np={}));(function(t){function e(i){return i.layout||new dS({renderer:i.renderer||np.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(fS||(fS={}));Xn=class extends Fh{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=rp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=rp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){B.insert(this._items,e,new hd(i)),B.insert(this._sizers,e,new Wo),this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);B.removeAt(this._sizers,e),this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=ud.isHorizontal(this._direction),r=i?this._fixed:0,n=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=Xn.getSizeBasis(c.widget),u.stretch=Xn.getStretch(c.widget),i?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Ie.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=Yn.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=Yn.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=Yn.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=Yn.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return ud.stretchProperty.get(s)}t.getStretch=e;function i(s,o){ud.stretchProperty.set(s,o)}t.setStretch=i;function r(s){return ud.sizeBasisProperty.get(s)}t.getSizeBasis=r;function n(s,o){ud.sizeBasisProperty.set(s,o)}t.setSizeBasis=n})(Xn||(Xn={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),t.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}t.isHorizontal=e;function i(n){return Math.max(0,Math.floor(n))}t.clampSpacing=i;function r(n){n.parent&&n.parent.layout instanceof Xn&&n.parent.fit()}})(ud||(ud={}));sb=class extends nb{constructor(e={}){super({layout:mS.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return Xn.getStretch(s)}t.getStretch=e;function i(s,o){Xn.setStretch(s,o)}t.setStretch=i;function r(s){return Xn.getSizeBasis(s)}t.getSizeBasis=r;function n(s,o){Xn.setSizeBasis(s,o)}t.setSizeBasis=n})(sb||(sb={}));(function(t){function e(i){return i.layout||new Xn(i)}t.createLayout=e})(mS||(mS={}));$h=class extends pe{constructor(e){super({node:$a.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(pe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||$h.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=$a.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(r=>$a.createItem(this.commands,r));return i.forEach(r=>this._items.push(r)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){B.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=$a.search(this._items,i),this._activeIndex=i?B.findFirstIndex(n,$a.canActivate):-1),!i&&n.length===0){Vt.render(null,r);return}if(i&&n.length===0){let l=this.renderer.renderEmptyMessage({query:i});Vt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Vt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Ie.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=B.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<i-1?e+1:0,n=r===0?i-1:r-1;this._activeIndex=B.findFirstIndex(this._results,$a.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<=0?i-1:e-1,n=r===i-1?0:r+1;this._activeIndex=B.findLastIndex(this._results,$a.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let r=this.inputNode;r.value=`${i.category.toLowerCase()} `,r.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(r){let n=this.formatHeader(r);return Se.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?Se.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):Se.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return Se.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return Se.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return Se.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return Se.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:Br.highlight(r.category,r.indices,Se.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:Br.highlight(r.item.label,r.indices,Se.mark)}formatItemCaption(r){return r.item.caption}}t.Renderer=e,t.defaultRenderer=new e})($h||($h={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new d(f,h)}t.createItem=i;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}t.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let y=l(x,h);y&&(x.isEnabled||(y.score+=1e3),m.push(y))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,x=1/0,y=null,C=/\b\w/g;for(;;){let E=C.exec(_);if(!E)break;let T=Br.matchSumOfDeltas(_,h,E.index);if(!T)break;T.score<=x&&(x=T.score,y=T.indices)}if(!y||x===1/0)return null;let k=m.length+1,M=B.lowerBound(y,k,(E,T)=>E-T),v=y.slice(0,M),I=y.slice(M);for(let E=0,T=I.length;E<T;++E)I[E]-=k;return v.length===0?{matchType:0,categoryIndices:null,labelIndices:I,score:x,item:f}:I.length===0?{matchType:1,categoryIndices:v,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:v,labelIndices:I,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,x=0;switch(f.matchType){case 0:_=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],x=h.categoryIndices[0];break}if(_!==x)return _-x;let y=f.item.category.localeCompare(h.item.category);if(y!==0)return y;let C=f.item.rank,k=h.item.rank;return C!==k?C<k?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:x,labelIndices:y}=f[m],C=_.category;(m===0||C!==f[m-1].item.category)&&h.push({type:"header",category:C,indices:x}),h.push({type:"item",item:_,indices:y})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||Ua.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return B.findLastValue(this._commands.keyBindings,p=>p.command===h&&Ua.JSONExt.deepEqual(p.args,m))||null}}})($a||($a={}));qo=class extends pe{constructor(e){super({node:un.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Te(this),this._menuRequested=new Te(this),this.addClass("lm-Menu"),this.setFlag(pe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||qo.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!un.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,r=i<e-1?i+1:0,n=r===0?e-1:r-1;this.activeIndex=B.findFirstIndex(this._items,un.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,r=i<=0?e-1:i-1,n=r===e-1?0:r+1;this.activeIndex=B.findLastIndex(this._items,un.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:r}=e;this.commands.isEnabled(i,r)?this.commands.execute(i,r):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=un.createItem(this,i);return B.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,B.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";un.openRootMenu(this,e,i,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,r=this.renderer,n=this._activeIndex,s=un.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Vt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=un.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:r}=e;if(Ie.hitTest(this._childMenu.node,i,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(un.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let r=i.submenu;if(r===this._childMenu)return;qo.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,De.sendMessage(this,pe.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];un.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},un.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},un.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){un.saveWindowData()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return Se.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(qo||(qo={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function r(){return i>0?(i--,e):u()}function n(){e=u(),i++}t.saveWindowData=n;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,x){for(let y=p;y;y=y.childMenu)if(Ie.hitTest(y.node,_,x))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);B.fill(_,!1);let x=0,y=p.length;for(;x<y;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;_[x]=!0}}let C=y-1;for(;C>=0;--C){let M=p[C];if(M.isVisible){if(M.type!=="separator")break;_[C]=!0}}let k=!1;for(;++x<C;){let M=p[x];M.isVisible&&(M.type!=="separator"?k=!1:k?_[x]=!0:k=!0)}return _}t.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,_,x,y,C,k,M,v){let I=r(),E=I.pageXOffset,T=I.pageYOffset,R=I.clientWidth,P=I.clientHeight;De.sendMessage(p,pe.Msg.UpdateRequest);let Y=P-(C?x:0),re=p.node,de=re.style;de.opacity="0",de.maxHeight=`${Y}px`,pe.attach(p,M||document.body,v);let{width:te,height:G}=re.getBoundingClientRect();k==="right"&&(_-=te),!y&&_+te>E+R&&(_=E+R-te),!C&&x+G>T+P&&(x>T+P?x=T+P-G:x=x-G),de.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,x)}px`,de.opacity="1"}t.openRootMenu=d;function f(p,_){let x=r(),y=x.pageXOffset,C=x.pageYOffset,k=x.clientWidth,M=x.clientHeight;De.sendMessage(p,pe.Msg.UpdateRequest);let v=M,I=p.node,E=I.style;E.opacity="0",E.maxHeight=`${v}px`,pe.attach(p,document.body);let{width:T,height:R}=I.getBoundingClientRect(),P=Ie.boxSizing(p.node),Y=_.getBoundingClientRect(),re=Y.right-t.SUBMENU_OVERLAP;re+T>y+k&&(re=Y.left+t.SUBMENU_OVERLAP-T);let de=Y.top-P.borderTop-P.paddingTop;de+R>C+M&&(de=Y.bottom+P.borderBottom+P.paddingBottom-R),E.transform=`translate(${Math.max(0,re)}px, ${Math.max(0,de)}px`,E.opacity="1"}t.openSubmenu=f;function h(p,_,x){let y=-1,C=-1,k=!1,M=_.toUpperCase();for(let v=0,I=p.length;v<I;++v){let E=(v+x)%I,T=p[E];if(!o(T))continue;let R=T.label;if(R.length===0)continue;let P=T.mnemonic;if(P>=0&&P<R.length){R[P].toUpperCase()===M&&(y===-1?y=E:k=!0);continue}C===-1&&R[0].toUpperCase()===M&&(C=E)}return{index:y,multiple:k,auto:C}}t.findMnemonic=h;class m{constructor(_,x){this._commands=_,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||Ua.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:x}=this;return B.findLastValue(this._commands.keyBindings,y=>y.command===_&&Ua.JSONExt.deepEqual(y.args,x))||null}return null}}})(un||(un={}));(function(t){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let x=h[p];x&&Vi.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}t.matchItems=i;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!Vi.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=Vi.calculateSpecificity(o.selector),c=Vi.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(_z||(_z={}));kV=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Zl=class extends pe{constructor(e={}){super({node:Ns.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Te(this),this._currentChanged=new Te(this),this._addRequested=new Te(this),this._tabCloseRequested=new Te(this),this._tabDetachRequested=new Te(this),this._tabActivateRequested=new Te(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(pe.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Zl.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,r=this._titles[i]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let r=Ns.asTitle(i),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(B.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(B.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=B.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Vt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,r=B.findFirstIndex(i,o=>Ie.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=i[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=B.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(kV.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=B.findFirstIndex(r,o=>Ie.hitTest(o,e.clientX,e.clientY));if(n===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!i.dragActive&&!Ns.dragExceeded(i,e))){if(!i.dragActive){let n=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=n.width,i.tabPressPos=i.pressX-n.left):(i.tabPos=i.tab.offsetTop,i.tabSize=n.height,i.tabPressPos=i.pressY-n.top),i.tabPressOffset={x:i.pressX-n.left,y:i.pressY-n.top},i.tabLayout=Ns.snapTabLayout(r,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=Qi.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Ns.detachExceeded(i,e)){i.detachRequested=!0;let n=i.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Ns.layoutTabs(r,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=B.findFirstIndex(s,c=>Ie.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Ns.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let r=Ns.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Ns.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let n=i.index,s=i.targetIndex;s===-1||n===s||(B.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),De.sendMessage(this,pe.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Ns.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:i});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return Se.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return Se.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(Zl||(Zl={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}t.createNode=e;function i(u){return u instanceof tp?u:new tp(u)}t.asTitle=i;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}t.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],_=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-t.DETACH_THRESHOLD||d.clientX>=f.right+t.DETACH_THRESHOLD||d.clientY<f.top-t.DETACH_THRESHOLD||d.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(u,d,f,h){let m,p,_,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,_=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,_=f.clientY,x=d.contentRect.height);let y=d.index,C=p-d.tabPressPos,k=C+d.tabSize;for(let M=0,v=u.length;M<v;++M){let I,E=d.tabLayout[M],T=E.pos+(E.size>>1);if(M<d.index&&C<T)I=`${d.tabSize+d.tabLayout[M+1].margin}px`,y=Math.min(y,M);else if(M>d.index&&k>T)I=`${-d.tabSize-E.margin}px`,y=Math.max(y,M);else if(M===d.index){let R=_-m,P=x-(d.tabPos+d.tabSize);I=`${Math.max(-d.tabPos,Math.min(R,P))}px`}else I="";h==="horizontal"?u[M].style.left=I:u[M].style.top=I}d.targetIndex=y}t.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let _=u.tabLayout[u.targetIndex];h=_.pos+_.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Ns||(Ns={}));pS=class extends Uo{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=rp.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:pe.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let r of i.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=rp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():fi()}widgets(){return this._root?this._root.iterUserWidgets():fi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():fi()}tabBars(){return this._root?this._root.iterTabBars():fi()}handles(){return this._root?this._root.iterHandles():fi()}moveHandle(e,i,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),Yn.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,r;e.main?r=Hi.normalizeAreaConfig(e.main,i):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;r?this._root=Hi.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let r=i.ref||null,n=i.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=i-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new hd(e)),this.parent.isAttached&&De.sendMessage(e,pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&De.sendMessage(e,pe.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&De.sendMessage(e,pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&De.sendMessage(e,pe.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Hi.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===pe.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=pe.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let r=i.parent;i.parent=null;let n=B.removeFirstOf(r.children,i),s=B.removeAt(r.handles,n);if(B.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Hi.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=B.removeAt(c.handles,u);B.removeAt(c.children,u),B.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];B.insert(c.children,u+f,m),B.insert(c.handles,u+f,p),B.insert(c.sizers,u+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Hi.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Hi.addAria(e,i.tabBar),i}_insertTab(e,i,r,n){if(e===i)return;if(!this._root){let o=new Hi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Hi.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=r.tabBar.titles.indexOf(i.title):s=r.tabBar.currentIndex,this._hiddenMode===pe.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=pe.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=pe.HiddenMode.Scale}else e.hiddenMode=pe.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Hi.addAria(e,r.tabBar)}_insertSplit(e,i,r,n,s,o=!1){if(e===i&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Hi.createSizer(r?1:Hi.GOLDEN_RATIO),p=this._createTabNode(e);B.insert(f.children,h,p),B.insert(f.sizers,h,m),B.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let _=f+(s?1:-1),x=a.children[_];if(x instanceof Hi.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);B.insert(a.children,m,p),B.insert(a.sizers,m,Hi.createSizer(h)),B.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=B.removeFirstOf(a.children,r),c=new Hi.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Hi.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);B.insert(c.children,u,d),B.insert(c.sizers,u,Hi.createSizer(.5)),B.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),B.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Hi.SplitLayoutNode&&i.orientation===e)return i;let r=this._root=new Hi.SplitLayoutNode(e);return i&&(r.children.push(i),r.sizers.push(Hi.createSizer(0)),r.handles.push(this._createHandle()),i.parent=r),r}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new Wo;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}t.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new Wo,p=new Wo;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,x=1/0,y=1/0,C=m.get(this.tabBar),k=this.tabBar.currentTitle,M=k?m.get(k.owner):void 0,[v,I]=this.sizers;return C&&C.fit(),M&&M.fit(),C&&!C.isHidden?(p=Math.max(p,C.minWidth),_+=C.minHeight,v.minSize=C.minHeight,v.maxSize=C.maxHeight):(v.minSize=0,v.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),_+=M.minHeight,I.minSize=M.minHeight,I.maxSize=1/0):(I.minSize=0,I.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:x,maxHeight:y}}update(h,m,p,_,x,y){this._top=m,this._left=h,this._width=p,this._height=_;let C=y.get(this.tabBar),k=this.tabBar.currentTitle,M=k?y.get(k.owner):void 0;if(Yn.calc(this.sizers,_),C&&!C.isHidden){let v=this.sizers[0].size;C.update(h,m,p,v),m+=v}if(M&&!M.isHidden){let v=this.sizers[1].size;M.update(h,m,p,v)}}}t.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,x)=>_+x,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,x=p?_:0,y=p?0:_,C=1/0,k=1/0;for(let M=0,v=this.children.length;M<v;++M){let I=this.children[M].fit(h,m);p?(y=Math.max(y,I.minHeight),x+=I.minWidth,this.sizers[M].minSize=I.minWidth):(x=Math.max(x,I.minWidth),y+=I.minHeight,this.sizers[M].minSize=I.minHeight)}return{minWidth:x,minHeight:y,maxWidth:C,maxHeight:k}}update(h,m,p,_,x,y){let C=this.orientation==="horizontal",k=Math.max(0,this.children.length-1)*x,M=Math.max(0,(C?p:_)-k);if(this.normalized){for(let v of this.sizers)v.sizeHint*=M;this.normalized=!1}Yn.calc(this.sizers,M);for(let v=0,I=this.children.length;v<I;++v){let E=this.children[v],T=this.sizers[v].size,R=this.handles[v].style;C?(E.update(h,m,T,_,x,y),h+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${x}px`,R.height=`${_}px`,h+=x):(E.update(h,m,p,T,x,y),m+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${p}px`,R.height=`${x}px`,m+=x)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Zl.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let x=0,y=f.children.length;x<y;++x){let C=i(f.children[x],h);C&&(C.type==="tab-area"||C.orientation!==m?(p.push(C),_.push(Math.abs(f.sizes[x]||0))):(p.push(...C.children),_.push(...C.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function u(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,x)=>{let y=r(_,h,m),C=e(f.sizes[x]),k=h.createHandle();p.children.push(y),p.handles.push(k),p.sizers.push(C),y.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Hi||(Hi={}));md=class extends pe{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Te(this),this._addRequested=new Te(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||md.defaultRenderer,this._edges=e.edges||Ai.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new pS({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new md.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let r of i.tabBars())r.show();break;case"single-document":i.restoreLayout(Ai.createSingleDocumentConfig(this));break;default:throw"unreachable"}De.postMessage(this,Ai.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=ps(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ui.IS_EDGE||Ui.IS_IE)&&De.flush(),De.postMessage(this,Ai.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),De.postMessage(this,Ai.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Ai.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Ai.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),De.postMessage(this,Ai.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:r}=e,{zone:n,target:s}=Ai.findDropTarget(this,i,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof pe)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Ai.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),De.postMessage(this,Ai.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=e.target,n=ps(i.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=Qi.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),r=e.clientX-i.left-this._pressData.deltaX,n=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),De.postMessage(this,Ai.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:r,target:n}=Ai.findDropTarget(this,e,i,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Ie.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Ai.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Ai.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Ai.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Ai.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Ai.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){De.postMessage(this,Ai.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:r,currentTitle:n}=i;r&&r.owner.hide(),n&&n.owner.show(),(Ui.IS_EDGE||Ui.IS_IE)&&De.flush(),De.postMessage(this,Ai.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=i,l=new Ua.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new Qi({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}t.Overlay=e;class i{createTabBar(n){let s=new Zl({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}t.Renderer=i,t.defaultRenderer=new i})(md||(md={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new Jl("layout-modified"),t.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(n,s,o,a){if(!Ie.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let C=n.node.getBoundingClientRect(),k=s-C.left+1,M=o-C.top+1,v=C.right-s,I=C.bottom-o;switch(Math.min(M,v,I,k)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case v:if(v<a.right)return{zone:"root-right",target:null};break;case I:if(I<a.bottom)return{zone:"root-bottom",target:null};break;case k:if(k<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(u>p&&f>p&&d>_&&h>_)return{zone:"widget-all",target:c};u/=p,d/=_,f/=p,h/=_;let x=Math.min(u,d,f,h),y;switch(x){case u:y="widget-left";break;case d:y="widget-top";break;case f:y="widget-right";break;case h:y="widget-bottom";break;default:throw"unreachable"}return{zone:y,target:c}}t.findDropTarget=i;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}t.getDropRef=r})(Ai||(Ai={}));qa=class extends Uo{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new Wo],this._columnSizers=[new Wo],this._box=null,e.rowCount!==void 0&&hr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&hr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=hr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=hr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(hr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(hr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=hr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=hr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let r=this._rowSizers[e];r&&(i=hr.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let r=this._columnSizers[e];r&&(i=hr.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){B.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new hd(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=B.findFirstIndex(this._items,n=>n.widget===e);if(i===-1)return;let r=B.removeAt(this._items,i);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&De.sendMessage(e,pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&De.sendMessage(e,pe.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&De.sendMessage(e,pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&De.sendMessage(e,pe.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,r=this.columnCount-1;e.sort(hr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=qa.getCellConfig(u.widget),f=Math.min(d.row,i),h=Math.min(d.row+d.rowSpan-1,i);hr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(hr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=qa.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);hr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){De.sendMessage(this.parent,pe.Msg.UpdateRequest);return}let n=i*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Ie.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;Yn.calc(this._rowSizers,Math.max(0,o-c)),Yn.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=qa.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),y=Math.min(m.column+m.columnSpan-1,l),C=this._columnStarts[_],k=this._rowStarts[p],M=this._columnStarts[y]+this._columnSizers[y].size-C,v=this._rowStarts[x]+this._rowSizers[x].size-k;h.update(C,k,M,v)}}};(function(t){function e(r){return hr.cellConfigProperty.get(r)}t.getCellConfig=e;function i(r,n){hr.cellConfigProperty.set(r,hr.normalizeConfig(n))}t.setCellConfig=i})(qa||(qa={}));(function(t){t.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function r(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}t.rowSpanCmp=r;function n(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}t.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new Wo);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof qa&&l.parent.fit()}})(hr||(hr={}));Wh=class extends pe{constructor(e={}){super({node:ob.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(pe.Flag.DisallowLayout),this.renderer=e.renderer||Wh.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,r=!0){this._closeChildMenu();let n=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){B.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(B.move(this._menus,n,s),r&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let r=B.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new qo({commands:new jr}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let _=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),u[a]=n.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Vt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>i&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>i){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=ob.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Ie.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=B.findFirstIndex(this.contentNode.children,r=>Ie.hitTest(r,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let r=this._positionForMenu(i);qo.saveWindowData(),this.activeIndex=i,this._openChildMenu(r)}}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let r=i>=0&&this._childMenu?this._positionForMenu(i):null;qo.saveWindowData(),this.activeIndex=i,r&&this._openChildMenu(r)}_positionForMenu(e){let i=this.contentNode.children[e],{left:r,bottom:n}=i.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let r=this._childMenu;if(r===i)return;this._childMenu=i,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,De.sendMessage(this,pe.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),i.items.length>0&&i.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(i){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(Wh||(Wh={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}t.createNode=e;function i(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(ob||(ob={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}t.createNode=e;function i(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}t.findPart=i})(vz||(vz={}));bz=class extends Uo{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&De.sendMessage(e,pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&De.sendMessage(e,pe.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&De.sendMessage(e,pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&De.sendMessage(e,pe.Msg.AfterDetach)}},gS=class extends Fh{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:pe.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===pe.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=pe.HiddenMode.Scale),i.hiddenMode=pe.HiddenMode.Scale):i.hiddenMode=pe.HiddenMode.Display,B.insert(this._items,e,new hd(i)),this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);this.parent.isAttached&&De.sendMessage(i,pe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&De.sendMessage(i,pe.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===pe.HiddenMode.Scale&&(i.hiddenMode=pe.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=pe.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&De.sendMessage(this.parent.parent,pe.Msg.FitRequest),this._dirty&&De.sendMessage(this.parent,pe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(t){function e(i){return i.layout||new gS}t.createLayout=e})(xz||(xz={}));(function(t){function e(s){return r[s]}t.orientationFromPlacement=e;function i(s){return n[s]}t.directionFromPlacement=i;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(yz||(yz={}))});var kz=qe((Lde,Mz)=>{var TV=1/0,AV="[object Symbol]",Iz=/[&<>"'`]/g,RV=RegExp(Iz.source),LV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},NV=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,DV=typeof self=="object"&&self&&self.Object===Object&&self,OV=NV||DV||Function("return this")();function zV(t){return function(e){return t?.[e]}}var PV=zV(LV),BV=Object.prototype,HV=BV.toString,Cz=OV.Symbol,Sz=Cz?Cz.prototype:void 0,Ez=Sz?Sz.toString:void 0;function jV(t){if(typeof t=="string")return t;if($V(t))return Ez?Ez.call(t):"";var e=t+"";return e=="0"&&1/t==-TV?"-0":e}function FV(t){return!!t&&typeof t=="object"}function $V(t){return typeof t=="symbol"||FV(t)&&HV.call(t)==AV}function WV(t){return t==null?"":jV(t)}function qV(t){return t=WV(t),t&&RV.test(t)?t.replace(Iz,PV):t}Mz.exports=qV});function Az(t){let e=[],i=null,r=null,n=null,s=0,o;t.includes("`")||t.includes("~~~")?(t=t.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,c=>c.replace(/\$/g,"~D")).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,c=>c.replace(/\$/g,"~D")),o=c=>c.replace(/~([TD])/g,(u,d)=>d==="T"?"~":Tz)):o=c=>c;let l=t.replace(/\r\n?/g,`
`).split(UV);for(let c=1,u=l.length;c<u;c+=2){let d=l[c];d.charAt(0)==="@"?(l[c]="@@"+e.length+"@@",e.push(d)):i!==null?d===r?s?n=c:(l=_S(i,c,o,e,l),i=null,r=null,n=null):d.match(/\n.*\n/)?(n!==null&&(c=n,l=_S(i,c,o,e,l)),i=null,r=null,n=null,s=0):d==="{"?s++:d==="}"&&s&&s--:d===Tz||d==="$$"?(i=c,r=d,s=0):d==="\\\\("||d==="\\\\["?(i=c,r=d.slice(-1)==="("?"\\\\)":"\\\\]",s=0):d.substr(1,5)==="begin"&&(i=c,r="\\end"+d.substr(6),s=0)}return i!==null&&n!==null&&(l=_S(i,n,o,e,l),i=null,r=null,n=null),{text:o(l.join("")),math:e}}function Rz(t,e){let i=(r,n)=>{let s=e[n];return s.substr(0,3)==="\\\\("&&s.substr(s.length-3)==="\\\\)"?s="\\("+s.substring(3,s.length-3)+"\\)":s.substr(0,3)==="\\\\["&&s.substr(s.length-3)==="\\\\]"&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s};return t.replace(/@@(\d+)@@/g,i)}function _S(t,e,i,r,n){let s=n.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(s=s.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>t;)n[e]="",e--;return n[t]="@@"+r.length+"@@",i&&(s=i(s)),r.push(s),n}var Tz,UV,vS=F(()=>{Tz="$",UV=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i});function yS(t){let{host:e,source:i,trusted:r,sanitizer:n,resolver:s,linkHandler:o,shouldTypeset:a,latexTypesetter:l,translator:c}=t;c=c||Js;let u=c?.load("jupyterlab"),d=i;if(!i)return e.textContent="",Promise.resolve(void 0);if(r||(d=`${i}`,i=n.sanitize(i)),e.innerHTML=i,e.getElementsByTagName("script").length>0)if(r)co.evalInnerHTMLScriptTags(e);else{let h=document.createElement("div"),m=document.createElement("pre");m.textContent=u.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");let p=document.createElement("button");p.textContent=u.__("Run"),p.onclick=_=>{e.innerHTML=d,co.evalInnerHTMLScriptTags(e),e.firstChild&&e.removeChild(e.firstChild)},h.appendChild(m),h.appendChild(p),e.insertBefore(h,e.firstChild)}co.handleDefaults(e,s);let f;return s?f=co.handleUrls(e,s,o):f=Promise.resolve(void 0),f.then(()=>{a&&l&&l.typeset(e)})}function zz(t){let{host:e,mimeType:i,source:r,width:n,height:s,needsBackground:o,unconfined:a}=t;e.textContent="";let l=document.createElement("img");return l.src=`data:${i};base64,${r}`,typeof s=="number"&&(l.height=s),typeof n=="number"&&(l.width=n),o==="light"?l.classList.add("jp-needs-light-background"):o==="dark"&&l.classList.add("jp-needs-dark-background"),a===!0&&l.classList.add("jp-mod-unconfined"),e.appendChild(l),Promise.resolve(void 0)}function Pz(t){let{host:e,source:i,shouldTypeset:r,latexTypesetter:n}=t;return e.textContent=i,r&&n&&n.typeset(e),Promise.resolve(void 0)}async function sp(t){let{host:e,source:i,markdownParser:r,...n}=t;if(!i){e.textContent="";return}let s="";if(r){let o=Az(i);s=await r.render(o.text),s=Rz(s,o.math)}else s=`<pre>${i}</pre>`;await yS({host:e,source:s,...n}),co.headerAnchors(e)}function Bz(t){let{host:e,source:i,trusted:r,unconfined:n}=t;if(!i)return e.textContent="",Promise.resolve(void 0);if(!r)return e.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0);let s="<svg[^>]+xmlns=[^>]+svg";i.search(s)<0&&(i=i.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));let o=new Image;return o.src=`data:image/svg+xml,${encodeURIComponent(i)}`,e.appendChild(o),n===!0&&e.classList.add("jp-mod-unconfined"),Promise.resolve()}function Lz(t,e){let i=[];e.checkWeb&&i.push(new bS),e.checkPaths&&i.push(new xS);let r=[],n=(s,o)=>{if(o>=i.length){r.push(document.createTextNode(s));return}let a=i[o],l,c=0,u=a.regex;for(u.lastIndex=0;(l=u.exec(s))!=null;){let f=s.substring(c,l.index);f&&n(f,o+1);let{path:h,...m}=l.groups,p=a.processPath?a.processPath(h):h,_=a.processLabel?a.processLabel(l[0]):l[0];r.push(a.createAnchor(p,_,m)),c=l.index+_.length}let d=s.substring(c);d&&n(d,o+1)};return n(t,0),r}function Nz(t,e){var i,r;let n=t.cloneNode();n.textContent=(i=t.textContent)===null||i===void 0?void 0:i.slice(0,e);let s=t.cloneNode();return s.textContent=(r=t.textContent)===null||r===void 0?void 0:r.slice(e),{pre:n,post:s}}function*Dz(t){var e;let i=0,r;for(let n of t)r=i+(((e=n.textContent)===null||e===void 0?void 0:e.length)||0),yield{node:n,start:i,end:r,isText:n.nodeType===Node.TEXT_NODE},i=r}function*VV(t,e){var i,r;let n=Dz(t),s=Dz(e),o=n.next(),a=s.next();for(;!o.done&&!a.done;){let l=o.value,c=a.value;if(l.isText&&l.start<=c.start&&l.end>=c.end)yield[null,c.node],a=s.next();else if(c.isText&&c.start<=l.start&&c.end>=l.end)yield[l.node,null],o=n.next();else if(l.end===c.end&&l.start===c.start)yield[l.node,c.node],o=n.next(),a=s.next();else if(l.end>c.end){let{pre:u,post:d}=Nz(l.node,c.end-l.start);c.start<l.start&&(c.node.textContent=(i=c.node.textContent)===null||i===void 0?void 0:i.slice(l.start-c.start)),yield[u,c.node],l.node=d,l.start=c.end,a=s.next()}else if(c.end>l.end){let{pre:u,post:d}=Nz(c.node,l.end-c.start);l.start<c.start&&(l.node.textContent=(r=l.node.textContent)===null||r===void 0?void 0:r.slice(c.start-l.start)),yield[l.node,u],c.node=d,c.start=l.end,o=n.next()}else throw new Error(`Unexpected intersection: ${JSON.stringify(l)} ${JSON.stringify(c)}`)}}function wS(t){return Hz(t,{checkWeb:!0,checkPaths:!1}),Promise.resolve(void 0)}function GV(t){let e=document.createElement("span");return e.textContent=t,e.innerHTML}function Hz(t,e){var i,r;let{host:n,sanitizer:s,source:o}=t,c=/\x1b/.test(o)?s.sanitize(co.ansiSpan(o),{allowedTags:["span"]}):GV(o),u=document.createElement("pre");u.innerHTML=c;let d=u.textContent,f=[];e.checkWeb&&f.push("web"),e.checkPaths&&f.push("paths");let h=f.join("-"),m=co.autoLinkCache.get(h);m||(m=new WeakMap,co.autoLinkCache.set(h,m));let p;if(d){let _;if(!((r=(i=s.getAutolink)===null||i===void 0?void 0:i.call(s))!==null&&r!==void 0)||r){let y=YV(m.get(n),d);if(y){let{cachedNodes:C,addedText:k}=y,M=Lz(k,e),v=C[C.length-1],I=M[0];if(v instanceof Text&&I instanceof Text){let E=v;E.data+=I.data,_=[...C.slice(0,-1),E,...M.slice(1)]}else _=[...C,...M]}else _=Lz(d,e);m.set(n,{preTextContent:d,linkedNodes:_.map(C=>C.cloneNode(!0))})}else _=[document.createTextNode(c)];let x=Array.from(u.childNodes);p=XV(x,_)}else p=document.createElement("pre");n.appendChild(p)}function YV(t,e){if(!t||e.length<t.preTextContent.length)return null;let i=e.substring(t.preTextContent.length),r=t.linkedNodes,n=t.linkedNodes[t.linkedNodes.length-1];if(!(t.preTextContent.endsWith(`
`)||i.startsWith(`
`)))if(n instanceof Text)r=r.slice(0,-1),i=n.textContent+i;else return null;return e.startsWith(t.preTextContent)?{cachedNodes:r,addedText:i}:null}function jz(t){let{host:e,linkHandler:i,resolver:r}=t;Hz(t,{checkWeb:!0,checkPaths:!0});let n;return r?n=co.handlePaths(e,r,i):n=Promise.resolve(void 0),n}function XV(t,e){let i=document.createElement("pre"),r=!1,n=[];for(let s of VV(t,e)){if(s[0]){if(!s[1]){n.push(s[0]),r=!1;continue}}else{n.push(s[1]),r=s[1].nodeType!==Node.TEXT_NODE;continue}let[o,a]=s,l=n[n.length-1];r&&a.href===l.href?l.appendChild(o):a.nodeType!==Node.TEXT_NODE?(a.textContent="",a.appendChild(o),n.push(a),r=!0):(n.push(o),r=!1)}for(let s of n)i.appendChild(s);return i}var qh,Oz,ab,bS,xS,co,CS=F(()=>{qh=H(Zk());vm();Oz=H(kz());vS();(function(t){function e(i){var r;return((r=i.textContent)!==null&&r!==void 0?r:"").replace(/ /g,"-")}t.createHeaderId=e})(sp||(sp={}));(function(t){let e="\\u0000-\\u0020\\u007f-\\u009f";t.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\/\\/|data:|www\\.)[^\\s"+e+'"]{2,}[^\\s'+e+`"'(){}\\[\\],:;.!?])`,"ug");let i=/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/,r=/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/,n=new RegExp(`(${i.source}|${r.source})`),s=/((?:\~|\.)?(?:\/[\w\.-]*)+)/,o=/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/,a=navigator.userAgent.indexOf("Windows")>=0;t.pathLinkRegex=new RegExp(`(?<path>${a?n.source:s.source})${o.source}`,"g")})(ab||(ab={}));bS=class{constructor(){this.regex=ab.webLinkRegex}createAnchor(e,i){let r=document.createElement("a");return r.href=e.startsWith("www.")?"https://"+e:e,r.rel="noopener",r.target="_blank",r.appendChild(document.createTextNode(i)),r}processPath(e){let i=e.slice(-1),n=[">","<"].indexOf(i)!==-1?e.length-1:e.length;return e=e.slice(0,n),e}processLabel(e){return this.processPath(e)}},xS=class{constructor(){this.regex=ab.pathLinkRegex}createAnchor(e,i,r){let n=document.createElement("a");n.dataset.path=e;let s=parseInt(r.line,10),o=isNaN(s)?"":`line=${s-1}`;return n.dataset.locator=o,n.appendChild(document.createTextNode(i)),n}};(function(t){t.autoLinkCache=new Map;function e(h){let m=Array.from(h.getElementsByTagName("script"));for(let p of m){if(!p.parentNode)continue;let _=document.createElement("script"),x=p.attributes;for(let y=0,C=x.length;y<C;++y){let{name:k,value:M}=x[y];_.setAttribute(k,M)}_.textContent=p.textContent,p.parentNode.replaceChild(_,p)}}t.evalInnerHTMLScriptTags=e;function i(h,m){let p=h.getElementsByTagName("a");for(let x=0;x<p.length;x++){let y=p[x];if(!(y instanceof HTMLAnchorElement))continue;let C=y.href,k=m&&m.isLocal?m.isLocal(C):qh.URLExt.isLocal(C);y.target||(y.target=k?"_self":"_blank"),k||(y.rel="noopener")}let _=h.getElementsByTagName("img");for(let x=0;x<_.length;x++)_[x].alt||(_[x].alt="Image")}t.handleDefaults=i;function r(h,m,p){let _=[],x=h.querySelectorAll("*[src]");for(let k=0;k<x.length;k++)_.push(o(x[k],"src",m));let y=h.getElementsByTagName("a");for(let k=0;k<y.length;k++)_.push(a(y[k],m,p));let C=h.getElementsByTagName("link");for(let k=0;k<C.length;k++)_.push(o(C[k],"href",m));return Promise.all(_).then(()=>{})}t.handleUrls=r;async function n(h,m,p){let _=h.getElementsByTagName("a");for(let x=0;x<_.length;x++)await l(_[x],m,p)}t.handlePaths=n;function s(h){let m=["h1","h2","h3","h4","h5","h6"];for(let p of m){let _=h.getElementsByTagName(p);for(let x=0;x<_.length;x++){let y=_[x];y.id=sp.createHeaderId(y);let C=document.createElement("a");C.target="_self",C.textContent="\xB6",C.href="#"+y.id,C.classList.add("jp-InternalAnchorLink"),y.appendChild(C)}}}t.headerAnchors=s;async function o(h,m,p){let _=h.getAttribute(m)||"",x=p.isLocal?p.isLocal(_):qh.URLExt.isLocal(_);if(!(!_||!x))try{let y=await p.resolveUrl(_),C=await p.getDownloadUrl(y);qh.URLExt.parse(C).protocol!=="data:"&&(C+=(/\?/.test(C)?"&":"?")+new Date().getTime()),h.setAttribute(m,C)}catch(y){throw h.setAttribute(m,""),y}}function a(h,m,p){let _=h.getAttribute("href")||"",x=m.isLocal?m.isLocal(_):qh.URLExt.isLocal(_);if(!_||!x)return Promise.resolve(void 0);let y=h.hash;if(y){if(y===_)return h.target="_self",Promise.resolve(void 0);_=_.replace(y,"")}return m.resolveUrl(_).then(C=>{let k=decodeURIComponent(C);return p&&p.handleLink(h,k,y),m.getDownloadUrl(C)}).then(C=>{h.href=C+y}).catch(C=>{h.href=""})}async function l(h,m,p){let _=h.dataset.path||"",x=h.dataset.locator?"#"+h.dataset.locator:"";delete h.dataset.path,delete h.dataset.locator;let y=!0,C=m.isLocal?m.isLocal(_,y):qh.URLExt.isLocal(_,y);if(!_||!C||!m.resolvePath||!p||!p.handlePath)return h.replaceWith(...h.childNodes),Promise.resolve(void 0);try{let k=await m.resolvePath(_);if(!k)return console.log("Path resolution bailing: does not exist"),Promise.resolve(void 0);p.handlePath(h,k.path,k.scope,x),h.href=k.path+x}catch(k){console.warn("Path anchor error:",k),h.href="#linking-failed-see-console"}}let c=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function u(h,m,p,_,x,y,C){if(h){let k=[],M=[];_&&typeof m=="number"&&0<=m&&m<8&&(m+=8),y&&([m,p]=[p,m]),typeof m=="number"?k.push(c[m]+"-fg"):m.length?M.push(`color: rgb(${m})`):y&&k.push("ansi-default-inverse-fg"),typeof p=="number"?k.push(c[p]+"-bg"):p.length?M.push(`background-color: rgb(${p})`):y&&k.push("ansi-default-inverse-bg"),_&&k.push("ansi-bold"),x&&k.push("ansi-underline"),k.length||M.length?(C.push("<span"),k.length&&C.push(` class="${k.join(" ")}"`),M.length&&C.push(` style="${M.join("; ")}"`),C.push(">"),C.push(h),C.push("</span>")):C.push(h)}}function d(h){let m,p,_,x=h.shift();if(x===2&&h.length>=3){if(m=h.shift(),p=h.shift(),_=h.shift(),[m,p,_].some(y=>y<0||255<y))throw new RangeError("Invalid range for RGB colors")}else if(x===5&&h.length>=1){let y=h.shift();if(y<0)throw new RangeError("Color index must be >= 0");if(y<16)return y;if(y<232)m=Math.floor((y-16)/36),m=m>0?55+m*40:0,p=Math.floor((y-16)%36/6),p=p>0?55+p*40:0,_=(y-16)%6,_=_>0?55+_*40:0;else if(y<256)m=p=_=(y-232)*10+8;else throw new RangeError("Color index must be < 256")}else throw new RangeError("Invalid extended color specification");return[m,p,_]}function f(h){let m=/\x1b\[(.*?)([@-~])/g,p=[],_=[],x=!1,y=!1,C=!1,k,M=[],v=[],I=0;for(h=(0,Oz.default)(h),h+="\x1B[m";k=m.exec(h);){if(k[2]==="m"){let T=k[1].split(";");for(let R=0;R<T.length;R++){let P=T[R];if(P==="")v.push(0);else if(P.search(/^\d+$/)!==-1)v.push(parseInt(P,10));else{v.length=0;break}}}let E=h.substring(I,k.index);for(u(E,p,_,x,y,C,M),I=m.lastIndex;v.length;){let T=v.shift();switch(T){case 0:p=_=[],x=!1,y=!1,C=!1;break;case 1:case 5:x=!0;break;case 4:y=!0;break;case 7:C=!0;break;case 21:case 22:x=!1;break;case 24:y=!1;break;case 27:C=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:p=T-30;break;case 38:try{p=d(v)}catch{v.length=0}break;case 39:p=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:_=T-40;break;case 48:try{_=d(v)}catch{v.length=0}break;case 49:_=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:p=T-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:_=T-100+8;break;default:}}}return M.join("")}t.ansiSpan=f})(co||(co={}))});var Va,lb,cb,db,ub,hb,fb,mb,pb,op,SS=F(()=>{vm();wz();CS();Va=class extends pe{constructor(e){var i,r;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=(i=e.translator)!==null&&i!==void 0?i:Js,this.latexTypesetter=e.latexTypesetter,this.markdownParser=(r=e.markdownParser)!==null&&r!==void 0?r:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,i){if(!i)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);let{fragment:r}=e.metadata;r&&this.setFragment(r)}setFragment(e){}},lb=class extends Va{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let i;try{i=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(r){console.warn("Unable to set URI fragment identifier.",r)}i&&i.scrollIntoView()}},cb=class extends lb{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedHTML")}render(e){return this._rendered=yS({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},db=class extends Va{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedLatex")}render(e){return this._rendered=Pz({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},ub=class extends Va{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){let i=e.metadata[this.mimeType];return zz({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:i&&i.width,height:i&&i.height,needsBackground:e.metadata.needs_background,unconfined:i&&i.unconfined})}},hb=class extends lb{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedMarkdown")}render(e){return this._rendered=sp({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},fb=class extends Va{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedSVG")}render(e){let i=e.metadata[this.mimeType];return this._rendered=Bz({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:i&&i.unconfined,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&this.latexTypesetter.typeset(this.node)}).catch(console.warn)}},mb=class extends Va{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return wS({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}},pb=class extends Va{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return jz({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),linkHandler:this.linkHandler,resolver:this.resolver,translator:this.translator})}},op=class extends Va{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){let i=this.translator.load("jupyterlab");return wS({host:this.node,sanitizer:this.sanitizer,source:i.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}});var Fz,$z,Wz,qz,Uz,Vz,Gz,Yz=F(()=>{SS();Fz={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:t=>new cb(t)},$z={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:t=>new ub(t)},Wz={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:t=>new db(t)},qz={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:t=>new hb(t)},Uz={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:t=>new fb(t)},Vz={safe:!0,mimeTypes:["application/vnd.jupyter.stderr"],defaultRank:110,createRenderer:t=>new pb(t)},Gz={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout"],defaultRank:120,createRenderer:t=>new mb(t)}});var gb,ES,IS=F(()=>{gb=class{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||ES.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}};(function(t){function e(){}t.noOp=e})(ES||(ES={}))});function _b(t){return t.output_type==="execute_result"}function MS(t){return t.output_type==="display_data"}function Xz(t){return t.output_type==="update_display_data"}function Ql(t){return t.output_type==="stream"}function Kz(t){return t.output_type==="error"}var ZV,kS=F(()=>{ZV=H(Hr())});var Zz,Uh,ec,Qz=F(()=>{kS();jy();Zz=H(Hr());gs();Uh=class{constructor(e){this._changed=new Te(this),this._raw={},this._text=void 0;let{data:i,metadata:r,trusted:n}=ec.getBundleOptions(e);this._rawData=i,e.value!==void 0&&Ql(e.value)&&(this._text=new Qk(typeof e.value.text=="string"?e.value.text:e.value.text.join(""))),this._metadata=new c_({values:r}),this._rawMetadata=r,this.trusted=n;let s=e.value;for(let o in s)switch(o){case"data":case"metadata":break;default:this._raw[o]=ec.extract(s,o)}this.type=s.output_type,_b(s)?this.executionCount=s.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){var e;(e=this._text)===null||e===void 0||e.dispose(),this._metadata.dispose(),Te.clearData(this)}get data(){return ec.getData(this.toJSON())}get streamText(){return this._text}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit()}toJSON(){let e={};for(let i in this._raw)e[i]=ec.extract(this._raw,i);switch(this._text!==void 0&&(e.text=this._text.text),this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this._rawData,e.metadata=this.metadata;break;default:break}return delete e.transient,e}_updateObservable(e,i){let r=e.keys(),n=Object.keys(i);for(let s of r)n.indexOf(s)===-1&&e.delete(s);for(let s of n){let o=e.get(s),a=i[s];o!==a&&e.set(s,a)}}};(function(t){function e(r){return ec.getData(r)}t.getData=e;function i(r){return ec.getMetadata(r)}t.getMetadata=i})(Uh||(Uh={}));(function(t){function e(o){let a={};if(_b(o)||MS(o)||Xz(o))a=o.data;else if(Ql(o))o.name==="stderr"?a["application/vnd.jupyter.stderr"]=o.text:a["application/vnd.jupyter.stdout"]=o.text;else if(Kz(o)){a["application/vnd.jupyter.error"]=o;let l=o.traceback.join(`
`);a["application/vnd.jupyter.stderr"]=l||`${o.ename}: ${o.evalue}`}return s(a)}t.getData=e;function i(o){let a=Object.create(null);if(_b(o)||MS(o))for(let l in o.metadata)a[l]=n(o.metadata,l);return a}t.getMetadata=i;function r(o){let a=e(o.value),l=i(o.value),c=!!o.trusted;return{data:a,metadata:l,trusted:c}}t.getBundleOptions=r;function n(o,a){let l=o[a];return l===void 0||Zz.JSONExt.isPrimitive(l)?l:JSON.parse(JSON.stringify(l))}t.extract=n;function s(o){let a=Object.create(null);for(let l in o)a[l]=n(o,l);return a}})(ec||(ec={}))});var pd,tc,TS,e2=F(()=>{$y();pd=H(Zk());vm();IS();tc=class{constructor(e={}){var i,r,n,s,o,a;if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=(i=e.translator)!==null&&i!==void 0?i:Js,this.resolver=(r=e.resolver)!==null&&r!==void 0?r:null,this.linkHandler=(n=e.linkHandler)!==null&&n!==void 0?n:null,this.latexTypesetter=(s=e.latexTypesetter)!==null&&s!==void 0?s:null,this.markdownParser=(o=e.markdownParser)!==null&&o!==void 0?o:null,this.sanitizer=(a=e.sanitizer)!==null&&a!==void 0?a:new iT,e.initialFactories)for(let l of e.initialFactories)this.addFactory(l)}get mimeTypes(){return this._types||(this._types=TS.sortedTypes(this._ranks))}preferredMimeType(e,i="ensure"){if(i==="ensure"||i==="prefer"){for(let r of this.mimeTypes)if(r in e&&this._factories[r].safe)return r}if(i!=="ensure"){for(let r of this.mimeTypes)if(r in e)return r}}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}createModel(e={}){return new gb(e)}clone(e={}){var i,r,n,s,o,a,l,c,u,d;let f=new tc({resolver:(r=(i=e.resolver)!==null&&i!==void 0?i:this.resolver)!==null&&r!==void 0?r:void 0,sanitizer:(s=(n=e.sanitizer)!==null&&n!==void 0?n:this.sanitizer)!==null&&s!==void 0?s:void 0,linkHandler:(a=(o=e.linkHandler)!==null&&o!==void 0?o:this.linkHandler)!==null&&a!==void 0?a:void 0,latexTypesetter:(c=(l=e.latexTypesetter)!==null&&l!==void 0?l:this.latexTypesetter)!==null&&c!==void 0?c:void 0,markdownParser:(d=(u=e.markdownParser)!==null&&u!==void 0?u:this.markdownParser)!==null&&d!==void 0?d:void 0,translator:this.translator});return f._factories={...this._factories},f._ranks={...this._ranks},f._id=this._id,f}getFactory(e){return this._factories[e]}addFactory(e,i){i===void 0&&(i=e.defaultRank,i===void 0&&(i=100));for(let r of e.mimeTypes)this._factories[r]=e,this._ranks[r]={rank:i,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){let i=this._ranks[e];return i&&i.rank}setRank(e,i){if(!this._ranks[e])return;let r=this._id++;this._ranks[e]={rank:i,id:r},this._types=null}};(function(t){class e{constructor(r){this._path=r.path,this._contents=r.contents}get path(){return this._path}set path(r){this._path=r}async resolveUrl(r){if(this.isLocal(r)){let n=encodeURI(pd.PathExt.dirname(this.path));r=pd.PathExt.resolve(n,r)}return r}async getDownloadUrl(r){return this.isLocal(r)?this._contents.getDownloadUrl(decodeURIComponent(r)):r}isLocal(r,n=!1){return this.isMalformed(r)?!1:pd.URLExt.isLocal(r,n)||!!this._contents.driveName(decodeURI(r))}async resolvePath(r){let n=pd.PageConfig.getOption("rootUri").replace("file://","");if(r.startsWith("~/")&&n.startsWith("/home/")&&(r=n.split("/").slice(0,3).join("/")+r.substring(1)),r.startsWith(n)||r.startsWith("./"))try{let s=r.replace(n,"");return{path:(await this._contents.get(s,{content:!1})).path,scope:"server"}}catch{return console.warn(`Could not resolve location of ${r} on server`),null}return{path:r,scope:"kernel"}}isMalformed(r){try{return decodeURI(r),!1}catch(n){if(n instanceof URIError)return!0;throw n}}}t.UrlResolver=e})(tc||(tc={}));(function(t){function e(i){return Object.keys(i).sort((r,n)=>{let s=i[r],o=i[n];return s.rank!==o.rank?s.rank-o.rank:s.id-o.id})}t.sortedTypes=e})(TS||(TS={}))});var vb,Gde,Yde,Xde,t2=F(()=>{vb=H(Hr()),Gde=new vb.Token("@jupyterlab/rendermime:IRenderMimeRegistry",'A service for the rendermime registry for the application. Use this to create renderers for various mime-types in your extension. Many times it will be easier to create a "mime renderer extension" rather than using this service directly.'),Yde=new vb.Token("@jupyterlab/rendermime:ILatexTypesetter","A service for the LaTeX typesetter for the application. Use this if you want to typeset math in your extension."),Xde=new vb.Token("@jupyterlab/rendermime:IMarkdownParser","A service for rendering markdown syntax as HTML content.")});var bb=F(()=>{hz();fz();Yz();vS();IS();Qz();e2();CS();t2();SS()});var AS,Vo,Vh,i2=F(()=>{kS();jy();bb();_a();AS=H(Hr());gs();Vo=class{constructor(e={}){if(this.clearNext=!1,this._lastStreamName="",this._trusted=!1,this._isDisposed=!1,this._stateChanged=new Te(this),this._changed=new Te(this),this._streamIndex=0,this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||Vo.defaultContentFactory,this.list=new eT,e.values)for(let i of e.values){let r=this._add(i)-1;this.list.get(r).changed.connect(this._onGenericChange,this)}this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(e){if(e===this._trusted)return;let i=this._trusted=e;for(let r=0;r<this.list.length;r++){let n=this.list.get(r),s=n.toJSON(),o=this._createItem({value:s,trusted:i});this.list.set(r,o),n.dispose()}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),Te.clearData(this))}get(e){return this.list.get(e)}set(e,i){i=AS.JSONExt.deepCopy(i),Vh.normalize(i);let r=this._createItem({value:i,trusted:this._trusted});this.list.set(e,r)}removeStreamOutput(e){let r=this.list.get(this.length-1).streamText,n=r.text.length,s={silent:!0};r.remove(n-e,n,s)}appendStreamOutput(e){let r=this.list.get(this.length-1).streamText,n=r.text.length,s={silent:!0};r.insert(n,e,s)}add(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)}remove(e){var i;(i=this.list.remove(e))===null||i===void 0||i.dispose()}clear(e=!1){if(this._lastStreamName="",e){this.clearNext=!0;return}for(let i of this.list)i.dispose();this.list.clear()}fromJSON(e){this.clear();for(let i of e)this._add(i)}toJSON(){return Array.from(Jk(this.list,e=>e.toJSON()))}_add(e){let i=this._trusted;if(e=AS.JSONExt.deepCopy(e),Vh.normalize(e),Ql(e)&&e.name===this._lastStreamName&&this.length>0&&this.shouldCombine({value:e,lastModel:this.list.get(this.length-1)})){let o=this.list.get(this.length-1).streamText,a=typeof e.text=="string"?e.text:e.text.join("");return this._streamIndex=Vh.addText(this._streamIndex,o,a),this.length}if(Ql(e)){typeof e.text!="string"&&(e.text=e.text.join(""));let{text:s,index:o}=Vh.processText(0,e.text);this._streamIndex=o,e.text=s}let r=this._createItem({value:e,trusted:i}),n=this.list.push(r);return Ql(e)?this._lastStreamName=e.name:this._lastStreamName="",n}shouldCombine(e){return!0}_createItem(e){return this.contentFactory.createOutputModel(e)}_onListChanged(e,i){switch(i.type){case"add":i.newValues.forEach(r=>{r.changed.connect(this._onGenericChange,this)});break;case"remove":i.oldValues.forEach(r=>{r.changed.disconnect(this._onGenericChange,this)});break;case"set":i.newValues.forEach(r=>{r.changed.connect(this._onGenericChange,this)}),i.oldValues.forEach(r=>{r.changed.disconnect(this._onGenericChange,this)});break}this._changed.emit(i)}_onGenericChange(e){let i,r=null;for(i=0;i<this.list.length&&(r=this.list.get(i),r!==e);i++);r!=null&&(this._stateChanged.emit(i),this._changed.emit({type:"set",newIndex:i,oldIndex:i,oldValues:[r],newValues:[r]}))}};(function(t){class e{createOutputModel(r){return new Uh(r)}}t.ContentFactory=e,t.defaultContentFactory=new e})(Vo||(Vo={}));(function(t){function e(s){Ql(s)&&Array.isArray(s.text)&&(s.text=s.text.join(`
`))}t.normalize=e;function i(s,o,a){let l=s.slice(a).search(o);return l>=0?l+a:l}function r(s,o,a){if(a===void 0&&(a=""),!(o.includes("\b")||o.includes("\r")||o.includes(`
`)))return a=a.slice(0,s)+o+a.slice(s+o.length),{text:a,index:s+o.length};let l=s,c=-1,u=0,d=/[\n\b\r]/;for(;;){c=i(o,d,u);let f=o.slice(u,c===-1?o.length:c);if(a=a.slice(0,l)+f+a.slice(l+f.length),u=c+1,c===-1)break;l+=f.length;let h=o[c];if(h==="\b")l>0&&a[l-1]!==`
`&&(a=a.slice(0,l-1)+a.slice(l+1),l--);else if(h==="\r"){let m=!1;for(;!m;)l===0||a[l-1]===`
`?m=!0:l--}else if(h===`
`)a=a+`
`,l=a.length;else throw Error("This should not happen")}return{text:a,index:l}}t.processText=r;function n(s,o,a){let{text:l,index:c}=r(s,a,o.text),u=!1,d=0;for(;!u;)d===l.length?(d===o.text.length||o.remove(d,o.text.length),u=!0):d===o.text.length?d!==l.length&&(o.insert(o.text.length,l.slice(d)),u=!0):l[d]!==o.text[d]?(o.remove(d,o.text.length),o.insert(d,l.slice(d)),u=!0):d++;return c}t.addText=n})(Vh||(Vh={}))});var Gh,Ga,r2=F(()=>{Gh=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new Ga.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new Ga.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof Ga.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new Ga.LinkedListNode(this,e),n=i,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof Ga.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new Ga.LinkedListNode(this,e),n=i,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Ga.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let r=new t;return r.assign(i),r}t.from=e})(Gh||(Gh={}));(function(t){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}t.LinkedListNode=e})(Ga||(Ga={}))});var hn,ic,Oe,n2=F(()=>{_a();r2();hn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ic=class extends hn{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(E=>T=>{let R=!1;return E.then(()=>!R&&T()),()=>{R=!0}})(Promise.resolve());function r(E,T){let R=f.get(E);if(!R||R.length===0){x(E,T);return}Ml(Tl(R),Y=>Y?_(Y,E,T):!0)&&x(E,T)}t.sendMessage=r;function n(E,T){if(!T.isConflatable){y(E,T);return}kl(d,P=>P.handler!==E||!P.msg||P.msg.type!==T.type||!P.msg.isConflatable?!1:P.msg.conflate(T))||y(E,T)}t.postMessage=n;function s(E,T){let R=f.get(E);R&&R.indexOf(T)!==-1||(R?R.push(T):f.set(E,[T]))}t.installMessageHook=s;function o(E,T){let R=f.get(E);if(!R)return;let P=R.indexOf(T);P!==-1&&(R[P]=null,k(R))}t.removeMessageHook=o;function a(E){let T=f.get(E);T&&T.length>0&&(B.fill(T,null),k(T));for(let R of d)R.handler===E&&(R.handler=null,R.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,C(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function u(E){let T=m;return m=E,T}t.setExceptionHandler=u;let d=new Gh,f=new WeakMap,h=new Set,m=E=>{console.error(E)},p=!1;function _(E,T,R){let P=!0;try{typeof E=="function"?P=E(T,R):P=E.messageHook(T,R)}catch(Y){m(Y)}return P}function x(E,T){try{E.processMessage(T)}catch(R){m(R)}}function y(E,T){d.addLast({handler:E,msg:T}),e===null&&(e=i(C))}function C(){if(e=null,d.isEmpty)return;let E={handler:null,msg:null};for(d.addLast(E);;){let T=d.removeFirst();if(T===E)return;T.handler&&T.msg&&r(T.handler,T.msg)}}function k(E){h.size===0&&i(M),h.add(E)}function M(){h.forEach(v),h.clear()}function v(E){B.removeAllWhere(E,I)}function I(E){return E===null}})(Oe||(Oe={}))});var er,Yr,s2=F(()=>{Al();er=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:i,edge:r,distance:n}=this._scrollTarget,s=Yr.SCROLL_EDGE_SIZE-n,o=Math.pow(s/Yr.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*Yr.SCROLL_EDGE_SIZE));switch(r){case"top":i.scrollTop-=a;break;case"left":i.scrollLeft-=a;break;case"right":i.scrollLeft+=a;break;case"bottom":i.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Yr.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,i){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,i),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:i});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,i){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${i}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Yr.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let i=Yr.dispatchDrop(this,this._currentTarget,e);this._finalize(i)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let i=Yr.findScrollTarget(e);!this._scrollTarget&&!i||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=i)}_updateCurrentTarget(e){let i=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=Yr.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&Yr.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=Yr.dispatchDragEnter(this,s,r,e)),r!==i&&(this._currentTarget=r,Yr.dispatchDragLeave(this,i,r,e));let o=Yr.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,i){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${i}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Yr.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=er.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=er.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=er.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=er.overrideCursor("move",this.document);break}}_finalize(e){let i=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,i&&i(e)}};(function(t){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}t.Event=e;function i(r,n=document){return Yr.overrideCursor(r,n)}t.overrideCursor=i})(er||(er={}));(function(t){t.SCROLL_EDGE_SIZE=20;function e(k,M){return d[k]&f[M]?k:"none"}t.validateAction=e;function i(k,M=document){if(k){if(r&&k==r.event)return r.element;t.cursorBackdrop.style.zIndex="-1000";let v=M.elementFromPoint(k.clientX,k.clientY);return t.cursorBackdrop.style.zIndex="",r={event:k,element:v},v}else{let v=t.cursorBackdrop.style.transform;if(n&&v===n.transform)return n.element;let I=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";let E=M.elementFromPoint(I.left+I.width/2,I.top+I.height/2);return t.cursorBackdrop.style.zIndex="",n={transform:v,element:E},E}}t.findElementBehindBackdrop=i;let r=null,n=null;function s(k){let M=k.clientX,v=k.clientY,I=i(k);for(;I;I=I.parentElement){if(!I.hasAttribute("data-lm-dragscroll"))continue;let E=0,T=0;I===document.body&&(E=window.pageXOffset,T=window.pageYOffset);let R=I.getBoundingClientRect(),P=R.top+T,Y=R.left+E,re=Y+R.width,de=P+R.height;if(M<Y||M>=re||v<P||v>=de)continue;let te=M-Y+1,G=v-P+1,X=re-M,Z=de-v,ye=Math.min(te,G,X,Z);if(ye>t.SCROLL_EDGE_SIZE)continue;let ue;switch(ye){case Z:ue="bottom";break;case G:ue="top";break;case X:ue="right";break;case te:ue="left";break;default:throw"unreachable"}let xe=I.scrollWidth-I.clientWidth,ke=I.scrollHeight-I.clientHeight,We;switch(ue){case"top":We=ke>0&&I.scrollTop>0;break;case"left":We=xe>0&&I.scrollLeft>0;break;case"right":We=xe>0&&I.scrollLeft<xe;break;case"bottom":We=ke>0&&I.scrollTop<ke;break;default:throw"unreachable"}if(We)return{element:I,edge:ue,distance:ye}}return null}t.findScrollTarget=s;function o(k,M,v,I){if(!M)return null;let E=new er.Event(I,{drag:k,related:v,type:"lm-dragenter"});if(!M.dispatchEvent(E))return M;let R=k.document instanceof Document?k.document.body:k.document.firstElementChild;return M===R?v:(E=new er.Event(I,{drag:k,related:v,type:"lm-dragenter"}),R.dispatchEvent(E),R)}t.dispatchDragEnter=o;function a(k,M,v,I){if(!M)return;let E=new er.Event(I,{drag:k,related:v,type:"lm-dragexit"});M.dispatchEvent(E)}t.dispatchDragExit=a;function l(k,M,v,I){if(!M)return;let E=new er.Event(I,{drag:k,related:v,type:"lm-dragleave"});M.dispatchEvent(E)}t.dispatchDragLeave=l;function c(k,M,v){if(!M)return"none";let I=new er.Event(v,{drag:k,related:null,type:"lm-dragover"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDragOver=c;function u(k,M,v){if(!M)return"none";let I=new er.Event(v,{drag:k,related:null,type:"lm-drop"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(k,M=document){let v=++C,I=M instanceof Document?M.body:M.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",I.appendChild(t.cursorBackdrop),_(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=k,new _s(()=>{v===C&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),t.cursorBackdrop.removeEventListener("scroll",p,!0),I.removeChild(t.cursorBackdrop))})}t.overrideCursor=h;function m(k){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${k.clientX}px, ${k.clientY}px)`)}function p(k){if(!t.cursorBackdrop)return;let M=i();if(!M)return;let v=M.closest("[data-lm-dragscroll]");v&&(v.scrollTop+=t.cursorBackdrop.scrollTop-x,v.scrollLeft+=t.cursorBackdrop.scrollLeft-x,_())}function _(){t.cursorBackdrop.scrollTop=x,t.cursorBackdrop.scrollLeft=x}let x=500;function y(){let k=document.createElement("div");return k.classList.add("lm-cursor-backdrop"),k}let C=0;t.cursorBackdrop=y()})(Yr||(Yr={}))});var Ja,Go,Kn,ap,fe,xb,Xo,_d,Yh,rc,lp,cp,uo,Xa,RS,yb,vd,LS,bd,NS,dp,DS,Jn,gd,wb,OS,Xh,Ya,Yo,fn,o2,QV,nc,Ds,zS,ji,xd,Ri,Ka,fr,Kh,Cb,a2,l2,PS,c2,d2,u2=F(()=>{_a();Ja=H(Hr());s_();n2();_m();gs();s2();a_();l_();Al();o_();Go=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let _=s[p],x=_.minSize,y=_.maxSize,C=_.sizeHint;_.done=!1,_.size=Math.max(x,Math.min(C,y)),u+=_.size,l+=x,c+=y,_.stretch>0&&(d+=_.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size-k<=C.minSize?(p-=C.size-C.minSize,d-=C.stretch,C.size=C.minSize,C.done=!0,m--,f--):(p-=k,C.size-=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size-_<=y.minSize?(p-=y.size-y.minSize,y.size=y.minSize,y.done=!0,m--):(p-=_,y.size-=_))}}}else{let p=o-u;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size+k>=C.maxSize?(p-=C.maxSize-C.size,d-=C.stretch,C.size=C.maxSize,C.done=!0,m--,f--):(p-=k,C.size+=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size+_>=y.maxSize?(p-=y.maxSize-y.size,y.size=y.maxSize,y.done=!0,m--):(p-=_,y.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}t.adjust=i;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(Kn||(Kn={}));ap=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Te(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Te.clearData(this))}},fe=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Te(this),this._hiddenMode=fe.HiddenMode.Display,this.node=xb.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(fe.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&fe.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Te.clearData(this),Oe.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(fe.Flag.IsDisposed)}get isAttached(){return this.testFlag(fe.Flag.IsAttached)}get isHidden(){return this.testFlag(fe.Flag.IsHidden)}get isVisible(){return this.testFlag(fe.Flag.IsVisible)}get title(){return xb.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==fe.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new fe.ChildMessage("child-removed",this);Oe.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new fe.ChildMessage("child-added",this);Oe.sendMessage(this._parent,i)}this.isDisposed||Oe.sendMessage(this,fe.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(fe.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){Oe.postMessage(this,fe.Msg.UpdateRequest)}fit(){Oe.postMessage(this,fe.Msg.FitRequest)}activate(){Oe.postMessage(this,fe.Msg.ActivateRequest)}close(){Oe.sendMessage(this,fe.Msg.CloseRequest)}show(){if(this.testFlag(fe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,fe.Msg.BeforeShow),this.clearFlag(fe.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,fe.Msg.AfterShow),this.parent)){let e=new fe.ChildMessage("child-shown",this);Oe.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(fe.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,fe.Msg.BeforeHide),this.setFlag(fe.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&Oe.sendMessage(this,fe.Msg.AfterHide),this.parent)){let e=new fe.ChildMessage("child-hidden",this);Oe.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(fe.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(fe.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(fe.Flag.IsVisible),this.setFlag(fe.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(fe.Flag.IsVisible),this.clearFlag(fe.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&fe.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case fe.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case fe.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case fe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case fe.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case fe.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case fe.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new hn("before-show"),s.AfterShow=new hn("after-show"),s.BeforeHide=new hn("before-hide"),s.AfterHide=new hn("after-hide"),s.BeforeAttach=new hn("before-attach"),s.AfterAttach=new hn("after-attach"),s.BeforeDetach=new hn("before-detach"),s.AfterDetach=new hn("after-detach"),s.ParentChanged=new hn("parent-changed"),s.UpdateRequest=new ic("update-request"),s.FitRequest=new ic("fit-request"),s.ActivateRequest=new ic("activate-request"),s.CloseRequest=new ic("close-request")}(t.Msg||(t.Msg={}));class e extends hn{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends hn{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");Oe.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),Oe.sendMessage(s,t.Msg.AfterAttach)}t.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");Oe.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),Oe.sendMessage(s,t.Msg.AfterDetach)}t.detach=n})(fe||(fe={}));(function(t){t.titleProperty=new ut({name:"title",create:i=>new ap({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})(xb||(xb={}));Xo=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Te.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)Oe.sendMessage(i,fe.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)Oe.sendMessage(i,fe.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)Oe.sendMessage(i,e)}onAfterAttach(e){for(let i of this)Oe.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)Oe.sendMessage(i,e)}onAfterDetach(e){for(let i of this)Oe.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||Oe.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return Yh.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){Yh.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function r(s){return Yh.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=r;function n(s,o){Yh.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=n})(Xo||(Xo={}));_d=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Ie.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(Xo.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(Xo.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(n-o)/2;break;case"bottom":i+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new fe.ResizeMessage(s,o);Oe.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(Yh||(Yh={}));rc=class extends Xo{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let r=this._widgets.indexOf(i),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){B.insert(this._widgets,n,i),this.parent&&this.attachWidget(n,i);return}n===this._widgets.length&&n--,r!==n&&(B.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=B.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let r=this.parent.node.children[e];this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,r),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterAttach)}moveWidget(e,i,r){this.parent.isAttached&&Oe.sendMessage(r,fe.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&Oe.sendMessage(r,fe.Msg.AfterDetach);let n=this.parent.node.children[i];this.parent.isAttached&&Oe.sendMessage(r,fe.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&Oe.sendMessage(r,fe.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(lp||(lp={}));cp=lp,uo=class extends rc{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=lp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=lp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Xa.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=Xa.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=i-r.offsetLeft:n=i-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);Kn.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let r=new _d(i),n=Xa.createHandle(this.renderer),s=Xa.averageSize(this._sizers),o=Xa.createSizer(s);B.insert(this._items,e,r),B.insert(this._sizers,e,o),B.insert(this._handles,e,n),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(n),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),B.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let r=B.removeAt(this._items,e),n=B.removeAt(this._handles,e);B.removeAt(this._sizers,e),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(n),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=uo.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Ie.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=Kn.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(t){function e(r){return Xa.stretchProperty.get(r)}t.getStretch=e;function i(r,n){Xa.stretchProperty.set(r,n)}t.setStretch=i})(uo||(uo={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new Go;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=n;function s(o){o.parent&&o.parent.layout instanceof uo&&o.parent.fit()}})(Xa||(Xa={}));RS=class extends uo{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=cp.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=yb.createTitle(this.renderer,i.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,i){i.id||(i.id=`id-${Ja.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let r=yb.createTitle(this.renderer,i.title);B.insert(this._titles,e,r),this.parent.node.appendChild(r),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,i)}moveWidget(e,i,r){B.move(this._titles,e,i),super.moveWidget(e,i,r)}detachWidget(e,i){let r=B.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,i)}updateItemPosition(e,i,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,r,n,s,o,a)}};(function(t){function e(i,r,n=!0){let s=i.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(yb||(yb={}));vd=class extends fe{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=LS.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new rc}t.createLayout=e})(LS||(LS={}));bd=class extends vd{constructor(e={}){super({layout:NS.createLayout(e)}),this._handleMoved=new Te(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=B.findFirstIndex(i.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=i.handles[r],o=s.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=er.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?i=e.clientX-n.left-this._pressData.delta:i=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(n){return uo.getStretch(n)}t.getStretch=i;function r(n,s){uo.setStretch(n,s)}t.setStretch=r})(bd||(bd={}));(function(t){function e(i){return i.layout||new uo({renderer:i.renderer||bd.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(NS||(NS={}));dp=class extends bd{constructor(e={}){super({...e,layout:DS.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Te(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=B.findFirstIndex(this.widgets,r=>r.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,r=i.widgets[e];if(!r)return;let n=r.isHidden,s=i.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let r=B.findFirstIndex(this.titles,n=>n.contains(i));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,r=!1;if(i){let n=B.findFirstIndex(this.titles,s=>s.contains(i));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),r.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends bd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(dp||(dp={}));(function(t){function e(i){return i.layout||new RS({renderer:i.renderer||dp.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(DS||(DS={}));Jn=class extends rc{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=cp.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=cp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){B.insert(this._items,e,new _d(i)),B.insert(this._sizers,e,new Go),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);B.removeAt(this._sizers,e),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=gd.isHorizontal(this._direction),r=i?this._fixed:0,n=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=Jn.getSizeBasis(c.widget),u.stretch=Jn.getStretch(c.widget),i?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Ie.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=Kn.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=Kn.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=Kn.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=Kn.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return gd.stretchProperty.get(s)}t.getStretch=e;function i(s,o){gd.stretchProperty.set(s,o)}t.setStretch=i;function r(s){return gd.sizeBasisProperty.get(s)}t.getSizeBasis=r;function n(s,o){gd.sizeBasisProperty.set(s,o)}t.setSizeBasis=n})(Jn||(Jn={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),t.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}t.isHorizontal=e;function i(n){return Math.max(0,Math.floor(n))}t.clampSpacing=i;function r(n){n.parent&&n.parent.layout instanceof Jn&&n.parent.fit()}})(gd||(gd={}));wb=class extends vd{constructor(e={}){super({layout:OS.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return Jn.getStretch(s)}t.getStretch=e;function i(s,o){Jn.setStretch(s,o)}t.setStretch=i;function r(s){return Jn.getSizeBasis(s)}t.getSizeBasis=r;function n(s,o){Jn.setSizeBasis(s,o)}t.setSizeBasis=n})(wb||(wb={}));(function(t){function e(i){return i.layout||new Jn(i)}t.createLayout=e})(OS||(OS={}));Xh=class extends fe{constructor(e){super({node:Ya.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(fe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Xh.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=Ya.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(r=>Ya.createItem(this.commands,r));return i.forEach(r=>this._items.push(r)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){B.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=Ya.search(this._items,i),this._activeIndex=i?B.findFirstIndex(n,Ya.canActivate):-1),!i&&n.length===0){Vt.render(null,r);return}if(i&&n.length===0){let l=this.renderer.renderEmptyMessage({query:i});Vt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Vt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Ie.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=B.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<i-1?e+1:0,n=r===0?i-1:r-1;this._activeIndex=B.findFirstIndex(this._results,Ya.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<=0?i-1:e-1,n=r===i-1?0:r+1;this._activeIndex=B.findLastIndex(this._results,Ya.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let r=this.inputNode;r.value=`${i.category.toLowerCase()} `,r.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(r){let n=this.formatHeader(r);return Se.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?Se.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):Se.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return Se.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return Se.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return Se.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return Se.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:Br.highlight(r.category,r.indices,Se.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:Br.highlight(r.item.label,r.indices,Se.mark)}formatItemCaption(r){return r.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(Xh||(Xh={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new d(f,h)}t.createItem=i;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}t.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let y=l(x,h);y&&(x.isEnabled||(y.score+=1e3),m.push(y))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,x=1/0,y=null,C=/\b\w/g;for(;;){let E=C.exec(_);if(!E)break;let T=Br.matchSumOfDeltas(_,h,E.index);if(!T)break;T.score<=x&&(x=T.score,y=T.indices)}if(!y||x===1/0)return null;let k=m.length+1,M=B.lowerBound(y,k,(E,T)=>E-T),v=y.slice(0,M),I=y.slice(M);for(let E=0,T=I.length;E<T;++E)I[E]-=k;return v.length===0?{matchType:0,categoryIndices:null,labelIndices:I,score:x,item:f}:I.length===0?{matchType:1,categoryIndices:v,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:v,labelIndices:I,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,x=0;switch(f.matchType){case 0:_=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],x=h.categoryIndices[0];break}if(_!==x)return _-x;let y=f.item.category.localeCompare(h.item.category);if(y!==0)return y;let C=f.item.rank,k=h.item.rank;return C!==k?C<k?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:x,labelIndices:y}=f[m],C=_.category;(m===0||C!==f[m-1].item.category)&&h.push({type:"header",category:C,indices:x}),h.push({type:"item",item:_,indices:y})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||Ja.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return B.findLastValue(this._commands.keyBindings,p=>p.command===h&&Ja.JSONExt.deepEqual(p.args,m))||null}}})(Ya||(Ya={}));Yo=class extends fe{constructor(e){super({node:fn.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Te(this),this._menuRequested=new Te(this),this.addClass("lm-Menu"),this.setFlag(fe.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Yo.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!fn.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,r=i<e-1?i+1:0,n=r===0?e-1:r-1;this.activeIndex=B.findFirstIndex(this._items,fn.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,r=i<=0?e-1:i-1,n=r===e-1?0:r+1;this.activeIndex=B.findLastIndex(this._items,fn.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:r}=e;this.commands.isEnabled(i,r)?this.commands.execute(i,r):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=fn.createItem(this,i);return B.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,B.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";fn.openRootMenu(this,e,i,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,r=this.renderer,n=this._activeIndex,s=fn.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Vt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=fn.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:r}=e;if(Ie.hitTest(this._childMenu.node,i,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(fn.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let r=i.submenu;if(r===this._childMenu)return;Yo.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,Oe.sendMessage(this,fe.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];fn.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},fn.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},fn.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){fn.saveWindowData()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return Se.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Yo||(Yo={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function r(){return i>0?(i--,e):u()}function n(){e=u(),i++}t.saveWindowData=n;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,x){for(let y=p;y;y=y.childMenu)if(Ie.hitTest(y.node,_,x))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);B.fill(_,!1);let x=0,y=p.length;for(;x<y;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;_[x]=!0}}let C=y-1;for(;C>=0;--C){let M=p[C];if(M.isVisible){if(M.type!=="separator")break;_[C]=!0}}let k=!1;for(;++x<C;){let M=p[x];M.isVisible&&(M.type!=="separator"?k=!1:k?_[x]=!0:k=!0)}return _}t.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,_,x,y,C,k,M,v){let I=r(),E=I.pageXOffset,T=I.pageYOffset,R=I.clientWidth,P=I.clientHeight;Oe.sendMessage(p,fe.Msg.UpdateRequest);let Y=P-(C?x:0),re=p.node,de=re.style;de.opacity="0",de.maxHeight=`${Y}px`,fe.attach(p,M||document.body,v);let{width:te,height:G}=re.getBoundingClientRect();k==="right"&&(_-=te),!y&&_+te>E+R&&(_=E+R-te),!C&&x+G>T+P&&(x>T+P?x=T+P-G:x=x-G),de.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,x)}px`,de.opacity="1"}t.openRootMenu=d;function f(p,_){let x=r(),y=x.pageXOffset,C=x.pageYOffset,k=x.clientWidth,M=x.clientHeight;Oe.sendMessage(p,fe.Msg.UpdateRequest);let v=M,I=p.node,E=I.style;E.opacity="0",E.maxHeight=`${v}px`,fe.attach(p,document.body);let{width:T,height:R}=I.getBoundingClientRect(),P=Ie.boxSizing(p.node),Y=_.getBoundingClientRect(),re=Y.right-t.SUBMENU_OVERLAP;re+T>y+k&&(re=Y.left+t.SUBMENU_OVERLAP-T);let de=Y.top-P.borderTop-P.paddingTop;de+R>C+M&&(de=Y.bottom+P.borderBottom+P.paddingBottom-R),E.transform=`translate(${Math.max(0,re)}px, ${Math.max(0,de)}px`,E.opacity="1"}t.openSubmenu=f;function h(p,_,x){let y=-1,C=-1,k=!1,M=_.toUpperCase();for(let v=0,I=p.length;v<I;++v){let E=(v+x)%I,T=p[E];if(!o(T))continue;let R=T.label;if(R.length===0)continue;let P=T.mnemonic;if(P>=0&&P<R.length){R[P].toUpperCase()===M&&(y===-1?y=E:k=!0);continue}C===-1&&R[0].toUpperCase()===M&&(C=E)}return{index:y,multiple:k,auto:C}}t.findMnemonic=h;class m{constructor(_,x){this._commands=_,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||Ja.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:x}=this;return B.findLastValue(this._commands.keyBindings,y=>y.command===_&&Ja.JSONExt.deepEqual(y.args,x))||null}return null}}})(fn||(fn={}));(function(t){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let x=h[p];x&&Vi.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}t.matchItems=i;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!Vi.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=Vi.calculateSpecificity(o.selector),c=Vi.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(o2||(o2={}));QV=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],nc=class extends fe{constructor(e={}){super({node:Ds.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Te(this),this._currentChanged=new Te(this),this._addRequested=new Te(this),this._tabCloseRequested=new Te(this),this._tabDetachRequested=new Te(this),this._tabActivateRequested=new Te(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(fe.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||nc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,r=this._titles[i]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let r=Ds.asTitle(i),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(B.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(B.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=B.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Vt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,r=B.findFirstIndex(i,o=>Ie.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=i[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=B.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(QV.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=B.findFirstIndex(r,o=>Ie.hitTest(o,e.clientX,e.clientY));if(n===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!i.dragActive&&!Ds.dragExceeded(i,e))){if(!i.dragActive){let n=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=n.width,i.tabPressPos=i.pressX-n.left):(i.tabPos=i.tab.offsetTop,i.tabSize=n.height,i.tabPressPos=i.pressY-n.top),i.tabPressOffset={x:i.pressX-n.left,y:i.pressY-n.top},i.tabLayout=Ds.snapTabLayout(r,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=er.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Ds.detachExceeded(i,e)){i.detachRequested=!0;let n=i.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Ds.layoutTabs(r,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=B.findFirstIndex(s,c=>Ie.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Ds.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let r=Ds.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Ds.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let n=i.index,s=i.targetIndex;s===-1||n===s||(B.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),Oe.sendMessage(this,fe.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Ds.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:i});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return Se.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return Se.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(nc||(nc={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}t.createNode=e;function i(u){return u instanceof ap?u:new ap(u)}t.asTitle=i;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}t.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],_=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-t.DETACH_THRESHOLD||d.clientX>=f.right+t.DETACH_THRESHOLD||d.clientY<f.top-t.DETACH_THRESHOLD||d.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(u,d,f,h){let m,p,_,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,_=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,_=f.clientY,x=d.contentRect.height);let y=d.index,C=p-d.tabPressPos,k=C+d.tabSize;for(let M=0,v=u.length;M<v;++M){let I,E=d.tabLayout[M],T=E.pos+(E.size>>1);if(M<d.index&&C<T)I=`${d.tabSize+d.tabLayout[M+1].margin}px`,y=Math.min(y,M);else if(M>d.index&&k>T)I=`${-d.tabSize-E.margin}px`,y=Math.max(y,M);else if(M===d.index){let R=_-m,P=x-(d.tabPos+d.tabSize);I=`${Math.max(-d.tabPos,Math.min(R,P))}px`}else I="";h==="horizontal"?u[M].style.left=I:u[M].style.top=I}d.targetIndex=y}t.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let _=u.tabLayout[u.targetIndex];h=_.pos+_.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Ds||(Ds={}));zS=class extends Xo{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=cp.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:fe.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let r of i.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=cp.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():fi()}widgets(){return this._root?this._root.iterUserWidgets():fi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():fi()}tabBars(){return this._root?this._root.iterTabBars():fi()}handles(){return this._root?this._root.iterHandles():fi()}moveHandle(e,i,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),Kn.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,r;e.main?r=ji.normalizeAreaConfig(e.main,i):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;r?this._root=ji.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let r=i.ref||null,n=i.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=i-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new _d(e)),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(ji.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===fe.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=fe.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let r=i.parent;i.parent=null;let n=B.removeFirstOf(r.children,i),s=B.removeAt(r.handles,n);if(B.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof ji.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=B.removeAt(c.handles,u);B.removeAt(c.children,u),B.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];B.insert(c.children,u+f,m),B.insert(c.handles,u+f,p),B.insert(c.sizers,u+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new ji.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),ji.addAria(e,i.tabBar),i}_insertTab(e,i,r,n){if(e===i)return;if(!this._root){let o=new ji.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,ji.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=r.tabBar.titles.indexOf(i.title):s=r.tabBar.currentIndex,this._hiddenMode===fe.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=fe.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=fe.HiddenMode.Scale}else e.hiddenMode=fe.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),ji.addAria(e,r.tabBar)}_insertSplit(e,i,r,n,s,o=!1){if(e===i&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=ji.createSizer(r?1:ji.GOLDEN_RATIO),p=this._createTabNode(e);B.insert(f.children,h,p),B.insert(f.sizers,h,m),B.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let _=f+(s?1:-1),x=a.children[_];if(x instanceof ji.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);B.insert(a.children,m,p),B.insert(a.sizers,m,ji.createSizer(h)),B.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=B.removeFirstOf(a.children,r),c=new ji.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(ji.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);B.insert(c.children,u,d),B.insert(c.sizers,u,ji.createSizer(.5)),B.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),B.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof ji.SplitLayoutNode&&i.orientation===e)return i;let r=this._root=new ji.SplitLayoutNode(e);return i&&(r.children.push(i),r.sizers.push(ji.createSizer(0)),r.handles.push(this._createHandle()),i.parent=r),r}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new Go;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}t.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new Go,p=new Go;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,x=1/0,y=1/0,C=m.get(this.tabBar),k=this.tabBar.currentTitle,M=k?m.get(k.owner):void 0,[v,I]=this.sizers;return C&&C.fit(),M&&M.fit(),C&&!C.isHidden?(p=Math.max(p,C.minWidth),_+=C.minHeight,v.minSize=C.minHeight,v.maxSize=C.maxHeight):(v.minSize=0,v.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),_+=M.minHeight,I.minSize=M.minHeight,I.maxSize=1/0):(I.minSize=0,I.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:x,maxHeight:y}}update(h,m,p,_,x,y){this._top=m,this._left=h,this._width=p,this._height=_;let C=y.get(this.tabBar),k=this.tabBar.currentTitle,M=k?y.get(k.owner):void 0;if(Kn.calc(this.sizers,_),C&&!C.isHidden){let v=this.sizers[0].size;C.update(h,m,p,v),m+=v}if(M&&!M.isHidden){let v=this.sizers[1].size;M.update(h,m,p,v)}}}t.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,x)=>_+x,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,x=p?_:0,y=p?0:_,C=1/0,k=1/0;for(let M=0,v=this.children.length;M<v;++M){let I=this.children[M].fit(h,m);p?(y=Math.max(y,I.minHeight),x+=I.minWidth,this.sizers[M].minSize=I.minWidth):(x=Math.max(x,I.minWidth),y+=I.minHeight,this.sizers[M].minSize=I.minHeight)}return{minWidth:x,minHeight:y,maxWidth:C,maxHeight:k}}update(h,m,p,_,x,y){let C=this.orientation==="horizontal",k=Math.max(0,this.children.length-1)*x,M=Math.max(0,(C?p:_)-k);if(this.normalized){for(let v of this.sizers)v.sizeHint*=M;this.normalized=!1}Kn.calc(this.sizers,M);for(let v=0,I=this.children.length;v<I;++v){let E=this.children[v],T=this.sizers[v].size,R=this.handles[v].style;C?(E.update(h,m,T,_,x,y),h+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${x}px`,R.height=`${_}px`,h+=x):(E.update(h,m,p,T,x,y),m+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${p}px`,R.height=`${x}px`,m+=x)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof nc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let x=0,y=f.children.length;x<y;++x){let C=i(f.children[x],h);C&&(C.type==="tab-area"||C.orientation!==m?(p.push(C),_.push(Math.abs(f.sizes[x]||0))):(p.push(...C.children),_.push(...C.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function u(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,x)=>{let y=r(_,h,m),C=e(f.sizes[x]),k=h.createHandle();p.children.push(y),p.handles.push(k),p.sizers.push(C),y.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(ji||(ji={}));xd=class extends fe{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Te(this),this._addRequested=new Te(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||xd.defaultRenderer,this._edges=e.edges||Ri.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new zS({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new xd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let r of i.tabBars())r.show();break;case"single-document":i.restoreLayout(Ri.createSingleDocumentConfig(this));break;default:throw"unreachable"}Oe.postMessage(this,Ri.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=ps(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ui.IS_EDGE||Ui.IS_IE)&&Oe.flush(),Oe.postMessage(this,Ri.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),Oe.postMessage(this,Ri.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Ri.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Ri.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),Oe.postMessage(this,Ri.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:r}=e,{zone:n,target:s}=Ri.findDropTarget(this,i,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof fe)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Ri.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),Oe.postMessage(this,Ri.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=e.target,n=ps(i.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=er.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),r=e.clientX-i.left-this._pressData.deltaX,n=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),Oe.postMessage(this,Ri.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:r,target:n}=Ri.findDropTarget(this,e,i,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Ie.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Ri.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Ri.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Ri.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Ri.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Ri.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){Oe.postMessage(this,Ri.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:r,currentTitle:n}=i;r&&r.owner.hide(),n&&n.owner.show(),(Ui.IS_EDGE||Ui.IS_IE)&&Oe.flush(),Oe.postMessage(this,Ri.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=i,l=new Ja.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new er({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}t.Overlay=e;class i{createTabBar(n){let s=new nc({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}t.Renderer=i,t.defaultRenderer=new i})(xd||(xd={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ic("layout-modified"),t.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(n,s,o,a){if(!Ie.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let C=n.node.getBoundingClientRect(),k=s-C.left+1,M=o-C.top+1,v=C.right-s,I=C.bottom-o;switch(Math.min(M,v,I,k)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case v:if(v<a.right)return{zone:"root-right",target:null};break;case I:if(I<a.bottom)return{zone:"root-bottom",target:null};break;case k:if(k<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(u>p&&f>p&&d>_&&h>_)return{zone:"widget-all",target:c};u/=p,d/=_,f/=p,h/=_;let x=Math.min(u,d,f,h),y;switch(x){case u:y="widget-left";break;case d:y="widget-top";break;case f:y="widget-right";break;case h:y="widget-bottom";break;default:throw"unreachable"}return{zone:y,target:c}}t.findDropTarget=i;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}t.getDropRef=r})(Ri||(Ri={}));Ka=class extends Xo{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new Go],this._columnSizers=[new Go],this._box=null,e.rowCount!==void 0&&fr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&fr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=fr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=fr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(fr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(fr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=fr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=fr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let r=this._rowSizers[e];r&&(i=fr.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let r=this._columnSizers[e];r&&(i=fr.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){B.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new _d(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=B.findFirstIndex(this._items,n=>n.widget===e);if(i===-1)return;let r=B.removeAt(this._items,i);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,r=this.columnCount-1;e.sort(fr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=Ka.getCellConfig(u.widget),f=Math.min(d.row,i),h=Math.min(d.row+d.rowSpan-1,i);fr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(fr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=Ka.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);fr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){Oe.sendMessage(this.parent,fe.Msg.UpdateRequest);return}let n=i*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Ie.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;Kn.calc(this._rowSizers,Math.max(0,o-c)),Kn.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=Ka.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),y=Math.min(m.column+m.columnSpan-1,l),C=this._columnStarts[_],k=this._rowStarts[p],M=this._columnStarts[y]+this._columnSizers[y].size-C,v=this._rowStarts[x]+this._rowSizers[x].size-k;h.update(C,k,M,v)}}};(function(t){function e(r){return fr.cellConfigProperty.get(r)}t.getCellConfig=e;function i(r,n){fr.cellConfigProperty.set(r,fr.normalizeConfig(n))}t.setCellConfig=i})(Ka||(Ka={}));(function(t){t.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function r(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}t.rowSpanCmp=r;function n(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}t.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new Go);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof Ka&&l.parent.fit()}})(fr||(fr={}));Kh=class extends fe{constructor(e={}){super({node:Cb.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(fe.Flag.DisallowLayout),this.renderer=e.renderer||Kh.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,r=!0){this._closeChildMenu();let n=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){B.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(B.move(this._menus,n,s),r&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let r=B.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new Yo({commands:new jr}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let _=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),u[a]=n.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Vt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>i&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>i){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=Cb.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Ie.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=B.findFirstIndex(this.contentNode.children,r=>Ie.hitTest(r,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let r=this._positionForMenu(i);Yo.saveWindowData(),this.activeIndex=i,this._openChildMenu(r)}}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let r=i>=0&&this._childMenu?this._positionForMenu(i):null;Yo.saveWindowData(),this.activeIndex=i,r&&this._openChildMenu(r)}_positionForMenu(e){let i=this.contentNode.children[e],{left:r,bottom:n}=i.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let r=this._childMenu;if(r===i)return;this._childMenu=i,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,Oe.sendMessage(this,fe.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),i.items.length>0&&i.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(i){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})(Kh||(Kh={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}t.createNode=e;function i(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(Cb||(Cb={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}t.createNode=e;function i(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}t.findPart=i})(a2||(a2={}));l2=class extends Xo{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Oe.sendMessage(e,fe.Msg.AfterDetach)}},PS=class extends rc{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:fe.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===fe.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=fe.HiddenMode.Scale),i.hiddenMode=fe.HiddenMode.Scale):i.hiddenMode=fe.HiddenMode.Display,B.insert(this._items,e,new _d(i)),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&Oe.sendMessage(i,fe.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===fe.HiddenMode.Scale&&(i.hiddenMode=fe.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=fe.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&Oe.sendMessage(this.parent.parent,fe.Msg.FitRequest),this._dirty&&Oe.sendMessage(this.parent,fe.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(t){function e(i){return i.layout||new PS}t.createLayout=e})(c2||(c2={}));(function(t){function e(s){return r[s]}t.orientationFromPlacement=e;function i(s){return n[s]}t.directionFromPlacement=i;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(d2||(d2={}))});var p2,Sb,eG,h2,f2,m2,tG,iG,rG,nG,sG,oG,aG,lG,Zn,BS,yr,Za,g2=F(()=>{$y();p2=H(Hy());vm();Sb=H(Hr());_m();gs();u2();eG="jp-OutputArea",h2="jp-OutputArea-child",f2="jp-OutputArea-output",m2="jp-OutputArea-prompt",tG="jp-OutputArea-stdin-hiding",iG="jp-OutputPrompt",rG="jp-OutputArea-executeResult",nG="jp-OutputArea-stdin-item",sG="jp-Stdin",oG="jp-Stdin-prompt",aG="jp-Stdin-input",lG="jp-OutputArea-promptOverlay",Zn=class extends fe{constructor(e){var i,r,n,s;super(),this.outputLengthChanged=new Te(this),this._onIOPub=a=>{let l=this.model,c=a.header.msg_type,u,f=(a.content.transient||{}).display_id,h;switch(c){case"execute_result":case"display_data":case"stream":case"error":u={...a.content,output_type:c},l.add(u);break;case"clear_output":{let m=a.content.wait;l.clear(m);break}case"update_display_data":if(u={...a.content,output_type:"display_data"},h=this._displayIdMap.get(f),h)for(let m of h)l.set(m,u);break;case"status":{a.content.execution_state==="idle"&&(this._pendingInput=!1);break}default:break}f&&c==="display_data"&&(h=this._displayIdMap.get(f)||[],h.push(l.length-1),this._displayIdMap.set(f,h))},this._onExecuteReply=a=>{let l=this.model,c=a.content;if(c.status!=="ok")return;let u=c&&c.payload;if(!u||!u.length)return;let d=u.filter(m=>m.source==="page");if(!d.length)return;let h={output_type:"display_data",data:JSON.parse(JSON.stringify(d[0])).data,metadata:{}};l.add(h)},this._displayIdMap=new Map,this._minHeightTimeout=null,this._inputRequested=new Te(this),this._toggleScrolling=new Te(this),this._initialize=new Te(this),this._outputTracker=new tT({namespace:Sb.UUID.uuid4()}),this._inputHistoryScope="global",this._pendingInput=!1,super.layout=new rc,this.addClass(eG),this.contentFactory=(i=e.contentFactory)!==null&&i!==void 0?i:Zn.defaultContentFactory,this.rendermime=e.rendermime,this._maxNumberOutputs=(r=e.maxNumberOutputs)!==null&&r!==void 0?r:1/0,this._translator=(n=e.translator)!==null&&n!==void 0?n:Js,this._inputHistoryScope=(s=e.inputHistoryScope)!==null&&s!==void 0?s:"global";let o=this.model=e.model;for(let a=0;a<Math.min(o.length,this._maxNumberOutputs+1);a++){let l=o.get(a);this._insertOutput(a,l)}o.changed.connect(this.onModelChanged,this),o.stateChanged.connect(this.onStateChanged,this),e.promptOverlay&&this._addPromptOverlay()}get layout(){return super.layout}get widgets(){return this.layout.widgets}get future(){return this._future}set future(e){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,e.done.finally(()=>{this._pendingInput=!1}).catch(()=>{}),this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=i=>{p2.KernelMessage.isInputRequestMsg(i)&&this.onInputRequest(i,e)})}get inputRequested(){return this._inputRequested}get pendingInput(){return this._pendingInput}get maxNumberOutputs(){return this._maxNumberOutputs}set maxNumberOutputs(e){if(e<=0){console.warn("OutputArea.maxNumberOutputs must be strictly positive.");return}let i=this._maxNumberOutputs;this._maxNumberOutputs=e,i<e&&this._showTrimmedOutputs(i)}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(e,i){switch(i.type){case"add":let r=i.newValues[0];this._insertOutput(i.newIndex,r),r.type==="stream"&&r.streamText.changed.connect((n,s)=>{this._setOutput(i.newIndex,r)});break;case"remove":if(this.widgets.length)if(this.model.length===0)this._clear();else{let n=i.oldIndex;for(let s=0;s<i.oldValues.length&&n<this.widgets.length;++s){let o=this.widgets[n];o.parent=null,o.dispose()}this._moveDisplayIdIndices(n,i.oldValues.length),this._preventHeightChangeJitter()}break;case"set":this._setOutput(i.newIndex,i.newValues[0]);break;default:break}this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}get toggleScrolling(){return this._toggleScrolling}get initialize(){return this._initialize}_addPromptOverlay(){let e=document.createElement("div");e.className=lG,e.addEventListener("click",()=>{this._toggleScrolling.emit()}),this.node.appendChild(e),requestAnimationFrame(()=>{this._initialize.emit()})}_moveDisplayIdIndices(e,i){this._displayIdMap.forEach(r=>{let n=e+i,s=r.length;for(let o=s-1;o>=0;--o){let a=r[o];a>=e&&a<n?r.splice(o,1):a>=n&&(r[o]-=i)}})}onStateChanged(e,i){let r=Math.min(this.model.length,this._maxNumberOutputs);if(i){if(i>=this._maxNumberOutputs)return;this._setOutput(i,this.model.get(i))}else for(let n=0;n<r;n++)this._setOutput(n,this.model.get(n));this.outputLengthChanged.emit(r)}_clear(){if(!this.widgets.length)return;let e=this.widgets.length;for(let i=0;i<e;i++){let r=this.widgets[0];r.parent=null,r.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){let e=this.node.getBoundingClientRect();this.node.style.minHeight=`${e.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(()=>{this.isDisposed||(this.node.style.minHeight="")},50)}onInputRequest(e,i){let r=this.contentFactory,n=e.content.prompt,s=e.content.password,o=new vd;o.addClass(h2),o.addClass(nG);let a=r.createOutputPrompt();a.addClass(m2),o.addWidget(a),this._pendingInput=!0;let l=r.createStdin({parent_header:e.header,prompt:n,password:s,future:i,translator:this._translator,inputHistoryScope:this._inputHistoryScope});l.addClass(f2),o.addWidget(l),this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length),this._inputRequested.emit(l);let c=l.node.getElementsByTagName("input")[0];l.value.then(u=>{this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length+1),o.addClass(tG),this.model.add({output_type:"stream",name:"stdin",text:u+`
`}),c.focus(),this._pendingInput=!1,window.setTimeout(()=>{let d=document.activeElement;o.dispose(),d&&d instanceof HTMLElement&&d.focus()},500)}),this.layout.addWidget(o)}_setOutput(e,i){if(e>=this._maxNumberOutputs)return;let r=this.layout.widgets[e],n=r.widgets?r.widgets.filter(o=>"renderModel"in o).pop():r,s=this.rendermime.preferredMimeType(i.data,i.trusted?"any":"ensure");Za.currentPreferredMimetype.get(n)===s&&Zn.isIsolated(s,i.metadata)===n instanceof Za.IsolatedRenderer?n.renderModel(i):(this.layout.widgets[e].dispose(),this._insertOutput(e,i))}_insertOutput(e,i){if(e>this._maxNumberOutputs)return;let r=this.layout;if(e===this._maxNumberOutputs){let n=new Za.TrimmedOutputs(this._maxNumberOutputs,()=>{let s=this._maxNumberOutputs;this._maxNumberOutputs=1/0,this._showTrimmedOutputs(s)});r.insertWidget(e,this._wrappedOutput(n))}else{let n=this.createOutputItem(i);n?n.toggleClass(rG,i.executionCount!==null):n=new fe,this._outputTracker.has(n)||this._outputTracker.add(n),r.insertWidget(e,n)}}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(e){this.widgets[e].dispose();for(let i=e;i<this.model.length;i++)this._insertOutput(i,this.model.get(i));this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}createOutputItem(e){let i=this.createRenderedMimetype(e);return i?this._wrappedOutput(i,e.executionCount):null}createRenderedMimetype(e){let i=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");if(!i)return null;let r=this.rendermime.createRenderer(i);return Zn.isIsolated(i,e.metadata)===!0&&(r=new Za.IsolatedRenderer(r)),Za.currentPreferredMimetype.set(r,i),r.renderModel(e).catch(s=>{let o=document.createElement("pre"),a=this._translator.load("jupyterlab");o.textContent=a.__("Javascript Error: %1",s.message),r.node.appendChild(o),r.node.className="lm-Widget jp-RenderedText",r.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")}),r}_wrappedOutput(e,i=null){let r=new Za.OutputPanel;r.addClass(h2);let n=this.contentFactory.createOutputPrompt();return n.executionCount=i,n.addClass(m2),r.addWidget(n),e.addClass(f2),r.addWidget(e),r}};(function(t){async function e(n,s,o,a){var l;let c=!0;a&&Array.isArray(a.tags)&&a.tags.indexOf("raises-exception")!==-1&&(c=!1);let u={code:n,stop_on_error:c},d=(l=o.session)===null||l===void 0?void 0:l.kernel;if(!d)throw new Error("Session has no kernel.");let f=d.requestExecute(u,!1,a);return s.future=f,f.done}t.execute=e;function i(n,s){let o=s[n];return o&&o.isolated!==void 0?!!o.isolated:!!s.isolated}t.isIsolated=i;class r{createOutputPrompt(){return new BS}createStdin(s){return new yr(s)}}t.ContentFactory=r,t.defaultContentFactory=new r})(Zn||(Zn={}));BS=class extends fe{constructor(){super(),this._executionCount=null,this.addClass(iG)}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,e===null?this.node.textContent="":this.node.textContent=`[${e}]:`}},yr=class extends fe{static _historyIx(e,i){let r=yr._history.get(e);if(!r)return;let n=r.length;if(i<=0)return n+i}static _historyAt(e,i){let r=yr._history.get(e);if(!r)return;let n=r.length,s=yr._historyIx(e,i);if(s!==void 0&&s<n)return r[s]}static _historyPush(e,i){let r=yr._history.get(e);r.push(i),r.length>1e3&&r.shift()}static _historySearch(e,i,r,n=!0){let s=yr._history.get(e),o=s.length,a=yr._historyIx(e,r),l=c=>c.search(i)!==-1;if(a!==void 0)if(n){if(a===0)return;let c=s.slice(0,a).findLastIndex(l);if(c!==-1)return c-o}else{if(a>=o-1)return;let c=s.slice(a+1).findIndex(l);if(c!==-1)return c-o+a+1}}constructor(e){var i;super({node:Za.createInputWidgetNode(e.prompt,e.password)}),this._promise=new Sb.PromiseDelegate,this._resolved=!1,this.addClass(sG),this._future=e.future,this._historyIndex=0,this._historyKey=e.inputHistoryScope==="session"?e.parent_header.session:"",this._historyPat="",this._parentHeader=e.parent_header,this._password=e.password,this._trans=((i=e.translator)!==null&&i!==void 0?i:Js).load("jupyterlab"),this._value=e.prompt+" ",this._input=this.node.getElementsByTagName("input")[0],this._password?this._input.placeholder="":this._input.placeholder=this._trans.__("\u2191\u2193 for history. Search history with c-\u2191/c-\u2193"),yr._history.has(this._historyKey)||yr._history.set(this._historyKey,[])}get value(){return this._promise.promise.then(()=>this._value)}handleEvent(e){if(this._resolved){e.preventDefault();return}let i=this._input;if(e.type==="keydown"){if(e.key==="Enter")this.resetSearch(),this._future.sendInputReply({status:"ok",value:i.value},this._parentHeader),this._password?this._value+="\xB7\xB7\xB7\xB7\xB7\xB7\xB7\xB7":(this._value+=i.value,yr._historyPush(this._historyKey,i.value)),this._resolved=!0,this._promise.resolve(void 0);else if(e.key==="Escape")this.resetSearch(),i.blur();else if(e.ctrlKey&&(e.key==="ArrowUp"||e.key==="ArrowDown")){this._historyPat===""&&(this._historyPat=i.value);let r=e.key==="ArrowUp",n=yr._historySearch(this._historyKey,this._historyPat,this._historyIndex,r);if(n!==void 0){let s=yr._historyAt(this._historyKey,n);s!==void 0&&(this._historyIndex===0&&(this._valueCache=i.value),this._setInputValue(s),this._historyIndex=n,e.preventDefault())}}else if(e.key==="ArrowUp"){this.resetSearch();let r=yr._historyAt(this._historyKey,this._historyIndex-1);r&&(this._historyIndex===0&&(this._valueCache=i.value),this._setInputValue(r),--this._historyIndex,e.preventDefault())}else if(e.key==="ArrowDown"&&(this.resetSearch(),this._historyIndex!==0))if(this._historyIndex===-1)this._setInputValue(this._valueCache),++this._historyIndex;else{let r=yr._historyAt(this._historyKey,this._historyIndex+1);r&&(this._setInputValue(r),++this._historyIndex)}}}resetSearch(){this._historyPat=""}onAfterAttach(e){this._input.addEventListener("keydown",this),this._input.focus()}onBeforeDetach(e){this._input.removeEventListener("keydown",this)}_setInputValue(e){this._input.value=e,this._input.setSelectionRange(e.length,e.length)}};yr._history=new Map;(function(t){function e(s,o){let a=document.createElement("div"),l=document.createElement("pre");l.className=oG,l.textContent=s;let c=document.createElement("input");return c.className=aG,o&&(c.type="password"),a.appendChild(l),l.appendChild(c),a}t.createInputWidgetNode=e;class i extends fe{constructor(o){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=o;let a=this.node;a.frameBorder="0",a.scrolling="auto",a.addEventListener("load",()=>{a.contentDocument.open(),a.contentDocument.write(this._wrapped.node.innerHTML),a.contentDocument.close();let l=a.contentDocument.body;a.style.height=`${l.scrollHeight}px`,a.heightChangeObserver=new ResizeObserver(()=>{a.style.height=`${l.scrollHeight}px`}),a.heightChangeObserver.observe(l)})}renderModel(o){return this._wrapped.renderModel(o)}}t.IsolatedRenderer=i,t.currentPreferredMimetype=new ut({name:"preferredMimetype",create:s=>""});class r extends vd{constructor(o){super(o)}_onContext(o){this.node.focus()}onAfterAttach(o){super.onAfterAttach(o),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(o){super.onAfterDetach(o),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}t.OutputPanel=r;class n extends fe{constructor(o,a){let l=document.createElement("div"),c=`The first ${o} are displayed`,u="Show more outputs";l.insertAdjacentHTML("afterbegin",`<a title=${c}>
          <pre>${u}</pre>
        </a>`),super({node:l}),this._onClick=a,this.addClass("jp-TrimmedOutputs"),this.addClass("jp-RenderedHTMLCommon")}handleEvent(o){o.type==="click"&&this._onClick(o)}onAfterAttach(o){super.onAfterAttach(o),this.node.addEventListener("click",this)}onBeforeDetach(o){super.onBeforeDetach(o),this.node.removeEventListener("click",this)}}t.TrimmedOutputs=n})(Za||(Za={}))});var HS=F(()=>{i2();g2()});var _2,up,v2=F(()=>{_2=H(Hr());Pc();up=class extends bs{constructor(e,i){super(),this._manager=new _2.PromiseDelegate,this._rerenderMimeModel=null,this.mimeType=e.mimeType,i&&(this.manager=i)}set manager(e){e.restored.connect(this._rerender,this),this._manager.resolve(e)}async renderModel(e){let i=e.data[this.mimeType];this.node.textContent="Loading widget...";let r=await this._manager.promise;if(i.model_id==="")return this.hide(),Promise.resolve();let n;try{n=await r.get_model(i.model_id)}catch(o){if(r.restoredStatus){this.node.textContent="Error displaying widget: model not found",this.addClass("jupyter-widgets"),console.error(o);return}this._rerenderMimeModel=e;return}this._rerenderMimeModel=null;let s;try{let o=await r.create_view(n);s=o.luminoWidget||o.pWidget}catch(o){this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets"),console.error(o);return}this.node.textContent="",this.addWidget(s),s.disposed.connect(()=>{this.hide(),i.model_id=""})}dispose(){this.isDisposed||(this._manager=null,super.dispose())}_rerender(){this._rerenderMimeModel&&(this.node.textContent="",this.removeClass("jupyter-widgets"),this.renderModel(this._rerenderMimeModel))}}});function Ib(t,e){return t.filter(i=>e.indexOf(i)===-1)}function Jh(t,e){return(0,b2.default)(t,e)}function Xt(){return Eb.UUID.uuid4()}function Jo(t){let e=Object.keys(t),i=[];return e.forEach(function(r){i.push(t[r])}),Promise.all(i).then(r=>{let n={};for(let s=0;s<e.length;s++)n[e[s]]=r[s];return n})}function Xr(t,e){return function(r){throw e&&console.error(new Error(t)),r}}function sc(t,e,i){for(let r=0;r<e.length;r++){let n=e[r],s=i[r];s instanceof DataView||(s=new DataView(s instanceof ArrayBuffer?s:s.buffer));let o=t;for(let a=0;a<n.length-1;a++)o=o[n[a]];o[n[n.length-1]]=s}}function x2(t){var e;return(e=typeof t=="object"&&t&&"toJSON"in t)!==null&&e!==void 0?e:!1}function y2(t){return Eb.JSONExt.isObject(t)}function hp(t){let e=[],i=[];function r(s,o){if(x2(s)&&(s=s.toJSON()),Array.isArray(s)){let a=!1;for(let l=0;l<s.length;l++){let c=s[l];if(c)if(c instanceof ArrayBuffer||ArrayBuffer.isView(c))a||(s=s.slice(),a=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),i.push(o.concat([l])),s[l]=null;else{let u=r(c,o.concat([l]));u!==c&&(a||(s=s.slice(),a=!0),s[l]=u)}}}else if(y2(s))for(let a in s){let l=!1;if(Object.prototype.hasOwnProperty.call(s,a)){let c=s[a];if(c)if(c instanceof ArrayBuffer||ArrayBuffer.isView(c))l||(s=Object.assign({},s),l=!0),e.push(ArrayBuffer.isView(c)?c.buffer:c),i.push(o.concat([a])),delete s[a];else{let u=r(c,o.concat([a]));u!==c&&(l||(s=Object.assign({},s),l=!0),s[a]=u)}}}return s}return{state:r(t,[]),buffers:e,buffer_paths:i}}var Eb,b2,Ko,Mb,yd=F(()=>{Eb=H(Hr()),b2=H(n$());Ko=Object.assign||function(t,...e){for(let i=1;i<e.length;i++){let r=e[i];for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};Mb=`<svg style="height:50%;max-height: 50px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
<g >
  <g transform="translate(0.24520123,0.93464292)">
    <path  d="M 8.2494641,21.074514 V 5.6225142 c 0,-0.314 0.254,-0.567 0.57,-0.567 H 29.978464 c 2.388,0 9.268,5.8269998 9.268,8.3029998 v 5.5835 l -3.585749,4.407396 -2.772971,-3.535534 -5.126524,3.414213 -5.944543,-3.237436 -5.722718,3.06066 z m 30.9969999,3.8675 v 15.5835 c 0,0.314 -0.254,0.567 -0.57,0.567 H 8.8194641 c -0.315,0.002 -0.57,-0.251 -0.57,-0.566 v -15.452 l 7.8444949,2.628449 5.656854,-2.65165 4.24264,3.005204 5.833631,-3.237437 3.712311,3.944543 z" style="fill:url(#linearGradient3448);stroke:#888a85"  />
    <path d="m 30.383464,12.110514 c 4.108,0.159 7.304,-0.978 8.867,1.446 0.304,-3.9679998 -7.254,-8.8279998 -9.285,-8.4979998 0.813,0.498 0.418,7.0519998 0.418,7.0519998 z" style="fill:url(#linearGradient3445);stroke:#868a84" />
    <path enable-background="new" d="m 31.443464,11.086514 c 2.754,-0.019 4.106,-0.49 5.702,0.19 -1.299,-1.8809998 -4.358,-3.3439998 -5.728,-4.0279998 0.188,0.775 0.026,3.8379998 0.026,3.8379998 z" style="opacity:0.36930003;fill:none;stroke:url(#linearGradient3442)" />
  </g>
</g>
</svg>`});function S2(t,e,i){if(t==null)return this;let r;if(C2.JSONExt.isObject(t)?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;let n=i.unset,s=i.silent,o=[],a=this._changing;this._changing=!0;try{a||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});let l=this.attributes,c=this.changed,u=this._previousAttributes;for(let d in r)e=r[d],Jh(l[d],e)||o.push(d),Jh(u[d],e)?delete c[d]:c[d]=e,n?delete l[d]:l[d]=e;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=i);for(let d=0;d<o.length;d++)this.trigger("change:"+o[d],this,l[o[d]],i)}if(a)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i)}finally{this._pending=!1,this._changing=!1}return this}var C2,E2=F(()=>{yd();C2=H(Hr())});var fp,jS,mp,kb,FS,I2,Zo,Qa,M2,$S,k2,T2,WS,qS,US,A2,R2,Tb,VS,L2,ai=F(()=>{fp="1.13.7",jS=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||Function("return this")()||{},mp=Array.prototype,kb=Object.prototype,FS=typeof Symbol<"u"?Symbol.prototype:null,I2=mp.push,Zo=mp.slice,Qa=kb.toString,M2=kb.hasOwnProperty,$S=typeof ArrayBuffer<"u",k2=typeof DataView<"u",T2=Array.isArray,WS=Object.keys,qS=Object.create,US=$S&&ArrayBuffer.isView,A2=isNaN,R2=isFinite,Tb=!{toString:null}.propertyIsEnumerable("toString"),VS=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L2=Math.pow(2,53)-1});function Wt(t,e){return e=e==null?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(n=0;n<e;n++)s[n]=arguments[n];return s[e]=r,t.apply(this,s)}}var Rn=F(()=>{});function Kr(t){var e=typeof t;return e==="function"||e==="object"&&!!t}var oc=F(()=>{});function Ab(t){return t===null}var N2=F(()=>{});function Zh(t){return t===void 0}var GS=F(()=>{});function Qh(t){return t===!0||t===!1||Qa.call(t)==="[object Boolean]"}var YS=F(()=>{ai()});function Rb(t){return!!(t&&t.nodeType===1)}var D2=F(()=>{});function Rt(t){var e="[object "+t+"]";return function(i){return Qa.call(i)===e}}var Lr=F(()=>{ai()});var wd,Lb=F(()=>{Lr();wd=Rt("String")});var pp,XS=F(()=>{Lr();pp=Rt("Number")});var KS,O2=F(()=>{Lr();KS=Rt("Date")});var JS,z2=F(()=>{Lr();JS=Rt("RegExp")});var ZS,P2=F(()=>{Lr();ZS=Rt("Error")});var gp,QS=F(()=>{Lr();gp=Rt("Symbol")});var _p,e1=F(()=>{Lr();_p=Rt("ArrayBuffer")});var B2,dG,Kt,Qn=F(()=>{Lr();ai();B2=Rt("Function"),dG=jS.document&&jS.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof dG!="function"&&(B2=function(t){return typeof t=="function"||!1});Kt=B2});var t1,H2=F(()=>{Lr();t1=Rt("Object")});var Nb,ef,tf=F(()=>{ai();H2();Nb=k2&&(!/\[native code\]/.test(String(DataView))||t1(new DataView(new ArrayBuffer(8)))),ef=typeof Map<"u"&&t1(new Map)});function hG(t){return t!=null&&Kt(t.getInt8)&&_p(t.buffer)}var uG,ac,Db=F(()=>{Lr();Qn();e1();tf();uG=Rt("DataView");ac=Nb?hG:uG});var mn,lc=F(()=>{ai();Lr();mn=T2||Rt("Array")});function Nr(t,e){return t!=null&&M2.call(t,e)}var el=F(()=>{ai()});var i1,Cd,Ob=F(()=>{Lr();el();i1=Rt("Arguments");(function(){i1(arguments)||(i1=function(t){return Nr(t,"callee")})})();Cd=i1});function zb(t){return!gp(t)&&R2(t)&&!isNaN(parseFloat(t))}var j2=F(()=>{ai();QS()});function rf(t){return pp(t)&&A2(t)}var r1=F(()=>{ai();XS()});function nf(t){return function(){return t}}var n1=F(()=>{});function vp(t){return function(e){var i=t(e);return typeof i=="number"&&i>=0&&i<=L2}}var s1=F(()=>{ai()});function bp(t){return function(e){return e?.[t]}}var o1=F(()=>{});var Sd,Pb=F(()=>{o1();Sd=bp("byteLength")});var F2,$2=F(()=>{s1();Pb();F2=vp(Sd)});function mG(t){return US?US(t)&&!ac(t):F2(t)&&fG.test(Qa.call(t))}var fG,xp,a1=F(()=>{ai();Db();n1();$2();fG=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;xp=$S?mG:nf(!1)});var ei,es=F(()=>{o1();ei=bp("length")});function pG(t){for(var e={},i=t.length,r=0;r<i;++r)e[t[r]]=!0;return{contains:function(n){return e[n]===!0},push:function(n){return e[n]=!0,t.push(n)}}}function yp(t,e){e=pG(e);var i=VS.length,r=t.constructor,n=Kt(r)&&r.prototype||kb,s="constructor";for(Nr(t,s)&&!e.contains(s)&&e.push(s);i--;)s=VS[i],s in t&&t[s]!==n[s]&&!e.contains(s)&&e.push(s)}var l1=F(()=>{ai();Qn();el()});function wt(t){if(!Kr(t))return[];if(WS)return WS(t);var e=[];for(var i in t)Nr(t,i)&&e.push(i);return Tb&&yp(t,e),e}var wr=F(()=>{oc();ai();el();l1()});function Bb(t){if(t==null)return!0;var e=ei(t);return typeof e=="number"&&(mn(t)||wd(t)||Cd(t))?e===0:ei(wt(t))===0}var W2=F(()=>{es();lc();Lb();Ob();wr()});function sf(t,e){var i=wt(e),r=i.length;if(t==null)return!r;for(var n=Object(t),s=0;s<r;s++){var o=i[s];if(e[o]!==n[o]||!(o in n))return!1}return!0}var c1=F(()=>{wr()});function mt(t){if(t instanceof mt)return t;if(!(this instanceof mt))return new mt(t);this._wrapped=t}var Ln=F(()=>{ai();mt.VERSION=fp;mt.prototype.value=function(){return this._wrapped};mt.prototype.valueOf=mt.prototype.toJSON=mt.prototype.value;mt.prototype.toString=function(){return String(this._wrapped)}});function Hb(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Sd(t))}var q2=F(()=>{Pb()});function d1(t,e,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var n=typeof t;return n!=="function"&&n!=="object"&&typeof e!="object"?!1:V2(t,e,i,r)}function V2(t,e,i,r){t instanceof mt&&(t=t._wrapped),e instanceof mt&&(e=e._wrapped);var n=Qa.call(t);if(n!==Qa.call(e))return!1;if(Nb&&n=="[object Object]"&&ac(t)){if(!ac(e))return!1;n=U2}switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return FS.valueOf.call(t)===FS.valueOf.call(e);case"[object ArrayBuffer]":case U2:return V2(Hb(t),Hb(e),i,r)}var s=n==="[object Array]";if(!s&&xp(t)){var o=Sd(t);if(o!==Sd(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(Kt(a)&&a instanceof a&&Kt(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],r=r||[];for(var c=i.length;c--;)if(i[c]===t)return r[c]===e;if(i.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!d1(t[c],e[c],i,r))return!1}else{var u=wt(t),d;if(c=u.length,wt(e).length!==c)return!1;for(;c--;)if(d=u[c],!(Nr(e,d)&&d1(t[d],e[d],i,r)))return!1}return i.pop(),r.pop(),!0}function jb(t,e){return d1(t,e)}var U2,G2=F(()=>{Ln();ai();Pb();a1();Qn();tf();Db();wr();el();q2();U2="[object DataView]"});function Os(t){if(!Kr(t))return[];var e=[];for(var i in t)e.push(i);return Tb&&yp(t,e),e}var of=F(()=>{oc();ai();l1()});function af(t){var e=ei(t);return function(i){if(i==null)return!1;var r=Os(i);if(ei(r))return!1;for(var n=0;n<e;n++)if(!Kt(i[t[n]]))return!1;return t!==f1||!Kt(i[u1])}}var u1,Y2,h1,X2,K2,f1,J2,Fb=F(()=>{es();Qn();of();u1="forEach",Y2="has",h1=["clear","delete"],X2=["get",Y2,"set"],K2=h1.concat(u1,X2),f1=h1.concat(X2),J2=["add"].concat(h1,u1,Y2)});var m1,Z2=F(()=>{Lr();tf();Fb();m1=ef?af(K2):Rt("Map")});var p1,Q2=F(()=>{Lr();tf();Fb();p1=ef?af(f1):Rt("WeakMap")});var g1,eP=F(()=>{Lr();tf();Fb();g1=ef?af(J2):Rt("Set")});var _1,tP=F(()=>{Lr();_1=Rt("WeakSet")});function Nn(t){for(var e=wt(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=t[e[n]];return r}var Ed=F(()=>{wr()});function $b(t){for(var e=wt(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=[e[n],t[e[n]]];return r}var iP=F(()=>{wr()});function lf(t){for(var e={},i=wt(t),r=0,n=i.length;r<n;r++)e[t[i[r]]]=i[r];return e}var v1=F(()=>{wr()});function Id(t){var e=[];for(var i in t)Kt(t[i])&&e.push(i);return e.sort()}var b1=F(()=>{Qn()});function Md(t,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||i==null)return i;for(var n=1;n<r;n++)for(var s=arguments[n],o=t(s),a=o.length,l=0;l<a;l++){var c=o[l];(!e||i[c]===void 0)&&(i[c]=s[c])}return i}}var Wb=F(()=>{});var wp,x1=F(()=>{Wb();of();wp=Md(Os)});var cc,qb=F(()=>{Wb();wr();cc=Md(wt)});var Cp,y1=F(()=>{Wb();of();Cp=Md(Os,!0)});function gG(){return function(){}}function Sp(t){if(!Kr(t))return{};if(qS)return qS(t);var e=gG();e.prototype=t;var i=new e;return e.prototype=null,i}var w1=F(()=>{oc();ai()});function Ub(t,e){var i=Sp(t);return e&&cc(i,e),i}var rP=F(()=>{w1();qb()});function Vb(t){return Kr(t)?mn(t)?t.slice():wp({},t):t}var nP=F(()=>{oc();lc();x1()});function Gb(t,e){return e(t),t}var sP=F(()=>{});function Ep(t){return mn(t)?t:[t]}var C1=F(()=>{Ln();lc();mt.toPath=Ep});function ho(t){return mt.toPath(t)}var cf=F(()=>{Ln();C1()});function kd(t,e){for(var i=e.length,r=0;r<i;r++){if(t==null)return;t=t[e[r]]}return i?t:void 0}var Yb=F(()=>{});function df(t,e,i){var r=kd(t,ho(e));return Zh(r)?i:r}var S1=F(()=>{cf();Yb();GS()});function Xb(t,e){e=ho(e);for(var i=e.length,r=0;r<i;r++){var n=e[r];if(!Nr(t,n))return!1;t=t[n]}return!!i}var oP=F(()=>{el();cf()});function dc(t){return t}var Kb=F(()=>{});function fo(t){return t=cc({},t),function(e){return sf(e,t)}}var Ip=F(()=>{qb();c1()});function uc(t){return t=ho(t),function(e){return kd(e,t)}}var Jb=F(()=>{Yb();cf()});function mo(t,e,i){if(e===void 0)return t;switch(i??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,s){return t.call(e,r,n,s)};case 4:return function(r,n,s,o){return t.call(e,r,n,s,o)}}return function(){return t.apply(e,arguments)}}var uf=F(()=>{});function Mp(t,e,i){return t==null?dc:Kt(t)?mo(t,e,i):Kr(t)&&!mn(t)?fo(t):uc(t)}var E1=F(()=>{Kb();Qn();oc();lc();Ip();Jb();uf()});function Td(t,e){return Mp(t,e,1/0)}var I1=F(()=>{Ln();E1();mt.iteratee=Td});function qt(t,e,i){return mt.iteratee!==Td?mt.iteratee(t,e):Mp(t,e,i)}var pn=F(()=>{Ln();E1();I1()});function Zb(t,e,i){e=qt(e,i);for(var r=wt(t),n=r.length,s={},o=0;o<n;o++){var a=r[o];s[a]=e(t[a],a,t)}return s}var aP=F(()=>{pn();wr()});function hf(){}var M1=F(()=>{});function Qb(t){return t==null?hf:function(e){return df(t,e)}}var lP=F(()=>{M1();S1()});function e0(t,e,i){var r=Array(Math.max(0,t));e=mo(e,i,1);for(var n=0;n<t;n++)r[n]=e(n);return r}var cP=F(()=>{uf()});function Ad(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}var k1=F(()=>{});var tl,t0=F(()=>{tl=Date.now||function(){return new Date().getTime()}});function kp(t){var e=function(s){return t[s]},i="(?:"+wt(t).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(n,e):s}}var T1=F(()=>{wr()});var i0,A1=F(()=>{i0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var R1,dP=F(()=>{T1();A1();R1=kp(i0)});var uP,hP=F(()=>{v1();A1();uP=lf(i0)});var L1,fP=F(()=>{T1();hP();L1=kp(uP)});var N1,D1=F(()=>{Ln();N1=mt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function bG(t){return"\\"+_G[t]}function r0(t,e,i){!e&&i&&(e=i),e=Cp({},e,mt.templateSettings);var r=RegExp([(e.escape||O1).source,(e.interpolate||O1).source,(e.evaluate||O1).source].join("|")+"|$","g"),n=0,s="__p+='";t.replace(r,function(c,u,d,f,h){return s+=t.slice(n,h).replace(vG,bG),n=h+c.length,u?s+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:d?s+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:f&&(s+=`';
`+f+`
__p+='`),c}),s+=`';
`;var o=e.variable;if(o){if(!xG.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return a.call(this,c,mt)};return l.source="function("+o+`){
`+s+"}",l}var O1,_G,vG,xG,mP=F(()=>{y1();Ln();D1();O1=/(.)^/,_G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},vG=/\\|'|\r|\n|\u2028|\u2029/g;xG=/^\s*(\w|\$)+\s*$/});function n0(t,e,i){e=ho(e);var r=e.length;if(!r)return Kt(i)?i.call(t):i;for(var n=0;n<r;n++){var s=t?.[e[n]];s===void 0&&(s=i,n=r),t=Kt(s)?s.call(t):s}return t}var pP=F(()=>{Qn();cf()});function s0(t){var e=++yG+"";return t?t+e:e}var yG,gP=F(()=>{yG=0});function o0(t){var e=mt(t);return e._chain=!0,e}var _P=F(()=>{Ln()});function Tp(t,e,i,r,n){if(!(r instanceof e))return t.apply(i,n);var s=Sp(t.prototype),o=t.apply(s,n);return Kr(o)?o:s}var z1=F(()=>{w1();oc()});var P1,il,Ap=F(()=>{Rn();z1();Ln();P1=Wt(function(t,e){var i=P1.placeholder,r=function(){for(var n=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===i?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return Tp(t,r,this,this,o)};return r});P1.placeholder=mt;il=P1});var Rp,B1=F(()=>{Rn();Qn();z1();Rp=Wt(function(t,e,i){if(!Kt(t))throw new TypeError("Bind must be called on a function");var r=Wt(function(n){return Tp(t,r,e,this,i.concat(n))});return r})});var ti,Dn=F(()=>{s1();es();ti=vp(ei)});function On(t,e,i,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var n=r.length,s=0,o=ei(t);s<o;s++){var a=t[s];if(ti(a)&&(mn(a)||Cd(a)))if(e>1)On(a,e-1,i,r),n=r.length;else for(var l=0,c=a.length;l<c;)r[n++]=a[l++];else i||(r[n++]=a)}return r}var Rd=F(()=>{es();Dn();lc();Ob()});var H1,vP=F(()=>{Rn();Rd();B1();H1=Wt(function(t,e){e=On(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];t[r]=Rp(t[r],t)}return t})});function a0(t,e){var i=function(r){var n=i.cache,s=""+(e?e.apply(this,arguments):r);return Nr(n,s)||(n[s]=t.apply(this,arguments)),n[s]};return i.cache={},i}var bP=F(()=>{el()});var Lp,j1=F(()=>{Rn();Lp=Wt(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)})});var F1,xP=F(()=>{Ap();j1();Ln();F1=il(Lp,mt,1)});function l0(t,e,i){var r,n,s,o,a=0;i||(i={});var l=function(){a=i.leading===!1?0:tl(),r=null,o=t.apply(n,s),r||(n=s=null)},c=function(){var u=tl();!a&&i.leading===!1&&(a=u);var d=e-(u-a);return n=this,s=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),a=u,o=t.apply(n,s),r||(n=s=null)):!r&&i.trailing!==!1&&(r=setTimeout(l,d)),o};return c.cancel=function(){clearTimeout(r),a=0,r=n=s=null},c}var yP=F(()=>{t0()});function c0(t,e,i){var r,n,s,o,a,l=function(){var u=tl()-n;e>u?r=setTimeout(l,e-u):(r=null,i||(o=t.apply(a,s)),r||(s=a=null))},c=Wt(function(u){return a=this,s=u,n=tl(),r||(r=setTimeout(l,e),i&&(o=t.apply(a,s))),o});return c.cancel=function(){clearTimeout(r),r=s=a=null},c}var wP=F(()=>{Rn();t0()});function d0(t,e){return il(e,t)}var CP=F(()=>{Ap()});function hc(t){return function(){return!t.apply(this,arguments)}}var u0=F(()=>{});function h0(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}}var SP=F(()=>{});function f0(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}var EP=F(()=>{});function ff(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var $1=F(()=>{});var W1,IP=F(()=>{Ap();$1();W1=il(ff,2)});function mf(t,e,i){e=qt(e,i);for(var r=wt(t),n,s=0,o=r.length;s<o;s++)if(n=r[s],e(t[n],n,t))return n}var q1=F(()=>{pn();wr()});function Np(t){return function(e,i,r){i=qt(i,r);for(var n=ei(e),s=t>0?0:n-1;s>=0&&s<n;s+=t)if(i(e[s],s,e))return s;return-1}}var U1=F(()=>{pn();es()});var Ld,m0=F(()=>{U1();Ld=Np(1)});var Dp,V1=F(()=>{U1();Dp=Np(-1)});function pf(t,e,i,r){i=qt(i,r,1);for(var n=i(e),s=0,o=ei(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<n?s=a+1:o=a}return s}var G1=F(()=>{pn();es()});function Op(t,e,i){return function(r,n,s){var o=0,a=ei(r);if(typeof s=="number")t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return s=i(r,n),r[s]===n?s:-1;if(n!==n)return s=e(Zo.call(r,o,a),rf),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(r[s]===n)return s;return-1}}var Y1=F(()=>{es();ai();r1()});var zp,X1=F(()=>{G1();m0();Y1();zp=Op(1,Ld,pf)});var K1,MP=F(()=>{V1();Y1();K1=Op(-1,Dp)});function Nd(t,e,i){var r=ti(t)?Ld:mf,n=r(t,e,i);if(n!==void 0&&n!==-1)return t[n]}var J1=F(()=>{Dn();m0();q1()});function p0(t,e){return Nd(t,fo(e))}var kP=F(()=>{J1();Ip()});function Cr(t,e,i){e=mo(e,i);var r,n;if(ti(t))for(r=0,n=t.length;r<n;r++)e(t[r],r,t);else{var s=wt(t);for(r=0,n=s.length;r<n;r++)e(t[s[r]],s[r],t)}return t}var fc=F(()=>{uf();Dn();wr()});function gn(t,e,i){e=qt(e,i);for(var r=!ti(t)&&wt(t),n=(r||t).length,s=Array(n),o=0;o<n;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s}var Dd=F(()=>{pn();Dn();wr()});function Pp(t){var e=function(i,r,n,s){var o=!ti(i)&&wt(i),a=(o||i).length,l=t>0?0:a-1;for(s||(n=i[o?o[l]:l],l+=t);l>=0&&l<a;l+=t){var c=o?o[l]:l;n=r(n,i[c],c,i)}return n};return function(i,r,n,s){var o=arguments.length>=3;return e(i,mo(r,s,4),n,o)}}var Z1=F(()=>{Dn();wr();uf()});var Bp,TP=F(()=>{Z1();Bp=Pp(1)});var g0,AP=F(()=>{Z1();g0=Pp(-1)});function ts(t,e,i){var r=[];return e=qt(e,i),Cr(t,function(n,s,o){e(n,s,o)&&r.push(n)}),r}var gf=F(()=>{pn();fc()});function _0(t,e,i){return ts(t,hc(qt(e)),i)}var RP=F(()=>{gf();u0();pn()});function Hp(t,e,i){e=qt(e,i);for(var r=!ti(t)&&wt(t),n=(r||t).length,s=0;s<n;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0}var LP=F(()=>{pn();Dn();wr()});function jp(t,e,i){e=qt(e,i);for(var r=!ti(t)&&wt(t),n=(r||t).length,s=0;s<n;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1}var NP=F(()=>{pn();Dn();wr()});function Jr(t,e,i,r){return ti(t)||(t=Nn(t)),(typeof i!="number"||r)&&(i=0),zp(t,e,i)>=0}var _f=F(()=>{Dn();Ed();X1()});var Q1,DP=F(()=>{Rn();Qn();Dd();Yb();cf();Q1=Wt(function(t,e,i){var r,n;return Kt(e)?n=e:(e=ho(e),r=e.slice(0,-1),e=e[e.length-1]),gn(t,function(s){var o=n;if(!o){if(r&&r.length&&(s=kd(s,r)),s==null)return;o=s[e]}return o==null?o:o.apply(s,i)})})});function mc(t,e){return gn(t,uc(e))}var v0=F(()=>{Dd();Jb()});function b0(t,e){return ts(t,fo(e))}var OP=F(()=>{gf();Ip()});function vf(t,e,i){var r=-1/0,n=-1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ti(t)?t:Nn(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s>r&&(r=s)}else e=qt(e,i),Cr(t,function(c,u,d){o=e(c,u,d),(o>n||o===-1/0&&r===-1/0)&&(r=c,n=o)});return r}var eE=F(()=>{Dn();Ed();pn();fc()});function x0(t,e,i){var r=1/0,n=1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=ti(t)?t:Nn(t);for(var a=0,l=t.length;a<l;a++)s=t[a],s!=null&&s<r&&(r=s)}else e=qt(e,i),Cr(t,function(c,u,d){o=e(c,u,d),(o<n||o===1/0&&r===1/0)&&(r=c,n=o)});return r}var zP=F(()=>{Dn();Ed();pn();fc()});function bf(t){return t?mn(t)?Zo.call(t):wd(t)?t.match(wG):ti(t)?gn(t,dc):Nn(t):[]}var wG,tE=F(()=>{lc();ai();Lb();Dn();Dd();Kb();Ed();wG=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function xf(t,e,i){if(e==null||i)return ti(t)||(t=Nn(t)),t[Ad(t.length-1)];var r=bf(t),n=ei(r);e=Math.max(Math.min(e,n),0);for(var s=n-1,o=0;o<e;o++){var a=Ad(o,s),l=r[o];r[o]=r[a],r[a]=l}return r.slice(0,e)}var iE=F(()=>{Dn();Ed();es();k1();tE()});function y0(t){return xf(t,1/0)}var PP=F(()=>{iE()});function w0(t,e,i){var r=0;return e=qt(e,i),mc(gn(t,function(n,s,o){return{value:n,index:r++,criteria:e(n,s,o)}}).sort(function(n,s){var o=n.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return n.index-s.index}),"value")}var BP=F(()=>{pn();v0();Dd()});function rl(t,e){return function(i,r,n){var s=e?[[],[]]:{};return r=qt(r,n),Cr(i,function(o,a){var l=r(o,a,i);t(s,o,l)}),s}}var Fp=F(()=>{pn();fc()});var rE,HP=F(()=>{Fp();el();rE=rl(function(t,e,i){Nr(t,i)?t[i].push(e):t[i]=[e]})});var nE,jP=F(()=>{Fp();nE=rl(function(t,e,i){t[i]=e})});var sE,FP=F(()=>{Fp();el();sE=rl(function(t,e,i){Nr(t,i)?t[i]++:t[i]=1})});var oE,$P=F(()=>{Fp();oE=rl(function(t,e,i){t[i?0:1].push(e)},!0)});function C0(t){return t==null?0:ti(t)?t.length:wt(t).length}var WP=F(()=>{Dn();wr()});function aE(t,e,i){return e in i}var qP=F(()=>{});var $p,lE=F(()=>{Rn();Qn();uf();of();qP();Rd();$p=Wt(function(t,e){var i={},r=e[0];if(t==null)return i;Kt(r)?(e.length>1&&(r=mo(r,e[1])),e=Os(t)):(r=aE,e=On(e,!1,!1),t=Object(t));for(var n=0,s=e.length;n<s;n++){var o=e[n],a=t[o];r(a,o,t)&&(i[o]=a)}return i})});var cE,UP=F(()=>{Rn();Qn();u0();Dd();Rd();_f();lE();cE=Wt(function(t,e){var i=e[0],r;return Kt(i)?(i=hc(i),e.length>1&&(r=e[1])):(e=gn(On(e,!1,!1),String),i=function(n,s){return!Jr(e,s)}),$p(t,i,r)})});function yf(t,e,i){return Zo.call(t,0,Math.max(0,t.length-(e==null||i?1:e)))}var dE=F(()=>{ai()});function wf(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[0]:yf(t,t.length-e)}var VP=F(()=>{dE()});function pc(t,e,i){return Zo.call(t,e==null||i?1:e)}var uE=F(()=>{ai()});function S0(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[t.length-1]:pc(t,Math.max(0,t.length-e))}var GP=F(()=>{uE()});function E0(t){return ts(t,Boolean)}var YP=F(()=>{gf()});function I0(t,e){return On(t,e,!1)}var XP=F(()=>{Rd()});var Wp,hE=F(()=>{Rn();Rd();gf();_f();Wp=Wt(function(t,e){return e=On(e,!0,!0),ts(t,function(i){return!Jr(e,i)})})});var fE,KP=F(()=>{Rn();hE();fE=Wt(function(t,e){return Wp(t,e)})});function Od(t,e,i,r){Qh(e)||(r=i,i=e,e=!1),i!=null&&(i=qt(i,r));for(var n=[],s=[],o=0,a=ei(t);o<a;o++){var l=t[o],c=i?i(l,o,t):l;e&&!i?((!o||s!==c)&&n.push(l),s=c):i?Jr(s,c)||(s.push(c),n.push(l)):Jr(n,l)||n.push(l)}return n}var mE=F(()=>{YS();pn();es();_f()});var pE,JP=F(()=>{Rn();mE();Rd();pE=Wt(function(t){return Od(On(t,!0,!0))})});function M0(t){for(var e=[],i=arguments.length,r=0,n=ei(t);r<n;r++){var s=t[r];if(!Jr(e,s)){var o;for(o=1;o<i&&Jr(arguments[o],s);o++);o===i&&e.push(s)}}return e}var ZP=F(()=>{es();_f()});function zd(t){for(var e=t&&vf(t,ei).length||0,i=Array(e),r=0;r<e;r++)i[r]=mc(t,r);return i}var gE=F(()=>{eE();es();v0()});var _E,QP=F(()=>{Rn();gE();_E=Wt(zd)});function k0(t,e){for(var i={},r=0,n=ei(t);r<n;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i}var eB=F(()=>{es()});function T0(t,e,i){e==null&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/i),0),n=Array(r),s=0;s<r;s++,t+=i)n[s]=t;return n}var tB=F(()=>{});function A0(t,e){if(e==null||e<1)return[];for(var i=[],r=0,n=t.length;r<n;)i.push(Zo.call(t,r,r+=e));return i}var iB=F(()=>{ai()});function Cf(t,e){return t._chain?mt(e).chain():e}var vE=F(()=>{Ln()});function Sf(t){return Cr(Id(t),function(e){var i=mt[e]=t[e];mt.prototype[e]=function(){var r=[this._wrapped];return I2.apply(r,arguments),Cf(this,i.apply(mt,r))}}),mt}var rB=F(()=>{Ln();fc();b1();ai();vE()});var nB,sB=F(()=>{Ln();fc();ai();vE();Cr(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=mp[t];mt.prototype[t]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(t==="shift"||t==="splice")&&i.length===0&&delete i[0]),Cf(this,i)}});Cr(["concat","join","slice"],function(t){var e=mp[t];mt.prototype[t]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),Cf(this,i)}});nB=mt});var bE={};Oc(bE,{VERSION:()=>fp,after:()=>f0,all:()=>Hp,allKeys:()=>Os,any:()=>jp,assign:()=>cc,before:()=>ff,bind:()=>Rp,bindAll:()=>H1,chain:()=>o0,chunk:()=>A0,clone:()=>Vb,collect:()=>gn,compact:()=>E0,compose:()=>h0,constant:()=>nf,contains:()=>Jr,countBy:()=>sE,create:()=>Ub,debounce:()=>c0,default:()=>nB,defaults:()=>Cp,defer:()=>F1,delay:()=>Lp,detect:()=>Nd,difference:()=>Wp,drop:()=>pc,each:()=>Cr,escape:()=>R1,every:()=>Hp,extend:()=>wp,extendOwn:()=>cc,filter:()=>ts,find:()=>Nd,findIndex:()=>Ld,findKey:()=>mf,findLastIndex:()=>Dp,findWhere:()=>p0,first:()=>wf,flatten:()=>I0,foldl:()=>Bp,foldr:()=>g0,forEach:()=>Cr,functions:()=>Id,get:()=>df,groupBy:()=>rE,has:()=>Xb,head:()=>wf,identity:()=>dc,include:()=>Jr,includes:()=>Jr,indexBy:()=>nE,indexOf:()=>zp,initial:()=>yf,inject:()=>Bp,intersection:()=>M0,invert:()=>lf,invoke:()=>Q1,isArguments:()=>Cd,isArray:()=>mn,isArrayBuffer:()=>_p,isBoolean:()=>Qh,isDataView:()=>ac,isDate:()=>KS,isElement:()=>Rb,isEmpty:()=>Bb,isEqual:()=>jb,isError:()=>ZS,isFinite:()=>zb,isFunction:()=>Kt,isMap:()=>m1,isMatch:()=>sf,isNaN:()=>rf,isNull:()=>Ab,isNumber:()=>pp,isObject:()=>Kr,isRegExp:()=>JS,isSet:()=>g1,isString:()=>wd,isSymbol:()=>gp,isTypedArray:()=>xp,isUndefined:()=>Zh,isWeakMap:()=>p1,isWeakSet:()=>_1,iteratee:()=>Td,keys:()=>wt,last:()=>S0,lastIndexOf:()=>K1,map:()=>gn,mapObject:()=>Zb,matcher:()=>fo,matches:()=>fo,max:()=>vf,memoize:()=>a0,methods:()=>Id,min:()=>x0,mixin:()=>Sf,negate:()=>hc,noop:()=>hf,now:()=>tl,object:()=>k0,omit:()=>cE,once:()=>W1,pairs:()=>$b,partial:()=>il,partition:()=>oE,pick:()=>$p,pluck:()=>mc,property:()=>uc,propertyOf:()=>Qb,random:()=>Ad,range:()=>T0,reduce:()=>Bp,reduceRight:()=>g0,reject:()=>_0,rest:()=>pc,restArguments:()=>Wt,result:()=>n0,sample:()=>xf,select:()=>ts,shuffle:()=>y0,size:()=>C0,some:()=>jp,sortBy:()=>w0,sortedIndex:()=>pf,tail:()=>pc,take:()=>wf,tap:()=>Gb,template:()=>r0,templateSettings:()=>N1,throttle:()=>l0,times:()=>e0,toArray:()=>bf,toPath:()=>Ep,transpose:()=>zd,unescape:()=>L1,union:()=>pE,uniq:()=>Od,unique:()=>Od,uniqueId:()=>s0,unzip:()=>zd,values:()=>Nn,where:()=>b0,without:()=>fE,wrap:()=>d0,zip:()=>_E});var R0=F(()=>{ai();Rn();oc();N2();GS();YS();D2();Lb();XS();O2();z2();P2();QS();e1();Db();lc();Qn();Ob();j2();r1();a1();W2();c1();G2();Z2();Q2();eP();tP();wr();of();Ed();iP();v1();b1();x1();qb();y1();rP();nP();sP();S1();oP();aP();Kb();n1();M1();C1();Jb();lP();Ip();cP();k1();t0();dP();fP();D1();mP();pP();gP();_P();I1();Ap();B1();vP();bP();j1();xP();yP();wP();CP();u0();SP();EP();$1();IP();q1();m0();V1();G1();X1();MP();J1();kP();fc();Dd();TP();AP();gf();RP();LP();NP();_f();DP();v0();OP();eE();zP();PP();iE();BP();HP();jP();FP();$P();tE();WP();lE();UP();VP();dE();GP();uE();YP();XP();KP();mE();JP();ZP();hE();gE();QP();eB();tB();iB();rB();sB()});var xE,oB,aB=F(()=>{R0();R0();xE=Sf(bE);xE._=xE;oB=xE});var lB={};Oc(lB,{VERSION:()=>fp,after:()=>f0,all:()=>Hp,allKeys:()=>Os,any:()=>jp,assign:()=>cc,before:()=>ff,bind:()=>Rp,bindAll:()=>H1,chain:()=>o0,chunk:()=>A0,clone:()=>Vb,collect:()=>gn,compact:()=>E0,compose:()=>h0,constant:()=>nf,contains:()=>Jr,countBy:()=>sE,create:()=>Ub,debounce:()=>c0,default:()=>oB,defaults:()=>Cp,defer:()=>F1,delay:()=>Lp,detect:()=>Nd,difference:()=>Wp,drop:()=>pc,each:()=>Cr,escape:()=>R1,every:()=>Hp,extend:()=>wp,extendOwn:()=>cc,filter:()=>ts,find:()=>Nd,findIndex:()=>Ld,findKey:()=>mf,findLastIndex:()=>Dp,findWhere:()=>p0,first:()=>wf,flatten:()=>I0,foldl:()=>Bp,foldr:()=>g0,forEach:()=>Cr,functions:()=>Id,get:()=>df,groupBy:()=>rE,has:()=>Xb,head:()=>wf,identity:()=>dc,include:()=>Jr,includes:()=>Jr,indexBy:()=>nE,indexOf:()=>zp,initial:()=>yf,inject:()=>Bp,intersection:()=>M0,invert:()=>lf,invoke:()=>Q1,isArguments:()=>Cd,isArray:()=>mn,isArrayBuffer:()=>_p,isBoolean:()=>Qh,isDataView:()=>ac,isDate:()=>KS,isElement:()=>Rb,isEmpty:()=>Bb,isEqual:()=>jb,isError:()=>ZS,isFinite:()=>zb,isFunction:()=>Kt,isMap:()=>m1,isMatch:()=>sf,isNaN:()=>rf,isNull:()=>Ab,isNumber:()=>pp,isObject:()=>Kr,isRegExp:()=>JS,isSet:()=>g1,isString:()=>wd,isSymbol:()=>gp,isTypedArray:()=>xp,isUndefined:()=>Zh,isWeakMap:()=>p1,isWeakSet:()=>_1,iteratee:()=>Td,keys:()=>wt,last:()=>S0,lastIndexOf:()=>K1,map:()=>gn,mapObject:()=>Zb,matcher:()=>fo,matches:()=>fo,max:()=>vf,memoize:()=>a0,methods:()=>Id,min:()=>x0,mixin:()=>Sf,negate:()=>hc,noop:()=>hf,now:()=>tl,object:()=>k0,omit:()=>cE,once:()=>W1,pairs:()=>$b,partial:()=>il,partition:()=>oE,pick:()=>$p,pluck:()=>mc,property:()=>uc,propertyOf:()=>Qb,random:()=>Ad,range:()=>T0,reduce:()=>Bp,reduceRight:()=>g0,reject:()=>_0,rest:()=>pc,restArguments:()=>Wt,result:()=>n0,sample:()=>xf,select:()=>ts,shuffle:()=>y0,size:()=>C0,some:()=>jp,sortBy:()=>w0,sortedIndex:()=>pf,tail:()=>pc,take:()=>wf,tap:()=>Gb,template:()=>r0,templateSettings:()=>N1,throttle:()=>l0,times:()=>e0,toArray:()=>bf,toPath:()=>Ep,transpose:()=>zd,unescape:()=>L1,union:()=>pE,uniq:()=>Od,unique:()=>Od,uniqueId:()=>s0,unzip:()=>zd,values:()=>Nn,where:()=>b0,without:()=>fE,wrap:()=>d0,zip:()=>_E});var cB=F(()=>{aB();R0()});var Pd=qe((dB,L0)=>{(function(t,e){"use strict";typeof L0=="object"&&typeof L0.exports=="object"?L0.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(t)})(typeof window<"u"?window:dB,function(t,e){"use strict";var i=[],r=Object.getPrototypeOf,n=i.slice,s=i.flat?function(g){return i.flat.call(g)}:function(g){return i.concat.apply([],g)},o=i.push,a=i.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,f=d.call(Object),h={},m=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},p=function(b){return b!=null&&b===b.window},_=t.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function y(g,b,w){w=w||_;var S,L,N=w.createElement("script");if(N.text=g,b)for(S in x)L=b[S]||b.getAttribute&&b.getAttribute(S),L&&N.setAttribute(S,L);w.head.appendChild(N).parentNode.removeChild(N)}function C(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?l[c.call(g)]||"object":typeof g}var k="3.7.1",M=/HTML$/i,v=function(g,b){return new v.fn.init(g,b)};v.fn=v.prototype={jquery:k,constructor:v,length:0,toArray:function(){return n.call(this)},get:function(g){return g==null?n.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var b=v.merge(this.constructor(),g);return b.prevObject=this,b},each:function(g){return v.each(this,g)},map:function(g){return this.pushStack(v.map(this,function(b,w){return g.call(b,w,b)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(g,b){return(b+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(g,b){return b%2}))},eq:function(g){var b=this.length,w=+g+(g<0?b:0);return this.pushStack(w>=0&&w<b?[this[w]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},v.extend=v.fn.extend=function(){var g,b,w,S,L,N,D=arguments[0]||{},U=1,q=arguments.length,ee=!1;for(typeof D=="boolean"&&(ee=D,D=arguments[U]||{},U++),typeof D!="object"&&!m(D)&&(D={}),U===q&&(D=this,U--);U<q;U++)if((g=arguments[U])!=null)for(b in g)S=g[b],!(b==="__proto__"||D===S)&&(ee&&S&&(v.isPlainObject(S)||(L=Array.isArray(S)))?(w=D[b],L&&!Array.isArray(w)?N=[]:!L&&!v.isPlainObject(w)?N={}:N=w,L=!1,D[b]=v.extend(ee,N,S)):S!==void 0&&(D[b]=S));return D},v.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var b,w;return!g||c.call(g)!=="[object Object]"?!1:(b=r(g),b?(w=u.call(b,"constructor")&&b.constructor,typeof w=="function"&&d.call(w)===f):!0)},isEmptyObject:function(g){var b;for(b in g)return!1;return!0},globalEval:function(g,b,w){y(g,{nonce:b&&b.nonce},w)},each:function(g,b){var w,S=0;if(I(g))for(w=g.length;S<w&&b.call(g[S],S,g[S])!==!1;S++);else for(S in g)if(b.call(g[S],S,g[S])===!1)break;return g},text:function(g){var b,w="",S=0,L=g.nodeType;if(!L)for(;b=g[S++];)w+=v.text(b);return L===1||L===11?g.textContent:L===9?g.documentElement.textContent:L===3||L===4?g.nodeValue:w},makeArray:function(g,b){var w=b||[];return g!=null&&(I(Object(g))?v.merge(w,typeof g=="string"?[g]:g):o.call(w,g)),w},inArray:function(g,b,w){return b==null?-1:a.call(b,g,w)},isXMLDoc:function(g){var b=g&&g.namespaceURI,w=g&&(g.ownerDocument||g).documentElement;return!M.test(b||w&&w.nodeName||"HTML")},merge:function(g,b){for(var w=+b.length,S=0,L=g.length;S<w;S++)g[L++]=b[S];return g.length=L,g},grep:function(g,b,w){for(var S,L=[],N=0,D=g.length,U=!w;N<D;N++)S=!b(g[N],N),S!==U&&L.push(g[N]);return L},map:function(g,b,w){var S,L,N=0,D=[];if(I(g))for(S=g.length;N<S;N++)L=b(g[N],N,w),L!=null&&D.push(L);else for(N in g)L=b(g[N],N,w),L!=null&&D.push(L);return s(D)},guid:1,support:h}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=i[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,b){l["[object "+b+"]"]=b.toLowerCase()});function I(g){var b=!!g&&"length"in g&&g.length,w=C(g);return m(g)||p(g)?!1:w==="array"||b===0||typeof b=="number"&&b>0&&b-1 in g}function E(g,b){return g.nodeName&&g.nodeName.toLowerCase()===b.toLowerCase()}var T=i.pop,R=i.sort,P=i.splice,Y="[\\x20\\t\\r\\n\\f]",re=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g");v.contains=function(g,b){var w=b&&b.parentNode;return g===w||!!(w&&w.nodeType===1&&(g.contains?g.contains(w):g.compareDocumentPosition&&g.compareDocumentPosition(w)&16))};var de=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function te(g,b){return b?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}v.escapeSelector=function(g){return(g+"").replace(de,te)};var G=_,X=o;(function(){var g,b,w,S,L,N=X,D,U,q,ee,ce,ve=v.expando,oe=0,Ae=0,ct=t_(),kt=t_(),bt=t_(),Mr=t_(),sr=function(j,K){return j===K&&(L=!0),0},Eo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Io="(?:\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",St="\\["+Y+"*("+Io+")(?:"+Y+"*([*^$|!~]?=)"+Y+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Io+"))|)"+Y+"*\\]",Nc=":("+Io+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+St+")*)|.*)\\)|)",At=new RegExp(Y+"+","g"),Si=new RegExp("^"+Y+"*,"+Y+"*"),mm=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),Ry=new RegExp(Y+"|>"),Mo=new RegExp(Nc),pm=new RegExp("^"+Io+"$"),ko={ID:new RegExp("^#("+Io+")"),CLASS:new RegExp("^\\.("+Io+")"),TAG:new RegExp("^("+Io+"|[*])"),ATTR:new RegExp("^"+St),PSEUDO:new RegExp("^"+Nc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:"+Eo+")$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},Cl=/^(?:input|select|textarea|button)$/i,Sl=/^h\d$/i,hs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ly=/[+~]/,ma=new RegExp("\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\([^\\r\\n\\f])","g"),pa=function(j,K){var ne="0x"+j.slice(1)-65536;return K||(ne<0?String.fromCharCode(ne+65536):String.fromCharCode(ne>>10|55296,ne&1023|56320))},K5=function(){El()},J5=r_(function(j){return j.disabled===!0&&E(j,"fieldset")},{dir:"parentNode",next:"legend"});function Z5(){try{return D.activeElement}catch{}}try{N.apply(i=n.call(G.childNodes),G.childNodes),i[G.childNodes.length].nodeType}catch{N={apply:function(K,ne){X.apply(K,n.call(ne))},call:function(K){X.apply(K,n.call(arguments,1))}}}function Ft(j,K,ne,ae){var _e,Be,Ue,Je,Ve,xt,at,ht=K&&K.ownerDocument,yt=K?K.nodeType:9;if(ne=ne||[],typeof j!="string"||!j||yt!==1&&yt!==9&&yt!==11)return ne;if(!ae&&(El(K),K=K||D,q)){if(yt!==11&&(Ve=hs.exec(j)))if(_e=Ve[1]){if(yt===9)if(Ue=K.getElementById(_e)){if(Ue.id===_e)return N.call(ne,Ue),ne}else return ne;else if(ht&&(Ue=ht.getElementById(_e))&&Ft.contains(K,Ue)&&Ue.id===_e)return N.call(ne,Ue),ne}else{if(Ve[2])return N.apply(ne,K.getElementsByTagName(j)),ne;if((_e=Ve[3])&&K.getElementsByClassName)return N.apply(ne,K.getElementsByClassName(_e)),ne}if(!Mr[j+" "]&&(!ee||!ee.test(j))){if(at=j,ht=K,yt===1&&(Ry.test(j)||mm.test(j))){for(ht=Ly.test(j)&&Ny(K.parentNode)||K,(ht!=K||!h.scope)&&((Je=K.getAttribute("id"))?Je=v.escapeSelector(Je):K.setAttribute("id",Je=ve)),xt=gm(j),Be=xt.length;Be--;)xt[Be]=(Je?"#"+Je:":scope")+" "+i_(xt[Be]);at=xt.join(",")}try{return N.apply(ne,ht.querySelectorAll(at)),ne}catch{Mr(j,!0)}finally{Je===ve&&K.removeAttribute("id")}}}return Fk(j.replace(re,"$1"),K,ne,ae)}function t_(){var j=[];function K(ne,ae){return j.push(ne+" ")>b.cacheLength&&delete K[j.shift()],K[ne+" "]=ae}return K}function Ks(j){return j[ve]=!0,j}function bu(j){var K=D.createElement("fieldset");try{return!!j(K)}catch{return!1}finally{K.parentNode&&K.parentNode.removeChild(K),K=null}}function Q5(j){return function(K){return E(K,"input")&&K.type===j}}function e$(j){return function(K){return(E(K,"input")||E(K,"button"))&&K.type===j}}function Hk(j){return function(K){return"form"in K?K.parentNode&&K.disabled===!1?"label"in K?"label"in K.parentNode?K.parentNode.disabled===j:K.disabled===j:K.isDisabled===j||K.isDisabled!==!j&&J5(K)===j:K.disabled===j:"label"in K?K.disabled===j:!1}}function Dc(j){return Ks(function(K){return K=+K,Ks(function(ne,ae){for(var _e,Be=j([],ne.length,K),Ue=Be.length;Ue--;)ne[_e=Be[Ue]]&&(ne[_e]=!(ae[_e]=ne[_e]))})})}function Ny(j){return j&&typeof j.getElementsByTagName<"u"&&j}function El(j){var K,ne=j?j.ownerDocument||j:G;return ne==D||ne.nodeType!==9||!ne.documentElement||(D=ne,U=D.documentElement,q=!v.isXMLDoc(D),ce=U.matches||U.webkitMatchesSelector||U.msMatchesSelector,U.msMatchesSelector&&G!=D&&(K=D.defaultView)&&K.top!==K&&K.addEventListener("unload",K5),h.getById=bu(function(ae){return U.appendChild(ae).id=v.expando,!D.getElementsByName||!D.getElementsByName(v.expando).length}),h.disconnectedMatch=bu(function(ae){return ce.call(ae,"*")}),h.scope=bu(function(){return D.querySelectorAll(":scope")}),h.cssHas=bu(function(){try{return D.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),h.getById?(b.filter.ID=function(ae){var _e=ae.replace(ma,pa);return function(Be){return Be.getAttribute("id")===_e}},b.find.ID=function(ae,_e){if(typeof _e.getElementById<"u"&&q){var Be=_e.getElementById(ae);return Be?[Be]:[]}}):(b.filter.ID=function(ae){var _e=ae.replace(ma,pa);return function(Be){var Ue=typeof Be.getAttributeNode<"u"&&Be.getAttributeNode("id");return Ue&&Ue.value===_e}},b.find.ID=function(ae,_e){if(typeof _e.getElementById<"u"&&q){var Be,Ue,Je,Ve=_e.getElementById(ae);if(Ve){if(Be=Ve.getAttributeNode("id"),Be&&Be.value===ae)return[Ve];for(Je=_e.getElementsByName(ae),Ue=0;Ve=Je[Ue++];)if(Be=Ve.getAttributeNode("id"),Be&&Be.value===ae)return[Ve]}return[]}}),b.find.TAG=function(ae,_e){return typeof _e.getElementsByTagName<"u"?_e.getElementsByTagName(ae):_e.querySelectorAll(ae)},b.find.CLASS=function(ae,_e){if(typeof _e.getElementsByClassName<"u"&&q)return _e.getElementsByClassName(ae)},ee=[],bu(function(ae){var _e;U.appendChild(ae).innerHTML="<a id='"+ve+"' href='' disabled='disabled'></a><select id='"+ve+"-\r\\' disabled='disabled'><option selected=''></option></select>",ae.querySelectorAll("[selected]").length||ee.push("\\["+Y+"*(?:value|"+Eo+")"),ae.querySelectorAll("[id~="+ve+"-]").length||ee.push("~="),ae.querySelectorAll("a#"+ve+"+*").length||ee.push(".#.+[+~]"),ae.querySelectorAll(":checked").length||ee.push(":checked"),_e=D.createElement("input"),_e.setAttribute("type","hidden"),ae.appendChild(_e).setAttribute("name","D"),U.appendChild(ae).disabled=!0,ae.querySelectorAll(":disabled").length!==2&&ee.push(":enabled",":disabled"),_e=D.createElement("input"),_e.setAttribute("name",""),ae.appendChild(_e),ae.querySelectorAll("[name='']").length||ee.push("\\["+Y+"*name"+Y+"*="+Y+`*(?:''|"")`)}),h.cssHas||ee.push(":has"),ee=ee.length&&new RegExp(ee.join("|")),sr=function(ae,_e){if(ae===_e)return L=!0,0;var Be=!ae.compareDocumentPosition-!_e.compareDocumentPosition;return Be||(Be=(ae.ownerDocument||ae)==(_e.ownerDocument||_e)?ae.compareDocumentPosition(_e):1,Be&1||!h.sortDetached&&_e.compareDocumentPosition(ae)===Be?ae===D||ae.ownerDocument==G&&Ft.contains(G,ae)?-1:_e===D||_e.ownerDocument==G&&Ft.contains(G,_e)?1:S?a.call(S,ae)-a.call(S,_e):0:Be&4?-1:1)}),D}Ft.matches=function(j,K){return Ft(j,null,null,K)},Ft.matchesSelector=function(j,K){if(El(j),q&&!Mr[K+" "]&&(!ee||!ee.test(K)))try{var ne=ce.call(j,K);if(ne||h.disconnectedMatch||j.document&&j.document.nodeType!==11)return ne}catch{Mr(K,!0)}return Ft(K,D,null,[j]).length>0},Ft.contains=function(j,K){return(j.ownerDocument||j)!=D&&El(j),v.contains(j,K)},Ft.attr=function(j,K){(j.ownerDocument||j)!=D&&El(j);var ne=b.attrHandle[K.toLowerCase()],ae=ne&&u.call(b.attrHandle,K.toLowerCase())?ne(j,K,!q):void 0;return ae!==void 0?ae:j.getAttribute(K)},Ft.error=function(j){throw new Error("Syntax error, unrecognized expression: "+j)},v.uniqueSort=function(j){var K,ne=[],ae=0,_e=0;if(L=!h.sortStable,S=!h.sortStable&&n.call(j,0),R.call(j,sr),L){for(;K=j[_e++];)K===j[_e]&&(ae=ne.push(_e));for(;ae--;)P.call(j,ne[ae],1)}return S=null,j},v.fn.uniqueSort=function(){return this.pushStack(v.uniqueSort(n.apply(this)))},b=v.expr={cacheLength:50,createPseudo:Ks,match:ko,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(j){return j[1]=j[1].replace(ma,pa),j[3]=(j[3]||j[4]||j[5]||"").replace(ma,pa),j[2]==="~="&&(j[3]=" "+j[3]+" "),j.slice(0,4)},CHILD:function(j){return j[1]=j[1].toLowerCase(),j[1].slice(0,3)==="nth"?(j[3]||Ft.error(j[0]),j[4]=+(j[4]?j[5]+(j[6]||1):2*(j[3]==="even"||j[3]==="odd")),j[5]=+(j[7]+j[8]||j[3]==="odd")):j[3]&&Ft.error(j[0]),j},PSEUDO:function(j){var K,ne=!j[6]&&j[2];return ko.CHILD.test(j[0])?null:(j[3]?j[2]=j[4]||j[5]||"":ne&&Mo.test(ne)&&(K=gm(ne,!0))&&(K=ne.indexOf(")",ne.length-K)-ne.length)&&(j[0]=j[0].slice(0,K),j[2]=ne.slice(0,K)),j.slice(0,3))}},filter:{TAG:function(j){var K=j.replace(ma,pa).toLowerCase();return j==="*"?function(){return!0}:function(ne){return E(ne,K)}},CLASS:function(j){var K=ct[j+" "];return K||(K=new RegExp("(^|"+Y+")"+j+"("+Y+"|$)"))&&ct(j,function(ne){return K.test(typeof ne.className=="string"&&ne.className||typeof ne.getAttribute<"u"&&ne.getAttribute("class")||"")})},ATTR:function(j,K,ne){return function(ae){var _e=Ft.attr(ae,j);return _e==null?K==="!=":K?(_e+="",K==="="?_e===ne:K==="!="?_e!==ne:K==="^="?ne&&_e.indexOf(ne)===0:K==="*="?ne&&_e.indexOf(ne)>-1:K==="$="?ne&&_e.slice(-ne.length)===ne:K==="~="?(" "+_e.replace(At," ")+" ").indexOf(ne)>-1:K==="|="?_e===ne||_e.slice(0,ne.length+1)===ne+"-":!1):!0}},CHILD:function(j,K,ne,ae,_e){var Be=j.slice(0,3)!=="nth",Ue=j.slice(-4)!=="last",Je=K==="of-type";return ae===1&&_e===0?function(Ve){return!!Ve.parentNode}:function(Ve,xt,at){var ht,yt,it,Zt,wn,Pr=Be!==Ue?"nextSibling":"previousSibling",fs=Ve.parentNode,To=Je&&Ve.nodeName.toLowerCase(),xu=!at&&!Je,nn=!1;if(fs){if(Be){for(;Pr;){for(it=Ve;it=it[Pr];)if(Je?E(it,To):it.nodeType===1)return!1;wn=Pr=j==="only"&&!wn&&"nextSibling"}return!0}if(wn=[Ue?fs.firstChild:fs.lastChild],Ue&&xu){for(yt=fs[ve]||(fs[ve]={}),ht=yt[j]||[],Zt=ht[0]===oe&&ht[1],nn=Zt&&ht[2],it=Zt&&fs.childNodes[Zt];it=++Zt&&it&&it[Pr]||(nn=Zt=0)||wn.pop();)if(it.nodeType===1&&++nn&&it===Ve){yt[j]=[oe,Zt,nn];break}}else if(xu&&(yt=Ve[ve]||(Ve[ve]={}),ht=yt[j]||[],Zt=ht[0]===oe&&ht[1],nn=Zt),nn===!1)for(;(it=++Zt&&it&&it[Pr]||(nn=Zt=0)||wn.pop())&&!((Je?E(it,To):it.nodeType===1)&&++nn&&(xu&&(yt=it[ve]||(it[ve]={}),yt[j]=[oe,nn]),it===Ve)););return nn-=_e,nn===ae||nn%ae===0&&nn/ae>=0}}},PSEUDO:function(j,K){var ne,ae=b.pseudos[j]||b.setFilters[j.toLowerCase()]||Ft.error("unsupported pseudo: "+j);return ae[ve]?ae(K):ae.length>1?(ne=[j,j,"",K],b.setFilters.hasOwnProperty(j.toLowerCase())?Ks(function(_e,Be){for(var Ue,Je=ae(_e,K),Ve=Je.length;Ve--;)Ue=a.call(_e,Je[Ve]),_e[Ue]=!(Be[Ue]=Je[Ve])}):function(_e){return ae(_e,0,ne)}):ae}},pseudos:{not:Ks(function(j){var K=[],ne=[],ae=Py(j.replace(re,"$1"));return ae[ve]?Ks(function(_e,Be,Ue,Je){for(var Ve,xt=ae(_e,null,Je,[]),at=_e.length;at--;)(Ve=xt[at])&&(_e[at]=!(Be[at]=Ve))}):function(_e,Be,Ue){return K[0]=_e,ae(K,null,Ue,ne),K[0]=null,!ne.pop()}}),has:Ks(function(j){return function(K){return Ft(j,K).length>0}}),contains:Ks(function(j){return j=j.replace(ma,pa),function(K){return(K.textContent||v.text(K)).indexOf(j)>-1}}),lang:Ks(function(j){return pm.test(j||"")||Ft.error("unsupported lang: "+j),j=j.replace(ma,pa).toLowerCase(),function(K){var ne;do if(ne=q?K.lang:K.getAttribute("xml:lang")||K.getAttribute("lang"))return ne=ne.toLowerCase(),ne===j||ne.indexOf(j+"-")===0;while((K=K.parentNode)&&K.nodeType===1);return!1}}),target:function(j){var K=t.location&&t.location.hash;return K&&K.slice(1)===j.id},root:function(j){return j===U},focus:function(j){return j===Z5()&&D.hasFocus()&&!!(j.type||j.href||~j.tabIndex)},enabled:Hk(!1),disabled:Hk(!0),checked:function(j){return E(j,"input")&&!!j.checked||E(j,"option")&&!!j.selected},selected:function(j){return j.parentNode&&j.parentNode.selectedIndex,j.selected===!0},empty:function(j){for(j=j.firstChild;j;j=j.nextSibling)if(j.nodeType<6)return!1;return!0},parent:function(j){return!b.pseudos.empty(j)},header:function(j){return Sl.test(j.nodeName)},input:function(j){return Cl.test(j.nodeName)},button:function(j){return E(j,"input")&&j.type==="button"||E(j,"button")},text:function(j){var K;return E(j,"input")&&j.type==="text"&&((K=j.getAttribute("type"))==null||K.toLowerCase()==="text")},first:Dc(function(){return[0]}),last:Dc(function(j,K){return[K-1]}),eq:Dc(function(j,K,ne){return[ne<0?ne+K:ne]}),even:Dc(function(j,K){for(var ne=0;ne<K;ne+=2)j.push(ne);return j}),odd:Dc(function(j,K){for(var ne=1;ne<K;ne+=2)j.push(ne);return j}),lt:Dc(function(j,K,ne){var ae;for(ne<0?ae=ne+K:ne>K?ae=K:ae=ne;--ae>=0;)j.push(ae);return j}),gt:Dc(function(j,K,ne){for(var ae=ne<0?ne+K:ne;++ae<K;)j.push(ae);return j})}},b.pseudos.nth=b.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[g]=Q5(g);for(g in{submit:!0,reset:!0})b.pseudos[g]=e$(g);function jk(){}jk.prototype=b.filters=b.pseudos,b.setFilters=new jk;function gm(j,K){var ne,ae,_e,Be,Ue,Je,Ve,xt=kt[j+" "];if(xt)return K?0:xt.slice(0);for(Ue=j,Je=[],Ve=b.preFilter;Ue;){(!ne||(ae=Si.exec(Ue)))&&(ae&&(Ue=Ue.slice(ae[0].length)||Ue),Je.push(_e=[])),ne=!1,(ae=mm.exec(Ue))&&(ne=ae.shift(),_e.push({value:ne,type:ae[0].replace(re," ")}),Ue=Ue.slice(ne.length));for(Be in b.filter)(ae=ko[Be].exec(Ue))&&(!Ve[Be]||(ae=Ve[Be](ae)))&&(ne=ae.shift(),_e.push({value:ne,type:Be,matches:ae}),Ue=Ue.slice(ne.length));if(!ne)break}return K?Ue.length:Ue?Ft.error(j):kt(j,Je).slice(0)}function i_(j){for(var K=0,ne=j.length,ae="";K<ne;K++)ae+=j[K].value;return ae}function r_(j,K,ne){var ae=K.dir,_e=K.next,Be=_e||ae,Ue=ne&&Be==="parentNode",Je=Ae++;return K.first?function(Ve,xt,at){for(;Ve=Ve[ae];)if(Ve.nodeType===1||Ue)return j(Ve,xt,at);return!1}:function(Ve,xt,at){var ht,yt,it=[oe,Je];if(at){for(;Ve=Ve[ae];)if((Ve.nodeType===1||Ue)&&j(Ve,xt,at))return!0}else for(;Ve=Ve[ae];)if(Ve.nodeType===1||Ue)if(yt=Ve[ve]||(Ve[ve]={}),_e&&E(Ve,_e))Ve=Ve[ae]||Ve;else{if((ht=yt[Be])&&ht[0]===oe&&ht[1]===Je)return it[2]=ht[2];if(yt[Be]=it,it[2]=j(Ve,xt,at))return!0}return!1}}function Dy(j){return j.length>1?function(K,ne,ae){for(var _e=j.length;_e--;)if(!j[_e](K,ne,ae))return!1;return!0}:j[0]}function t$(j,K,ne){for(var ae=0,_e=K.length;ae<_e;ae++)Ft(j,K[ae],ne);return ne}function n_(j,K,ne,ae,_e){for(var Be,Ue=[],Je=0,Ve=j.length,xt=K!=null;Je<Ve;Je++)(Be=j[Je])&&(!ne||ne(Be,ae,_e))&&(Ue.push(Be),xt&&K.push(Je));return Ue}function Oy(j,K,ne,ae,_e,Be){return ae&&!ae[ve]&&(ae=Oy(ae)),_e&&!_e[ve]&&(_e=Oy(_e,Be)),Ks(function(Ue,Je,Ve,xt){var at,ht,yt,it,Zt=[],wn=[],Pr=Je.length,fs=Ue||t$(K||"*",Ve.nodeType?[Ve]:Ve,[]),To=j&&(Ue||!K)?n_(fs,Zt,j,Ve,xt):fs;if(ne?(it=_e||(Ue?j:Pr||ae)?[]:Je,ne(To,it,Ve,xt)):it=To,ae)for(at=n_(it,wn),ae(at,[],Ve,xt),ht=at.length;ht--;)(yt=at[ht])&&(it[wn[ht]]=!(To[wn[ht]]=yt));if(Ue){if(_e||j){if(_e){for(at=[],ht=it.length;ht--;)(yt=it[ht])&&at.push(To[ht]=yt);_e(null,it=[],at,xt)}for(ht=it.length;ht--;)(yt=it[ht])&&(at=_e?a.call(Ue,yt):Zt[ht])>-1&&(Ue[at]=!(Je[at]=yt))}}else it=n_(it===Je?it.splice(Pr,it.length):it),_e?_e(null,Je,it,xt):N.apply(Je,it)})}function zy(j){for(var K,ne,ae,_e=j.length,Be=b.relative[j[0].type],Ue=Be||b.relative[" "],Je=Be?1:0,Ve=r_(function(ht){return ht===K},Ue,!0),xt=r_(function(ht){return a.call(K,ht)>-1},Ue,!0),at=[function(ht,yt,it){var Zt=!Be&&(it||yt!=w)||((K=yt).nodeType?Ve(ht,yt,it):xt(ht,yt,it));return K=null,Zt}];Je<_e;Je++)if(ne=b.relative[j[Je].type])at=[r_(Dy(at),ne)];else{if(ne=b.filter[j[Je].type].apply(null,j[Je].matches),ne[ve]){for(ae=++Je;ae<_e&&!b.relative[j[ae].type];ae++);return Oy(Je>1&&Dy(at),Je>1&&i_(j.slice(0,Je-1).concat({value:j[Je-2].type===" "?"*":""})).replace(re,"$1"),ne,Je<ae&&zy(j.slice(Je,ae)),ae<_e&&zy(j=j.slice(ae)),ae<_e&&i_(j))}at.push(ne)}return Dy(at)}function i$(j,K){var ne=K.length>0,ae=j.length>0,_e=function(Be,Ue,Je,Ve,xt){var at,ht,yt,it=0,Zt="0",wn=Be&&[],Pr=[],fs=w,To=Be||ae&&b.find.TAG("*",xt),xu=oe+=fs==null?1:Math.random()||.1,nn=To.length;for(xt&&(w=Ue==D||Ue||xt);Zt!==nn&&(at=To[Zt])!=null;Zt++){if(ae&&at){for(ht=0,!Ue&&at.ownerDocument!=D&&(El(at),Je=!q);yt=j[ht++];)if(yt(at,Ue||D,Je)){N.call(Ve,at);break}xt&&(oe=xu)}ne&&((at=!yt&&at)&&it--,Be&&wn.push(at))}if(it+=Zt,ne&&Zt!==it){for(ht=0;yt=K[ht++];)yt(wn,Pr,Ue,Je);if(Be){if(it>0)for(;Zt--;)wn[Zt]||Pr[Zt]||(Pr[Zt]=T.call(Ve));Pr=n_(Pr)}N.apply(Ve,Pr),xt&&!Be&&Pr.length>0&&it+K.length>1&&v.uniqueSort(Ve)}return xt&&(oe=xu,w=fs),wn};return ne?Ks(_e):_e}function Py(j,K){var ne,ae=[],_e=[],Be=bt[j+" "];if(!Be){for(K||(K=gm(j)),ne=K.length;ne--;)Be=zy(K[ne]),Be[ve]?ae.push(Be):_e.push(Be);Be=bt(j,i$(_e,ae)),Be.selector=j}return Be}function Fk(j,K,ne,ae){var _e,Be,Ue,Je,Ve,xt=typeof j=="function"&&j,at=!ae&&gm(j=xt.selector||j);if(ne=ne||[],at.length===1){if(Be=at[0]=at[0].slice(0),Be.length>2&&(Ue=Be[0]).type==="ID"&&K.nodeType===9&&q&&b.relative[Be[1].type]){if(K=(b.find.ID(Ue.matches[0].replace(ma,pa),K)||[])[0],K)xt&&(K=K.parentNode);else return ne;j=j.slice(Be.shift().value.length)}for(_e=ko.needsContext.test(j)?0:Be.length;_e--&&(Ue=Be[_e],!b.relative[Je=Ue.type]);)if((Ve=b.find[Je])&&(ae=Ve(Ue.matches[0].replace(ma,pa),Ly.test(Be[0].type)&&Ny(K.parentNode)||K))){if(Be.splice(_e,1),j=ae.length&&i_(Be),!j)return N.apply(ne,ae),ne;break}}return(xt||Py(j,at))(ae,K,!q,ne,!K||Ly.test(j)&&Ny(K.parentNode)||K),ne}h.sortStable=ve.split("").sort(sr).join("")===ve,El(),h.sortDetached=bu(function(j){return j.compareDocumentPosition(D.createElement("fieldset"))&1}),v.find=Ft,v.expr[":"]=v.expr.pseudos,v.unique=v.uniqueSort,Ft.compile=Py,Ft.select=Fk,Ft.setDocument=El,Ft.tokenize=gm,Ft.escape=v.escapeSelector,Ft.getText=v.text,Ft.isXML=v.isXMLDoc,Ft.selectors=v.expr,Ft.support=v.support,Ft.uniqueSort=v.uniqueSort})();var Z=function(g,b,w){for(var S=[],L=w!==void 0;(g=g[b])&&g.nodeType!==9;)if(g.nodeType===1){if(L&&v(g).is(w))break;S.push(g)}return S},ye=function(g,b){for(var w=[];g;g=g.nextSibling)g.nodeType===1&&g!==b&&w.push(g);return w},ue=v.expr.match.needsContext,xe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ke(g,b,w){return m(b)?v.grep(g,function(S,L){return!!b.call(S,L,S)!==w}):b.nodeType?v.grep(g,function(S){return S===b!==w}):typeof b!="string"?v.grep(g,function(S){return a.call(b,S)>-1!==w}):v.filter(b,g,w)}v.filter=function(g,b,w){var S=b[0];return w&&(g=":not("+g+")"),b.length===1&&S.nodeType===1?v.find.matchesSelector(S,g)?[S]:[]:v.find.matches(g,v.grep(b,function(L){return L.nodeType===1}))},v.fn.extend({find:function(g){var b,w,S=this.length,L=this;if(typeof g!="string")return this.pushStack(v(g).filter(function(){for(b=0;b<S;b++)if(v.contains(L[b],this))return!0}));for(w=this.pushStack([]),b=0;b<S;b++)v.find(g,L[b],w);return S>1?v.uniqueSort(w):w},filter:function(g){return this.pushStack(ke(this,g||[],!1))},not:function(g){return this.pushStack(ke(this,g||[],!0))},is:function(g){return!!ke(this,typeof g=="string"&&ue.test(g)?v(g):g||[],!1).length}});var We,Xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ze=v.fn.init=function(g,b,w){var S,L;if(!g)return this;if(w=w||We,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?S=[null,g,null]:S=Xe.exec(g),S&&(S[1]||!b))if(S[1]){if(b=b instanceof v?b[0]:b,v.merge(this,v.parseHTML(S[1],b&&b.nodeType?b.ownerDocument||b:_,!0)),xe.test(S[1])&&v.isPlainObject(b))for(S in b)m(this[S])?this[S](b[S]):this.attr(S,b[S]);return this}else return L=_.getElementById(S[2]),L&&(this[0]=L,this.length=1),this;else return!b||b.jquery?(b||w).find(g):this.constructor(b).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(m(g))return w.ready!==void 0?w.ready(g):g(v)}return v.makeArray(g,this)};Ze.prototype=v.fn,We=v(_);var st=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(g){var b=v(g,this),w=b.length;return this.filter(function(){for(var S=0;S<w;S++)if(v.contains(this,b[S]))return!0})},closest:function(g,b){var w,S=0,L=this.length,N=[],D=typeof g!="string"&&v(g);if(!ue.test(g)){for(;S<L;S++)for(w=this[S];w&&w!==b;w=w.parentNode)if(w.nodeType<11&&(D?D.index(w)>-1:w.nodeType===1&&v.find.matchesSelector(w,g))){N.push(w);break}}return this.pushStack(N.length>1?v.uniqueSort(N):N)},index:function(g){return g?typeof g=="string"?a.call(v(g),this[0]):a.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,b){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(g,b))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function Dt(g,b){for(;(g=g[b])&&g.nodeType!==1;);return g}v.each({parent:function(g){var b=g.parentNode;return b&&b.nodeType!==11?b:null},parents:function(g){return Z(g,"parentNode")},parentsUntil:function(g,b,w){return Z(g,"parentNode",w)},next:function(g){return Dt(g,"nextSibling")},prev:function(g){return Dt(g,"previousSibling")},nextAll:function(g){return Z(g,"nextSibling")},prevAll:function(g){return Z(g,"previousSibling")},nextUntil:function(g,b,w){return Z(g,"nextSibling",w)},prevUntil:function(g,b,w){return Z(g,"previousSibling",w)},siblings:function(g){return ye((g.parentNode||{}).firstChild,g)},children:function(g){return ye(g.firstChild)},contents:function(g){return g.contentDocument!=null&&r(g.contentDocument)?g.contentDocument:(E(g,"template")&&(g=g.content||g),v.merge([],g.childNodes))}},function(g,b){v.fn[g]=function(w,S){var L=v.map(this,b,w);return g.slice(-5)!=="Until"&&(S=w),S&&typeof S=="string"&&(L=v.filter(S,L)),this.length>1&&(vt[g]||v.uniqueSort(L),st.test(g)&&L.reverse()),this.pushStack(L)}});var Pt=/[^\x20\t\r\n\f]+/g;function Wi(g){var b={};return v.each(g.match(Pt)||[],function(w,S){b[S]=!0}),b}v.Callbacks=function(g){g=typeof g=="string"?Wi(g):v.extend({},g);var b,w,S,L,N=[],D=[],U=-1,q=function(){for(L=L||g.once,S=b=!0;D.length;U=-1)for(w=D.shift();++U<N.length;)N[U].apply(w[0],w[1])===!1&&g.stopOnFalse&&(U=N.length,w=!1);g.memory||(w=!1),b=!1,L&&(w?N=[]:N="")},ee={add:function(){return N&&(w&&!b&&(U=N.length-1,D.push(w)),function ce(ve){v.each(ve,function(oe,Ae){m(Ae)?(!g.unique||!ee.has(Ae))&&N.push(Ae):Ae&&Ae.length&&C(Ae)!=="string"&&ce(Ae)})}(arguments),w&&!b&&q()),this},remove:function(){return v.each(arguments,function(ce,ve){for(var oe;(oe=v.inArray(ve,N,oe))>-1;)N.splice(oe,1),oe<=U&&U--}),this},has:function(ce){return ce?v.inArray(ce,N)>-1:N.length>0},empty:function(){return N&&(N=[]),this},disable:function(){return L=D=[],N=w="",this},disabled:function(){return!N},lock:function(){return L=D=[],!w&&!b&&(N=w=""),this},locked:function(){return!!L},fireWith:function(ce,ve){return L||(ve=ve||[],ve=[ce,ve.slice?ve.slice():ve],D.push(ve),b||q()),this},fire:function(){return ee.fireWith(this,arguments),this},fired:function(){return!!S}};return ee};function yi(g){return g}function ir(g){throw g}function A(g,b,w,S){var L;try{g&&m(L=g.promise)?L.call(g).done(b).fail(w):g&&m(L=g.then)?L.call(g,b,w):b.apply(void 0,[g].slice(S))}catch(N){w.apply(void 0,[N])}}v.extend({Deferred:function(g){var b=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],w="pending",S={state:function(){return w},always:function(){return L.done(arguments).fail(arguments),this},catch:function(N){return S.then(null,N)},pipe:function(){var N=arguments;return v.Deferred(function(D){v.each(b,function(U,q){var ee=m(N[q[4]])&&N[q[4]];L[q[1]](function(){var ce=ee&&ee.apply(this,arguments);ce&&m(ce.promise)?ce.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[q[0]+"With"](this,ee?[ce]:arguments)})}),N=null}).promise()},then:function(N,D,U){var q=0;function ee(ce,ve,oe,Ae){return function(){var ct=this,kt=arguments,bt=function(){var sr,Eo;if(!(ce<q)){if(sr=oe.apply(ct,kt),sr===ve.promise())throw new TypeError("Thenable self-resolution");Eo=sr&&(typeof sr=="object"||typeof sr=="function")&&sr.then,m(Eo)?Ae?Eo.call(sr,ee(q,ve,yi,Ae),ee(q,ve,ir,Ae)):(q++,Eo.call(sr,ee(q,ve,yi,Ae),ee(q,ve,ir,Ae),ee(q,ve,yi,ve.notifyWith))):(oe!==yi&&(ct=void 0,kt=[sr]),(Ae||ve.resolveWith)(ct,kt))}},Mr=Ae?bt:function(){try{bt()}catch(sr){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(sr,Mr.error),ce+1>=q&&(oe!==ir&&(ct=void 0,kt=[sr]),ve.rejectWith(ct,kt))}};ce?Mr():(v.Deferred.getErrorHook?Mr.error=v.Deferred.getErrorHook():v.Deferred.getStackHook&&(Mr.error=v.Deferred.getStackHook()),t.setTimeout(Mr))}}return v.Deferred(function(ce){b[0][3].add(ee(0,ce,m(U)?U:yi,ce.notifyWith)),b[1][3].add(ee(0,ce,m(N)?N:yi)),b[2][3].add(ee(0,ce,m(D)?D:ir))}).promise()},promise:function(N){return N!=null?v.extend(N,S):S}},L={};return v.each(b,function(N,D){var U=D[2],q=D[5];S[D[1]]=U.add,q&&U.add(function(){w=q},b[3-N][2].disable,b[3-N][3].disable,b[0][2].lock,b[0][3].lock),U.add(D[3].fire),L[D[0]]=function(){return L[D[0]+"With"](this===L?void 0:this,arguments),this},L[D[0]+"With"]=U.fireWith}),S.promise(L),g&&g.call(L,L),L},when:function(g){var b=arguments.length,w=b,S=Array(w),L=n.call(arguments),N=v.Deferred(),D=function(U){return function(q){S[U]=this,L[U]=arguments.length>1?n.call(arguments):q,--b||N.resolveWith(S,L)}};if(b<=1&&(A(g,N.done(D(w)).resolve,N.reject,!b),N.state()==="pending"||m(L[w]&&L[w].then)))return N.then();for(;w--;)A(L[w],D(w),N.reject);return N.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(g,b){t.console&&t.console.warn&&g&&z.test(g.name)&&t.console.warn("jQuery.Deferred exception: "+g.message,g.stack,b)},v.readyException=function(g){t.setTimeout(function(){throw g})};var W=v.Deferred();v.fn.ready=function(g){return W.then(g).catch(function(b){v.readyException(b)}),this},v.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(g!==!0&&--v.readyWait>0)&&W.resolveWith(_,[v]))}}),v.ready.then=W.then;function J(){_.removeEventListener("DOMContentLoaded",J),t.removeEventListener("load",J),v.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?t.setTimeout(v.ready):(_.addEventListener("DOMContentLoaded",J),t.addEventListener("load",J));var le=function(g,b,w,S,L,N,D){var U=0,q=g.length,ee=w==null;if(C(w)==="object"){L=!0;for(U in w)le(g,b,U,w[U],!0,N,D)}else if(S!==void 0&&(L=!0,m(S)||(D=!0),ee&&(D?(b.call(g,S),b=null):(ee=b,b=function(ce,ve,oe){return ee.call(v(ce),oe)})),b))for(;U<q;U++)b(g[U],w,D?S:S.call(g[U],U,b(g[U],w)));return L?g:ee?b.call(g):q?b(g[0],w):N},he=/^-ms-/,Fe=/-([a-z])/g;function et(g,b){return b.toUpperCase()}function ft(g){return g.replace(he,"ms-").replace(Fe,et)}var ni=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Jt(){this.expando=v.expando+Jt.uid++}Jt.uid=1,Jt.prototype={cache:function(g){var b=g[this.expando];return b||(b={},ni(g)&&(g.nodeType?g[this.expando]=b:Object.defineProperty(g,this.expando,{value:b,configurable:!0}))),b},set:function(g,b,w){var S,L=this.cache(g);if(typeof b=="string")L[ft(b)]=w;else for(S in b)L[ft(S)]=b[S];return L},get:function(g,b){return b===void 0?this.cache(g):g[this.expando]&&g[this.expando][ft(b)]},access:function(g,b,w){return b===void 0||b&&typeof b=="string"&&w===void 0?this.get(g,b):(this.set(g,b,w),w!==void 0?w:b)},remove:function(g,b){var w,S=g[this.expando];if(S!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(ft):(b=ft(b),b=b in S?[b]:b.match(Pt)||[]),w=b.length;w--;)delete S[b[w]];(b===void 0||v.isEmptyObject(S))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var b=g[this.expando];return b!==void 0&&!v.isEmptyObject(b)}};var Pe=new Jt,$=new Jt,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;function Ne(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:O.test(g)?JSON.parse(g):g}function Le(g,b,w){var S;if(w===void 0&&g.nodeType===1)if(S="data-"+b.replace(Me,"-$&").toLowerCase(),w=g.getAttribute(S),typeof w=="string"){try{w=Ne(w)}catch{}$.set(g,b,w)}else w=void 0;return w}v.extend({hasData:function(g){return $.hasData(g)||Pe.hasData(g)},data:function(g,b,w){return $.access(g,b,w)},removeData:function(g,b){$.remove(g,b)},_data:function(g,b,w){return Pe.access(g,b,w)},_removeData:function(g,b){Pe.remove(g,b)}}),v.fn.extend({data:function(g,b){var w,S,L,N=this[0],D=N&&N.attributes;if(g===void 0){if(this.length&&(L=$.get(N),N.nodeType===1&&!Pe.get(N,"hasDataAttrs"))){for(w=D.length;w--;)D[w]&&(S=D[w].name,S.indexOf("data-")===0&&(S=ft(S.slice(5)),Le(N,S,L[S])));Pe.set(N,"hasDataAttrs",!0)}return L}return typeof g=="object"?this.each(function(){$.set(this,g)}):le(this,function(U){var q;if(N&&U===void 0)return q=$.get(N,g),q!==void 0||(q=Le(N,g),q!==void 0)?q:void 0;this.each(function(){$.set(this,g,U)})},null,b,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){$.remove(this,g)})}}),v.extend({queue:function(g,b,w){var S;if(g)return b=(b||"fx")+"queue",S=Pe.get(g,b),w&&(!S||Array.isArray(w)?S=Pe.access(g,b,v.makeArray(w)):S.push(w)),S||[]},dequeue:function(g,b){b=b||"fx";var w=v.queue(g,b),S=w.length,L=w.shift(),N=v._queueHooks(g,b),D=function(){v.dequeue(g,b)};L==="inprogress"&&(L=w.shift(),S--),L&&(b==="fx"&&w.unshift("inprogress"),delete N.stop,L.call(g,D,N)),!S&&N&&N.empty.fire()},_queueHooks:function(g,b){var w=b+"queueHooks";return Pe.get(g,w)||Pe.access(g,w,{empty:v.Callbacks("once memory").add(function(){Pe.remove(g,[b+"queue",w])})})}}),v.fn.extend({queue:function(g,b){var w=2;return typeof g!="string"&&(b=g,g="fx",w--),arguments.length<w?v.queue(this[0],g):b===void 0?this:this.each(function(){var S=v.queue(this,g,b);v._queueHooks(this,g),g==="fx"&&S[0]!=="inprogress"&&v.dequeue(this,g)})},dequeue:function(g){return this.each(function(){v.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,b){var w,S=1,L=v.Deferred(),N=this,D=this.length,U=function(){--S||L.resolveWith(N,[N])};for(typeof g!="string"&&(b=g,g=void 0),g=g||"fx";D--;)w=Pe.get(N[D],g+"queueHooks"),w&&w.empty&&(S++,w.empty.add(U));return U(),L.promise(b)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),Ct=["Top","Right","Bottom","Left"],lt=_.documentElement,wi=function(g){return v.contains(g.ownerDocument,g)},rn={composed:!0};lt.getRootNode&&(wi=function(g){return v.contains(g.ownerDocument,g)||g.getRootNode(rn)===g.ownerDocument});var ui=function(g,b){return g=b||g,g.style.display==="none"||g.style.display===""&&wi(g)&&v.css(g,"display")==="none"};function Et(g,b,w,S){var L,N,D=20,U=S?function(){return S.cur()}:function(){return v.css(g,b,"")},q=U(),ee=w&&w[3]||(v.cssNumber[b]?"":"px"),ce=g.nodeType&&(v.cssNumber[b]||ee!=="px"&&+q)&&ot.exec(v.css(g,b));if(ce&&ce[3]!==ee){for(q=q/2,ee=ee||ce[3],ce=+q||1;D--;)v.style(g,b,ce+ee),(1-N)*(1-(N=U()/q||.5))<=0&&(D=0),ce=ce/N;ce=ce*2,v.style(g,b,ce+ee),w=w||[]}return w&&(ce=+ce||+q||0,L=w[1]?ce+(w[1]+1)*w[2]:+w[2],S&&(S.unit=ee,S.start=ce,S.end=L)),L}var cs={};function vi(g){var b,w=g.ownerDocument,S=g.nodeName,L=cs[S];return L||(b=w.body.appendChild(w.createElement(S)),L=v.css(b,"display"),b.parentNode.removeChild(b),L==="none"&&(L="block"),cs[S]=L,L)}function zi(g,b){for(var w,S,L=[],N=0,D=g.length;N<D;N++)S=g[N],S.style&&(w=S.style.display,b?(w==="none"&&(L[N]=Pe.get(S,"display")||null,L[N]||(S.style.display="")),S.style.display===""&&ui(S)&&(L[N]=vi(S))):w!=="none"&&(L[N]="none",Pe.set(S,"display",w)));for(N=0;N<D;N++)L[N]!=null&&(g[N].style.display=L[N]);return g}v.fn.extend({show:function(){return zi(this,!0)},hide:function(){return zi(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){ui(this)?v(this).show():v(this).hide()})}});var da=/^(?:checkbox|radio)$/i,ds=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ua=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=_.createDocumentFragment(),b=g.appendChild(_.createElement("div")),w=_.createElement("input");w.setAttribute("type","radio"),w.setAttribute("checked","checked"),w.setAttribute("name","t"),b.appendChild(w),h.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",h.option=!!b.lastChild})();var Ir={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ir.tbody=Ir.tfoot=Ir.colgroup=Ir.caption=Ir.thead,Ir.th=Ir.td,h.option||(Ir.optgroup=Ir.option=[1,"<select multiple='multiple'>","</select>"]);function rr(g,b){var w;return typeof g.getElementsByTagName<"u"?w=g.getElementsByTagName(b||"*"):typeof g.querySelectorAll<"u"?w=g.querySelectorAll(b||"*"):w=[],b===void 0||b&&E(g,b)?v.merge([g],w):w}function em(g,b){for(var w=0,S=g.length;w<S;w++)Pe.set(g[w],"globalEval",!b||Pe.get(b[w],"globalEval"))}var Ys=/<|&#?\w+;/;function Vg(g,b,w,S,L){for(var N,D,U,q,ee,ce,ve=b.createDocumentFragment(),oe=[],Ae=0,ct=g.length;Ae<ct;Ae++)if(N=g[Ae],N||N===0)if(C(N)==="object")v.merge(oe,N.nodeType?[N]:N);else if(!Ys.test(N))oe.push(b.createTextNode(N));else{for(D=D||ve.appendChild(b.createElement("div")),U=(ds.exec(N)||["",""])[1].toLowerCase(),q=Ir[U]||Ir._default,D.innerHTML=q[1]+v.htmlPrefilter(N)+q[2],ce=q[0];ce--;)D=D.lastChild;v.merge(oe,D.childNodes),D=ve.firstChild,D.textContent=""}for(ve.textContent="",Ae=0;N=oe[Ae++];){if(S&&v.inArray(N,S)>-1){L&&L.push(N);continue}if(ee=wi(N),D=rr(ve.appendChild(N),"script"),ee&&em(D),w)for(ce=0;N=D[ce++];)ua.test(N.type||"")&&w.push(N)}return ve}var tm=/^([^.]*)(?:\.(.+)|)/;function bl(){return!0}function xl(){return!1}function im(g,b,w,S,L,N){var D,U;if(typeof b=="object"){typeof w!="string"&&(S=S||w,w=void 0);for(U in b)im(g,U,w,S,b[U],N);return g}if(S==null&&L==null?(L=w,S=w=void 0):L==null&&(typeof w=="string"?(L=S,S=void 0):(L=S,S=w,w=void 0)),L===!1)L=xl;else if(!L)return g;return N===1&&(D=L,L=function(q){return v().off(q),D.apply(this,arguments)},L.guid=D.guid||(D.guid=v.guid++)),g.each(function(){v.event.add(this,b,L,S,w)})}v.event={global:{},add:function(g,b,w,S,L){var N,D,U,q,ee,ce,ve,oe,Ae,ct,kt,bt=Pe.get(g);if(ni(g))for(w.handler&&(N=w,w=N.handler,L=N.selector),L&&v.find.matchesSelector(lt,L),w.guid||(w.guid=v.guid++),(q=bt.events)||(q=bt.events=Object.create(null)),(D=bt.handle)||(D=bt.handle=function(Mr){return typeof v<"u"&&v.event.triggered!==Mr.type?v.event.dispatch.apply(g,arguments):void 0}),b=(b||"").match(Pt)||[""],ee=b.length;ee--;)U=tm.exec(b[ee])||[],Ae=kt=U[1],ct=(U[2]||"").split(".").sort(),Ae&&(ve=v.event.special[Ae]||{},Ae=(L?ve.delegateType:ve.bindType)||Ae,ve=v.event.special[Ae]||{},ce=v.extend({type:Ae,origType:kt,data:S,handler:w,guid:w.guid,selector:L,needsContext:L&&v.expr.match.needsContext.test(L),namespace:ct.join(".")},N),(oe=q[Ae])||(oe=q[Ae]=[],oe.delegateCount=0,(!ve.setup||ve.setup.call(g,S,ct,D)===!1)&&g.addEventListener&&g.addEventListener(Ae,D)),ve.add&&(ve.add.call(g,ce),ce.handler.guid||(ce.handler.guid=w.guid)),L?oe.splice(oe.delegateCount++,0,ce):oe.push(ce),v.event.global[Ae]=!0)},remove:function(g,b,w,S,L){var N,D,U,q,ee,ce,ve,oe,Ae,ct,kt,bt=Pe.hasData(g)&&Pe.get(g);if(!(!bt||!(q=bt.events))){for(b=(b||"").match(Pt)||[""],ee=b.length;ee--;){if(U=tm.exec(b[ee])||[],Ae=kt=U[1],ct=(U[2]||"").split(".").sort(),!Ae){for(Ae in q)v.event.remove(g,Ae+b[ee],w,S,!0);continue}for(ve=v.event.special[Ae]||{},Ae=(S?ve.delegateType:ve.bindType)||Ae,oe=q[Ae]||[],U=U[2]&&new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=N=oe.length;N--;)ce=oe[N],(L||kt===ce.origType)&&(!w||w.guid===ce.guid)&&(!U||U.test(ce.namespace))&&(!S||S===ce.selector||S==="**"&&ce.selector)&&(oe.splice(N,1),ce.selector&&oe.delegateCount--,ve.remove&&ve.remove.call(g,ce));D&&!oe.length&&((!ve.teardown||ve.teardown.call(g,ct,bt.handle)===!1)&&v.removeEvent(g,Ae,bt.handle),delete q[Ae])}v.isEmptyObject(q)&&Pe.remove(g,"handle events")}},dispatch:function(g){var b,w,S,L,N,D,U=new Array(arguments.length),q=v.event.fix(g),ee=(Pe.get(this,"events")||Object.create(null))[q.type]||[],ce=v.event.special[q.type]||{};for(U[0]=q,b=1;b<arguments.length;b++)U[b]=arguments[b];if(q.delegateTarget=this,!(ce.preDispatch&&ce.preDispatch.call(this,q)===!1)){for(D=v.event.handlers.call(this,q,ee),b=0;(L=D[b++])&&!q.isPropagationStopped();)for(q.currentTarget=L.elem,w=0;(N=L.handlers[w++])&&!q.isImmediatePropagationStopped();)(!q.rnamespace||N.namespace===!1||q.rnamespace.test(N.namespace))&&(q.handleObj=N,q.data=N.data,S=((v.event.special[N.origType]||{}).handle||N.handler).apply(L.elem,U),S!==void 0&&(q.result=S)===!1&&(q.preventDefault(),q.stopPropagation()));return ce.postDispatch&&ce.postDispatch.call(this,q),q.result}},handlers:function(g,b){var w,S,L,N,D,U=[],q=b.delegateCount,ee=g.target;if(q&&ee.nodeType&&!(g.type==="click"&&g.button>=1)){for(;ee!==this;ee=ee.parentNode||this)if(ee.nodeType===1&&!(g.type==="click"&&ee.disabled===!0)){for(N=[],D={},w=0;w<q;w++)S=b[w],L=S.selector+" ",D[L]===void 0&&(D[L]=S.needsContext?v(L,this).index(ee)>-1:v.find(L,this,null,[ee]).length),D[L]&&N.push(S);N.length&&U.push({elem:ee,handlers:N})}}return ee=this,q<b.length&&U.push({elem:ee,handlers:b.slice(q)}),U},addProp:function(g,b){Object.defineProperty(v.Event.prototype,g,{enumerable:!0,configurable:!0,get:m(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(w){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:w})}})},fix:function(g){return g[v.expando]?g:new v.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var b=this||g;return da.test(b.type)&&b.click&&E(b,"input")&&Mc(b,"click",!0),!1},trigger:function(g){var b=this||g;return da.test(b.type)&&b.click&&E(b,"input")&&Mc(b,"click"),!0},_default:function(g){var b=g.target;return da.test(b.type)&&b.click&&E(b,"input")&&Pe.get(b,"click")||E(b,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Mc(g,b,w){if(!w){Pe.get(g,b)===void 0&&v.event.add(g,b,bl);return}Pe.set(g,b,!1),v.event.add(g,b,{namespace:!1,handler:function(S){var L,N=Pe.get(this,b);if(S.isTrigger&1&&this[b]){if(N)(v.event.special[b]||{}).delegateType&&S.stopPropagation();else if(N=n.call(arguments),Pe.set(this,b,N),this[b](),L=Pe.get(this,b),Pe.set(this,b,!1),N!==L)return S.stopImmediatePropagation(),S.preventDefault(),L}else N&&(Pe.set(this,b,v.event.trigger(N[0],N.slice(1),this)),S.stopPropagation(),S.isImmediatePropagationStopped=bl)}})}v.removeEvent=function(g,b,w){g.removeEventListener&&g.removeEventListener(b,w)},v.Event=function(g,b){if(!(this instanceof v.Event))return new v.Event(g,b);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?bl:xl,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,b&&v.extend(this,b),this.timeStamp=g&&g.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:xl,isPropagationStopped:xl,isImmediatePropagationStopped:xl,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=bl,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=bl,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=bl,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(g,b){function w(S){if(_.documentMode){var L=Pe.get(this,"handle"),N=v.event.fix(S);N.type=S.type==="focusin"?"focus":"blur",N.isSimulated=!0,L(S),N.target===N.currentTarget&&L(N)}else v.event.simulate(b,S.target,v.event.fix(S))}v.event.special[g]={setup:function(){var S;if(Mc(this,g,!0),_.documentMode)S=Pe.get(this,b),S||this.addEventListener(b,w),Pe.set(this,b,(S||0)+1);else return!1},trigger:function(){return Mc(this,g),!0},teardown:function(){var S;if(_.documentMode)S=Pe.get(this,b)-1,S?Pe.set(this,b,S):(this.removeEventListener(b,w),Pe.remove(this,b));else return!1},_default:function(S){return Pe.get(S.target,g)},delegateType:b},v.event.special[b]={setup:function(){var S=this.ownerDocument||this.document||this,L=_.documentMode?this:S,N=Pe.get(L,b);N||(_.documentMode?this.addEventListener(b,w):S.addEventListener(g,w,!0)),Pe.set(L,b,(N||0)+1)},teardown:function(){var S=this.ownerDocument||this.document||this,L=_.documentMode?this:S,N=Pe.get(L,b)-1;N?Pe.set(L,b,N):(_.documentMode?this.removeEventListener(b,w):S.removeEventListener(g,w,!0),Pe.remove(L,b))}}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,b){v.event.special[g]={delegateType:b,bindType:b,handle:function(w){var S,L=this,N=w.relatedTarget,D=w.handleObj;return(!N||N!==L&&!v.contains(L,N))&&(w.type=D.origType,S=D.handler.apply(this,arguments),w.type=b),S}}}),v.fn.extend({on:function(g,b,w,S){return im(this,g,b,w,S)},one:function(g,b,w,S){return im(this,g,b,w,S,1)},off:function(g,b,w){var S,L;if(g&&g.preventDefault&&g.handleObj)return S=g.handleObj,v(g.delegateTarget).off(S.namespace?S.origType+"."+S.namespace:S.origType,S.selector,S.handler),this;if(typeof g=="object"){for(L in g)this.off(L,b,g[L]);return this}return(b===!1||typeof b=="function")&&(w=b,b=void 0),w===!1&&(w=xl),this.each(function(){v.event.remove(this,g,w,b)})}});var rm=/<script|<style|<link/i,nm=/checked\s*(?:[^=]|=\s*.checked.)/i,Gg=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Yg(g,b){return E(g,"table")&&E(b.nodeType!==11?b:b.firstChild,"tr")&&v(g).children("tbody")[0]||g}function by(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Xg(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function Kg(g,b){var w,S,L,N,D,U,q;if(b.nodeType===1){if(Pe.hasData(g)&&(N=Pe.get(g),q=N.events,q)){Pe.remove(b,"handle events");for(L in q)for(w=0,S=q[L].length;w<S;w++)v.event.add(b,L,q[L][w])}$.hasData(g)&&(D=$.access(g),U=v.extend({},D),$.set(b,U))}}function xy(g,b){var w=b.nodeName.toLowerCase();w==="input"&&da.test(g.type)?b.checked=g.checked:(w==="input"||w==="textarea")&&(b.defaultValue=g.defaultValue)}function Co(g,b,w,S){b=s(b);var L,N,D,U,q,ee,ce=0,ve=g.length,oe=ve-1,Ae=b[0],ct=m(Ae);if(ct||ve>1&&typeof Ae=="string"&&!h.checkClone&&nm.test(Ae))return g.each(function(kt){var bt=g.eq(kt);ct&&(b[0]=Ae.call(this,kt,bt.html())),Co(bt,b,w,S)});if(ve&&(L=Vg(b,g[0].ownerDocument,!1,g,S),N=L.firstChild,L.childNodes.length===1&&(L=N),N||S)){for(D=v.map(rr(L,"script"),by),U=D.length;ce<ve;ce++)q=L,ce!==oe&&(q=v.clone(q,!0,!0),U&&v.merge(D,rr(q,"script"))),w.call(g[ce],q,ce);if(U)for(ee=D[D.length-1].ownerDocument,v.map(D,Xg),ce=0;ce<U;ce++)q=D[ce],ua.test(q.type||"")&&!Pe.access(q,"globalEval")&&v.contains(ee,q)&&(q.src&&(q.type||"").toLowerCase()!=="module"?v._evalUrl&&!q.noModule&&v._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},ee):y(q.textContent.replace(Gg,""),q,ee))}return g}function du(g,b,w){for(var S,L=b?v.filter(b,g):g,N=0;(S=L[N])!=null;N++)!w&&S.nodeType===1&&v.cleanData(rr(S)),S.parentNode&&(w&&wi(S)&&em(rr(S,"script")),S.parentNode.removeChild(S));return g}v.extend({htmlPrefilter:function(g){return g},clone:function(g,b,w){var S,L,N,D,U=g.cloneNode(!0),q=wi(g);if(!h.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!v.isXMLDoc(g))for(D=rr(U),N=rr(g),S=0,L=N.length;S<L;S++)xy(N[S],D[S]);if(b)if(w)for(N=N||rr(g),D=D||rr(U),S=0,L=N.length;S<L;S++)Kg(N[S],D[S]);else Kg(g,U);return D=rr(U,"script"),D.length>0&&em(D,!q&&rr(g,"script")),U},cleanData:function(g){for(var b,w,S,L=v.event.special,N=0;(w=g[N])!==void 0;N++)if(ni(w)){if(b=w[Pe.expando]){if(b.events)for(S in b.events)L[S]?v.event.remove(w,S):v.removeEvent(w,S,b.handle);w[Pe.expando]=void 0}w[$.expando]&&(w[$.expando]=void 0)}}}),v.fn.extend({detach:function(g){return du(this,g,!0)},remove:function(g){return du(this,g)},text:function(g){return le(this,function(b){return b===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,g,arguments.length)},append:function(){return Co(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Yg(this,g);b.appendChild(g)}})},prepend:function(){return Co(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Yg(this,g);b.insertBefore(g,b.firstChild)}})},before:function(){return Co(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Co(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,b=0;(g=this[b])!=null;b++)g.nodeType===1&&(v.cleanData(rr(g,!1)),g.textContent="");return this},clone:function(g,b){return g=g??!1,b=b??g,this.map(function(){return v.clone(this,g,b)})},html:function(g){return le(this,function(b){var w=this[0]||{},S=0,L=this.length;if(b===void 0&&w.nodeType===1)return w.innerHTML;if(typeof b=="string"&&!rm.test(b)&&!Ir[(ds.exec(b)||["",""])[1].toLowerCase()]){b=v.htmlPrefilter(b);try{for(;S<L;S++)w=this[S]||{},w.nodeType===1&&(v.cleanData(rr(w,!1)),w.innerHTML=b);w=0}catch{}}w&&this.empty().append(b)},null,g,arguments.length)},replaceWith:function(){var g=[];return Co(this,arguments,function(b){var w=this.parentNode;v.inArray(this,g)<0&&(v.cleanData(rr(this)),w&&w.replaceChild(b,this))},g)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,b){v.fn[g]=function(w){for(var S,L=[],N=v(w),D=N.length-1,U=0;U<=D;U++)S=U===D?this:this.clone(!0),v(N[U])[b](S),o.apply(L,S.get());return this.pushStack(L)}});var uu=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Xs=/^--/,hu=function(g){var b=g.ownerDocument.defaultView;return(!b||!b.opener)&&(b=t),b.getComputedStyle(g)},sm=function(g,b,w){var S,L,N={};for(L in b)N[L]=g.style[L],g.style[L]=b[L];S=w.call(g);for(L in b)g.style[L]=N[L];return S},yy=new RegExp(Ct.join("|"),"i");(function(){function g(){if(ee){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",lt.appendChild(q).appendChild(ee);var ce=t.getComputedStyle(ee);w=ce.top!=="1%",U=b(ce.marginLeft)===12,ee.style.right="60%",N=b(ce.right)===36,S=b(ce.width)===36,ee.style.position="absolute",L=b(ee.offsetWidth/3)===12,lt.removeChild(q),ee=null}}function b(ce){return Math.round(parseFloat(ce))}var w,S,L,N,D,U,q=_.createElement("div"),ee=_.createElement("div");ee.style&&(ee.style.backgroundClip="content-box",ee.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle=ee.style.backgroundClip==="content-box",v.extend(h,{boxSizingReliable:function(){return g(),S},pixelBoxStyles:function(){return g(),N},pixelPosition:function(){return g(),w},reliableMarginLeft:function(){return g(),U},scrollboxSize:function(){return g(),L},reliableTrDimensions:function(){var ce,ve,oe,Ae;return D==null&&(ce=_.createElement("table"),ve=_.createElement("tr"),oe=_.createElement("div"),ce.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ve.style.cssText="box-sizing:content-box;border:1px solid",ve.style.height="1px",oe.style.height="9px",oe.style.display="block",lt.appendChild(ce).appendChild(ve).appendChild(oe),Ae=t.getComputedStyle(ve),D=parseInt(Ae.height,10)+parseInt(Ae.borderTopWidth,10)+parseInt(Ae.borderBottomWidth,10)===ve.offsetHeight,lt.removeChild(ce)),D}}))})();function kc(g,b,w){var S,L,N,D,U=Xs.test(b),q=g.style;return w=w||hu(g),w&&(D=w.getPropertyValue(b)||w[b],U&&D&&(D=D.replace(re,"$1")||void 0),D===""&&!wi(g)&&(D=v.style(g,b)),!h.pixelBoxStyles()&&uu.test(D)&&yy.test(b)&&(S=q.width,L=q.minWidth,N=q.maxWidth,q.minWidth=q.maxWidth=q.width=D,D=w.width,q.width=S,q.minWidth=L,q.maxWidth=N)),D!==void 0?D+"":D}function Jg(g,b){return{get:function(){if(g()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var fu=["Webkit","Moz","ms"],mu=_.createElement("div").style,Zg={};function wy(g){for(var b=g[0].toUpperCase()+g.slice(1),w=fu.length;w--;)if(g=fu[w]+b,g in mu)return g}function om(g){var b=v.cssProps[g]||Zg[g];return b||(g in mu?g:Zg[g]=wy(g)||g)}var Cy=/^(none|table(?!-c[ea]).+)/,am={position:"absolute",visibility:"hidden",display:"block"},Qg={letterSpacing:"0",fontWeight:"400"};function yl(g,b,w){var S=ot.exec(b);return S?Math.max(0,S[2]-(w||0))+(S[3]||"px"):b}function hi(g,b,w,S,L,N){var D=b==="width"?1:0,U=0,q=0,ee=0;if(w===(S?"border":"content"))return 0;for(;D<4;D+=2)w==="margin"&&(ee+=v.css(g,w+Ct[D],!0,L)),S?(w==="content"&&(q-=v.css(g,"padding"+Ct[D],!0,L)),w!=="margin"&&(q-=v.css(g,"border"+Ct[D]+"Width",!0,L))):(q+=v.css(g,"padding"+Ct[D],!0,L),w!=="padding"?q+=v.css(g,"border"+Ct[D]+"Width",!0,L):U+=v.css(g,"border"+Ct[D]+"Width",!0,L));return!S&&N>=0&&(q+=Math.max(0,Math.ceil(g["offset"+b[0].toUpperCase()+b.slice(1)]-N-q-U-.5))||0),q+ee}function Tc(g,b,w){var S=hu(g),L=!h.boxSizingReliable()||w,N=L&&v.css(g,"boxSizing",!1,S)==="border-box",D=N,U=kc(g,b,S),q="offset"+b[0].toUpperCase()+b.slice(1);if(uu.test(U)){if(!w)return U;U="auto"}return(!h.boxSizingReliable()&&N||!h.reliableTrDimensions()&&E(g,"tr")||U==="auto"||!parseFloat(U)&&v.css(g,"display",!1,S)==="inline")&&g.getClientRects().length&&(N=v.css(g,"boxSizing",!1,S)==="border-box",D=q in g,D&&(U=g[q])),U=parseFloat(U)||0,U+hi(g,b,w||(N?"border":"content"),D,S,U)+"px"}v.extend({cssHooks:{opacity:{get:function(g,b){if(b){var w=kc(g,"opacity");return w===""?"1":w}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,b,w,S){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var L,N,D,U=ft(b),q=Xs.test(b),ee=g.style;if(q||(b=om(U)),D=v.cssHooks[b]||v.cssHooks[U],w!==void 0){if(N=typeof w,N==="string"&&(L=ot.exec(w))&&L[1]&&(w=Et(g,b,L),N="number"),w==null||w!==w)return;N==="number"&&!q&&(w+=L&&L[3]||(v.cssNumber[U]?"":"px")),!h.clearCloneStyle&&w===""&&b.indexOf("background")===0&&(ee[b]="inherit"),(!D||!("set"in D)||(w=D.set(g,w,S))!==void 0)&&(q?ee.setProperty(b,w):ee[b]=w)}else return D&&"get"in D&&(L=D.get(g,!1,S))!==void 0?L:ee[b]}},css:function(g,b,w,S){var L,N,D,U=ft(b),q=Xs.test(b);return q||(b=om(U)),D=v.cssHooks[b]||v.cssHooks[U],D&&"get"in D&&(L=D.get(g,!0,w)),L===void 0&&(L=kc(g,b,S)),L==="normal"&&b in Qg&&(L=Qg[b]),w===""||w?(N=parseFloat(L),w===!0||isFinite(N)?N||0:L):L}}),v.each(["height","width"],function(g,b){v.cssHooks[b]={get:function(w,S,L){if(S)return Cy.test(v.css(w,"display"))&&(!w.getClientRects().length||!w.getBoundingClientRect().width)?sm(w,am,function(){return Tc(w,b,L)}):Tc(w,b,L)},set:function(w,S,L){var N,D=hu(w),U=!h.scrollboxSize()&&D.position==="absolute",q=U||L,ee=q&&v.css(w,"boxSizing",!1,D)==="border-box",ce=L?hi(w,b,L,ee,D):0;return ee&&U&&(ce-=Math.ceil(w["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(D[b])-hi(w,b,"border",!1,D)-.5)),ce&&(N=ot.exec(S))&&(N[3]||"px")!=="px"&&(w.style[b]=S,S=v.css(w,b)),yl(w,S,ce)}}}),v.cssHooks.marginLeft=Jg(h.reliableMarginLeft,function(g,b){if(b)return(parseFloat(kc(g,"marginLeft"))||g.getBoundingClientRect().left-sm(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(g,b){v.cssHooks[g+b]={expand:function(w){for(var S=0,L={},N=typeof w=="string"?w.split(" "):[w];S<4;S++)L[g+Ct[S]+b]=N[S]||N[S-2]||N[0];return L}},g!=="margin"&&(v.cssHooks[g+b].set=yl)}),v.fn.extend({css:function(g,b){return le(this,function(w,S,L){var N,D,U={},q=0;if(Array.isArray(S)){for(N=hu(w),D=S.length;q<D;q++)U[S[q]]=v.css(w,S[q],!1,N);return U}return L!==void 0?v.style(w,S,L):v.css(w,S)},g,b,arguments.length>1)}});function gr(g,b,w,S,L){return new gr.prototype.init(g,b,w,S,L)}v.Tween=gr,gr.prototype={constructor:gr,init:function(g,b,w,S,L,N){this.elem=g,this.prop=w,this.easing=L||v.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=S,this.unit=N||(v.cssNumber[w]?"":"px")},cur:function(){var g=gr.propHooks[this.prop];return g&&g.get?g.get(this):gr.propHooks._default.get(this)},run:function(g){var b,w=gr.propHooks[this.prop];return this.options.duration?this.pos=b=v.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=b=g,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),w&&w.set?w.set(this):gr.propHooks._default.set(this),this}},gr.prototype.init.prototype=gr.prototype,gr.propHooks={_default:{get:function(g){var b;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(b=v.css(g.elem,g.prop,""),!b||b==="auto"?0:b)},set:function(g){v.fx.step[g.prop]?v.fx.step[g.prop](g):g.elem.nodeType===1&&(v.cssHooks[g.prop]||g.elem.style[om(g.prop)]!=null)?v.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},gr.propHooks.scrollTop=gr.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},v.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},v.fx=gr.prototype.init,v.fx.step={};var ha,Ac,Sy=/^(?:toggle|show|hide)$/,lm=/queueHooks$/;function So(){Ac&&(_.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(So):t.setTimeout(So,v.fx.interval),v.fx.tick())}function cm(){return t.setTimeout(function(){ha=void 0}),ha=Date.now()}function Rc(g,b){var w,S=0,L={height:g};for(b=b?1:0;S<4;S+=2-b)w=Ct[S],L["margin"+w]=L["padding"+w]=g;return b&&(L.opacity=L.width=g),L}function Lc(g,b,w){for(var S,L=(yn.tweeners[b]||[]).concat(yn.tweeners["*"]),N=0,D=L.length;N<D;N++)if(S=L[N].call(w,b,g))return S}function Ey(g,b,w){var S,L,N,D,U,q,ee,ce,ve="width"in b||"height"in b,oe=this,Ae={},ct=g.style,kt=g.nodeType&&ui(g),bt=Pe.get(g,"fxshow");w.queue||(D=v._queueHooks(g,"fx"),D.unqueued==null&&(D.unqueued=0,U=D.empty.fire,D.empty.fire=function(){D.unqueued||U()}),D.unqueued++,oe.always(function(){oe.always(function(){D.unqueued--,v.queue(g,"fx").length||D.empty.fire()})}));for(S in b)if(L=b[S],Sy.test(L)){if(delete b[S],N=N||L==="toggle",L===(kt?"hide":"show"))if(L==="show"&&bt&&bt[S]!==void 0)kt=!0;else continue;Ae[S]=bt&&bt[S]||v.style(g,S)}if(q=!v.isEmptyObject(b),!(!q&&v.isEmptyObject(Ae))){ve&&g.nodeType===1&&(w.overflow=[ct.overflow,ct.overflowX,ct.overflowY],ee=bt&&bt.display,ee==null&&(ee=Pe.get(g,"display")),ce=v.css(g,"display"),ce==="none"&&(ee?ce=ee:(zi([g],!0),ee=g.style.display||ee,ce=v.css(g,"display"),zi([g]))),(ce==="inline"||ce==="inline-block"&&ee!=null)&&v.css(g,"float")==="none"&&(q||(oe.done(function(){ct.display=ee}),ee==null&&(ce=ct.display,ee=ce==="none"?"":ce)),ct.display="inline-block")),w.overflow&&(ct.overflow="hidden",oe.always(function(){ct.overflow=w.overflow[0],ct.overflowX=w.overflow[1],ct.overflowY=w.overflow[2]})),q=!1;for(S in Ae)q||(bt?"hidden"in bt&&(kt=bt.hidden):bt=Pe.access(g,"fxshow",{display:ee}),N&&(bt.hidden=!kt),kt&&zi([g],!0),oe.done(function(){kt||zi([g]),Pe.remove(g,"fxshow");for(S in Ae)v.style(g,S,Ae[S])})),q=Lc(kt?bt[S]:0,S,oe),S in bt||(bt[S]=q.start,kt&&(q.end=q.start,q.start=0))}}function Iy(g,b){var w,S,L,N,D;for(w in g)if(S=ft(w),L=b[S],N=g[w],Array.isArray(N)&&(L=N[1],N=g[w]=N[0]),w!==S&&(g[S]=N,delete g[w]),D=v.cssHooks[S],D&&"expand"in D){N=D.expand(N),delete g[S];for(w in N)w in g||(g[w]=N[w],b[w]=L)}else b[S]=L}function yn(g,b,w){var S,L,N=0,D=yn.prefilters.length,U=v.Deferred().always(function(){delete q.elem}),q=function(){if(L)return!1;for(var ve=ha||cm(),oe=Math.max(0,ee.startTime+ee.duration-ve),Ae=oe/ee.duration||0,ct=1-Ae,kt=0,bt=ee.tweens.length;kt<bt;kt++)ee.tweens[kt].run(ct);return U.notifyWith(g,[ee,ct,oe]),ct<1&&bt?oe:(bt||U.notifyWith(g,[ee,1,0]),U.resolveWith(g,[ee]),!1)},ee=U.promise({elem:g,props:v.extend({},b),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},w),originalProperties:b,originalOptions:w,startTime:ha||cm(),duration:w.duration,tweens:[],createTween:function(ve,oe){var Ae=v.Tween(g,ee.opts,ve,oe,ee.opts.specialEasing[ve]||ee.opts.easing);return ee.tweens.push(Ae),Ae},stop:function(ve){var oe=0,Ae=ve?ee.tweens.length:0;if(L)return this;for(L=!0;oe<Ae;oe++)ee.tweens[oe].run(1);return ve?(U.notifyWith(g,[ee,1,0]),U.resolveWith(g,[ee,ve])):U.rejectWith(g,[ee,ve]),this}}),ce=ee.props;for(Iy(ce,ee.opts.specialEasing);N<D;N++)if(S=yn.prefilters[N].call(ee,g,ce,ee.opts),S)return m(S.stop)&&(v._queueHooks(ee.elem,ee.opts.queue).stop=S.stop.bind(S)),S;return v.map(ce,Lc,ee),m(ee.opts.start)&&ee.opts.start.call(g,ee),ee.progress(ee.opts.progress).done(ee.opts.done,ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always),v.fx.timer(v.extend(q,{elem:g,anim:ee,queue:ee.opts.queue})),ee}v.Animation=v.extend(yn,{tweeners:{"*":[function(g,b){var w=this.createTween(g,b);return Et(w.elem,g,ot.exec(b),w),w}]},tweener:function(g,b){m(g)?(b=g,g=["*"]):g=g.match(Pt);for(var w,S=0,L=g.length;S<L;S++)w=g[S],yn.tweeners[w]=yn.tweeners[w]||[],yn.tweeners[w].unshift(b)},prefilters:[Ey],prefilter:function(g,b){b?yn.prefilters.unshift(g):yn.prefilters.push(g)}}),v.speed=function(g,b,w){var S=g&&typeof g=="object"?v.extend({},g):{complete:w||!w&&b||m(g)&&g,duration:g,easing:w&&b||b&&!m(b)&&b};return v.fx.off?S.duration=0:typeof S.duration!="number"&&(S.duration in v.fx.speeds?S.duration=v.fx.speeds[S.duration]:S.duration=v.fx.speeds._default),(S.queue==null||S.queue===!0)&&(S.queue="fx"),S.old=S.complete,S.complete=function(){m(S.old)&&S.old.call(this),S.queue&&v.dequeue(this,S.queue)},S},v.fn.extend({fadeTo:function(g,b,w,S){return this.filter(ui).css("opacity",0).show().end().animate({opacity:b},g,w,S)},animate:function(g,b,w,S){var L=v.isEmptyObject(g),N=v.speed(b,w,S),D=function(){var U=yn(this,v.extend({},g),N);(L||Pe.get(this,"finish"))&&U.stop(!0)};return D.finish=D,L||N.queue===!1?this.each(D):this.queue(N.queue,D)},stop:function(g,b,w){var S=function(L){var N=L.stop;delete L.stop,N(w)};return typeof g!="string"&&(w=b,b=g,g=void 0),b&&this.queue(g||"fx",[]),this.each(function(){var L=!0,N=g!=null&&g+"queueHooks",D=v.timers,U=Pe.get(this);if(N)U[N]&&U[N].stop&&S(U[N]);else for(N in U)U[N]&&U[N].stop&&lm.test(N)&&S(U[N]);for(N=D.length;N--;)D[N].elem===this&&(g==null||D[N].queue===g)&&(D[N].anim.stop(w),L=!1,D.splice(N,1));(L||!w)&&v.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var b,w=Pe.get(this),S=w[g+"queue"],L=w[g+"queueHooks"],N=v.timers,D=S?S.length:0;for(w.finish=!0,v.queue(this,g,[]),L&&L.stop&&L.stop.call(this,!0),b=N.length;b--;)N[b].elem===this&&N[b].queue===g&&(N[b].anim.stop(!0),N.splice(b,1));for(b=0;b<D;b++)S[b]&&S[b].finish&&S[b].finish.call(this);delete w.finish})}}),v.each(["toggle","show","hide"],function(g,b){var w=v.fn[b];v.fn[b]=function(S,L,N){return S==null||typeof S=="boolean"?w.apply(this,arguments):this.animate(Rc(b,!0),S,L,N)}}),v.each({slideDown:Rc("show"),slideUp:Rc("hide"),slideToggle:Rc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,b){v.fn[g]=function(w,S,L){return this.animate(b,w,S,L)}}),v.timers=[],v.fx.tick=function(){var g,b=0,w=v.timers;for(ha=Date.now();b<w.length;b++)g=w[b],!g()&&w[b]===g&&w.splice(b--,1);w.length||v.fx.stop(),ha=void 0},v.fx.timer=function(g){v.timers.push(g),v.fx.start()},v.fx.interval=13,v.fx.start=function(){Ac||(Ac=!0,So())},v.fx.stop=function(){Ac=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(g,b){return g=v.fx&&v.fx.speeds[g]||g,b=b||"fx",this.queue(b,function(w,S){var L=t.setTimeout(w,g);S.stop=function(){t.clearTimeout(L)}})},function(){var g=_.createElement("input"),b=_.createElement("select"),w=b.appendChild(_.createElement("option"));g.type="checkbox",h.checkOn=g.value!=="",h.optSelected=w.selected,g=_.createElement("input"),g.value="t",g.type="radio",h.radioValue=g.value==="t"}();var e_,wl=v.expr.attrHandle;v.fn.extend({attr:function(g,b){return le(this,v.attr,g,b,arguments.length>1)},removeAttr:function(g){return this.each(function(){v.removeAttr(this,g)})}}),v.extend({attr:function(g,b,w){var S,L,N=g.nodeType;if(!(N===3||N===8||N===2)){if(typeof g.getAttribute>"u")return v.prop(g,b,w);if((N!==1||!v.isXMLDoc(g))&&(L=v.attrHooks[b.toLowerCase()]||(v.expr.match.bool.test(b)?e_:void 0)),w!==void 0){if(w===null){v.removeAttr(g,b);return}return L&&"set"in L&&(S=L.set(g,w,b))!==void 0?S:(g.setAttribute(b,w+""),w)}return L&&"get"in L&&(S=L.get(g,b))!==null?S:(S=v.find.attr(g,b),S??void 0)}},attrHooks:{type:{set:function(g,b){if(!h.radioValue&&b==="radio"&&E(g,"input")){var w=g.value;return g.setAttribute("type",b),w&&(g.value=w),b}}}},removeAttr:function(g,b){var w,S=0,L=b&&b.match(Pt);if(L&&g.nodeType===1)for(;w=L[S++];)g.removeAttribute(w)}}),e_={set:function(g,b,w){return b===!1?v.removeAttr(g,w):g.setAttribute(w,w),w}},v.each(v.expr.match.bool.source.match(/\w+/g),function(g,b){var w=wl[b]||v.find.attr;wl[b]=function(S,L,N){var D,U,q=L.toLowerCase();return N||(U=wl[q],wl[q]=D,D=w(S,L,N)!=null?q:null,wl[q]=U),D}});var My=/^(?:input|select|textarea|button)$/i,ky=/^(?:a|area)$/i;v.fn.extend({prop:function(g,b){return le(this,v.prop,g,b,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[v.propFix[g]||g]})}}),v.extend({prop:function(g,b,w){var S,L,N=g.nodeType;if(!(N===3||N===8||N===2))return(N!==1||!v.isXMLDoc(g))&&(b=v.propFix[b]||b,L=v.propHooks[b]),w!==void 0?L&&"set"in L&&(S=L.set(g,w,b))!==void 0?S:g[b]=w:L&&"get"in L&&(S=L.get(g,b))!==null?S:g[b]},propHooks:{tabIndex:{get:function(g){var b=v.find.attr(g,"tabindex");return b?parseInt(b,10):My.test(g.nodeName)||ky.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(v.propHooks.selected={get:function(g){var b=g.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(g){var b=g.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function fa(g){var b=g.match(Pt)||[];return b.join(" ")}function us(g){return g.getAttribute&&g.getAttribute("class")||""}function V(g){return Array.isArray(g)?g:typeof g=="string"?g.match(Pt)||[]:[]}v.fn.extend({addClass:function(g){var b,w,S,L,N,D;return m(g)?this.each(function(U){v(this).addClass(g.call(this,U,us(this)))}):(b=V(g),b.length?this.each(function(){if(S=us(this),w=this.nodeType===1&&" "+fa(S)+" ",w){for(N=0;N<b.length;N++)L=b[N],w.indexOf(" "+L+" ")<0&&(w+=L+" ");D=fa(w),S!==D&&this.setAttribute("class",D)}}):this)},removeClass:function(g){var b,w,S,L,N,D;return m(g)?this.each(function(U){v(this).removeClass(g.call(this,U,us(this)))}):arguments.length?(b=V(g),b.length?this.each(function(){if(S=us(this),w=this.nodeType===1&&" "+fa(S)+" ",w){for(N=0;N<b.length;N++)for(L=b[N];w.indexOf(" "+L+" ")>-1;)w=w.replace(" "+L+" "," ");D=fa(w),S!==D&&this.setAttribute("class",D)}}):this):this.attr("class","")},toggleClass:function(g,b){var w,S,L,N,D=typeof g,U=D==="string"||Array.isArray(g);return m(g)?this.each(function(q){v(this).toggleClass(g.call(this,q,us(this),b),b)}):typeof b=="boolean"&&U?b?this.addClass(g):this.removeClass(g):(w=V(g),this.each(function(){if(U)for(N=v(this),L=0;L<w.length;L++)S=w[L],N.hasClass(S)?N.removeClass(S):N.addClass(S);else(g===void 0||D==="boolean")&&(S=us(this),S&&Pe.set(this,"__className__",S),this.setAttribute&&this.setAttribute("class",S||g===!1?"":Pe.get(this,"__className__")||""))}))},hasClass:function(g){var b,w,S=0;for(b=" "+g+" ";w=this[S++];)if(w.nodeType===1&&(" "+fa(us(w))+" ").indexOf(b)>-1)return!0;return!1}});var ie=/\r/g;v.fn.extend({val:function(g){var b,w,S,L=this[0];return arguments.length?(S=m(g),this.each(function(N){var D;this.nodeType===1&&(S?D=g.call(this,N,v(this).val()):D=g,D==null?D="":typeof D=="number"?D+="":Array.isArray(D)&&(D=v.map(D,function(U){return U==null?"":U+""})),b=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,D,"value")===void 0)&&(this.value=D))})):L?(b=v.valHooks[L.type]||v.valHooks[L.nodeName.toLowerCase()],b&&"get"in b&&(w=b.get(L,"value"))!==void 0?w:(w=L.value,typeof w=="string"?w.replace(ie,""):w??"")):void 0}}),v.extend({valHooks:{option:{get:function(g){var b=v.find.attr(g,"value");return b??fa(v.text(g))}},select:{get:function(g){var b,w,S,L=g.options,N=g.selectedIndex,D=g.type==="select-one",U=D?null:[],q=D?N+1:L.length;for(N<0?S=q:S=D?N:0;S<q;S++)if(w=L[S],(w.selected||S===N)&&!w.disabled&&(!w.parentNode.disabled||!E(w.parentNode,"optgroup"))){if(b=v(w).val(),D)return b;U.push(b)}return U},set:function(g,b){for(var w,S,L=g.options,N=v.makeArray(b),D=L.length;D--;)S=L[D],(S.selected=v.inArray(v.valHooks.option.get(S),N)>-1)&&(w=!0);return w||(g.selectedIndex=-1),N}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(g,b){if(Array.isArray(b))return g.checked=v.inArray(v(g).val(),b)>-1}},h.checkOn||(v.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var se=t.location,Ee={guid:Date.now()},He=/\?/;v.parseXML=function(g){var b,w;if(!g||typeof g!="string")return null;try{b=new t.DOMParser().parseFromString(g,"text/xml")}catch{}return w=b&&b.getElementsByTagName("parsererror")[0],(!b||w)&&v.error("Invalid XML: "+(w?v.map(w.childNodes,function(S){return S.textContent}).join(`
`):g)),b};var $e=/^(?:focusinfocus|focusoutblur)$/,Ke=function(g){g.stopPropagation()};v.extend(v.event,{trigger:function(g,b,w,S){var L,N,D,U,q,ee,ce,ve,oe=[w||_],Ae=u.call(g,"type")?g.type:g,ct=u.call(g,"namespace")?g.namespace.split("."):[];if(N=ve=D=w=w||_,!(w.nodeType===3||w.nodeType===8)&&!$e.test(Ae+v.event.triggered)&&(Ae.indexOf(".")>-1&&(ct=Ae.split("."),Ae=ct.shift(),ct.sort()),q=Ae.indexOf(":")<0&&"on"+Ae,g=g[v.expando]?g:new v.Event(Ae,typeof g=="object"&&g),g.isTrigger=S?2:3,g.namespace=ct.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=w),b=b==null?[g]:v.makeArray(b,[g]),ce=v.event.special[Ae]||{},!(!S&&ce.trigger&&ce.trigger.apply(w,b)===!1))){if(!S&&!ce.noBubble&&!p(w)){for(U=ce.delegateType||Ae,$e.test(U+Ae)||(N=N.parentNode);N;N=N.parentNode)oe.push(N),D=N;D===(w.ownerDocument||_)&&oe.push(D.defaultView||D.parentWindow||t)}for(L=0;(N=oe[L++])&&!g.isPropagationStopped();)ve=N,g.type=L>1?U:ce.bindType||Ae,ee=(Pe.get(N,"events")||Object.create(null))[g.type]&&Pe.get(N,"handle"),ee&&ee.apply(N,b),ee=q&&N[q],ee&&ee.apply&&ni(N)&&(g.result=ee.apply(N,b),g.result===!1&&g.preventDefault());return g.type=Ae,!S&&!g.isDefaultPrevented()&&(!ce._default||ce._default.apply(oe.pop(),b)===!1)&&ni(w)&&q&&m(w[Ae])&&!p(w)&&(D=w[q],D&&(w[q]=null),v.event.triggered=Ae,g.isPropagationStopped()&&ve.addEventListener(Ae,Ke),w[Ae](),g.isPropagationStopped()&&ve.removeEventListener(Ae,Ke),v.event.triggered=void 0,D&&(w[q]=D)),g.result}},simulate:function(g,b,w){var S=v.extend(new v.Event,w,{type:g,isSimulated:!0});v.event.trigger(S,null,b)}}),v.fn.extend({trigger:function(g,b){return this.each(function(){v.event.trigger(g,b,this)})},triggerHandler:function(g,b){var w=this[0];if(w)return v.event.trigger(g,b,w,!0)}});var tt=/\[\]$/,Ut=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Ci(g,b,w,S){var L;if(Array.isArray(b))v.each(b,function(N,D){w||tt.test(g)?S(g,D):Ci(g+"["+(typeof D=="object"&&D!=null?N:"")+"]",D,w,S)});else if(!w&&C(b)==="object")for(L in b)Ci(g+"["+L+"]",b[L],w,S);else S(g,b)}v.param=function(g,b){var w,S=[],L=function(N,D){var U=m(D)?D():D;S[S.length]=encodeURIComponent(N)+"="+encodeURIComponent(U??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!v.isPlainObject(g))v.each(g,function(){L(this.name,this.value)});else for(w in g)Ci(w,g[w],b,L);return S.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=v.prop(this,"elements");return g?v.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!v(this).is(":disabled")&&Lt.test(this.nodeName)&&!jt.test(g)&&(this.checked||!da.test(g))}).map(function(g,b){var w=v(this).val();return w==null?null:Array.isArray(w)?v.map(w,function(S){return{name:b.name,value:S.replace(Ut,`\r
`)}}):{name:b.name,value:w.replace(Ut,`\r
`)}}).get()}});var Bt=/%20/g,_r=/#.*$/,vr=/([?&])_=[^&]*/,qi=/^(.*?):[ \t]*([^\r\n]*)$/mg,nr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dm=/^(?:GET|HEAD)$/,um=/^\/\//,pu={},gu={},_u="*/".concat("*"),vu=_.createElement("a");vu.href=se.href;function hm(g){return function(b,w){typeof b!="string"&&(w=b,b="*");var S,L=0,N=b.toLowerCase().match(Pt)||[];if(m(w))for(;S=N[L++];)S[0]==="+"?(S=S.slice(1)||"*",(g[S]=g[S]||[]).unshift(w)):(g[S]=g[S]||[]).push(w)}}function Pk(g,b,w,S){var L={},N=g===gu;function D(U){var q;return L[U]=!0,v.each(g[U]||[],function(ee,ce){var ve=ce(b,w,S);if(typeof ve=="string"&&!N&&!L[ve])return b.dataTypes.unshift(ve),D(ve),!1;if(N)return!(q=ve)}),q}return D(b.dataTypes[0])||!L["*"]&&D("*")}function Ty(g,b){var w,S,L=v.ajaxSettings.flatOptions||{};for(w in b)b[w]!==void 0&&((L[w]?g:S||(S={}))[w]=b[w]);return S&&v.extend(!0,g,S),g}function q5(g,b,w){for(var S,L,N,D,U=g.contents,q=g.dataTypes;q[0]==="*";)q.shift(),S===void 0&&(S=g.mimeType||b.getResponseHeader("Content-Type"));if(S){for(L in U)if(U[L]&&U[L].test(S)){q.unshift(L);break}}if(q[0]in w)N=q[0];else{for(L in w){if(!q[0]||g.converters[L+" "+q[0]]){N=L;break}D||(D=L)}N=N||D}if(N)return N!==q[0]&&q.unshift(N),w[N]}function U5(g,b,w,S){var L,N,D,U,q,ee={},ce=g.dataTypes.slice();if(ce[1])for(D in g.converters)ee[D.toLowerCase()]=g.converters[D];for(N=ce.shift();N;)if(g.responseFields[N]&&(w[g.responseFields[N]]=b),!q&&S&&g.dataFilter&&(b=g.dataFilter(b,g.dataType)),q=N,N=ce.shift(),N){if(N==="*")N=q;else if(q!=="*"&&q!==N){if(D=ee[q+" "+N]||ee["* "+N],!D){for(L in ee)if(U=L.split(" "),U[1]===N&&(D=ee[q+" "+U[0]]||ee["* "+U[0]],D)){D===!0?D=ee[L]:ee[L]!==!0&&(N=U[0],ce.unshift(U[1]));break}}if(D!==!0)if(D&&g.throws)b=D(b);else try{b=D(b)}catch(ve){return{state:"parsererror",error:D?ve:"No conversion from "+q+" to "+N}}}}return{state:"success",data:b}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:se.href,type:"GET",isLocal:nr.test(se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_u,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,b){return b?Ty(Ty(g,v.ajaxSettings),b):Ty(v.ajaxSettings,g)},ajaxPrefilter:hm(pu),ajaxTransport:hm(gu),ajax:function(g,b){typeof g=="object"&&(b=g,g=void 0),b=b||{};var w,S,L,N,D,U,q,ee,ce,ve,oe=v.ajaxSetup({},b),Ae=oe.context||oe,ct=oe.context&&(Ae.nodeType||Ae.jquery)?v(Ae):v.event,kt=v.Deferred(),bt=v.Callbacks("once memory"),Mr=oe.statusCode||{},sr={},Eo={},Io="canceled",St={readyState:0,getResponseHeader:function(At){var Si;if(q){if(!N)for(N={};Si=qi.exec(L);)N[Si[1].toLowerCase()+" "]=(N[Si[1].toLowerCase()+" "]||[]).concat(Si[2]);Si=N[At.toLowerCase()+" "]}return Si==null?null:Si.join(", ")},getAllResponseHeaders:function(){return q?L:null},setRequestHeader:function(At,Si){return q==null&&(At=Eo[At.toLowerCase()]=Eo[At.toLowerCase()]||At,sr[At]=Si),this},overrideMimeType:function(At){return q==null&&(oe.mimeType=At),this},statusCode:function(At){var Si;if(At)if(q)St.always(At[St.status]);else for(Si in At)Mr[Si]=[Mr[Si],At[Si]];return this},abort:function(At){var Si=At||Io;return w&&w.abort(Si),Nc(0,Si),this}};if(kt.promise(St),oe.url=((g||oe.url||se.href)+"").replace(um,se.protocol+"//"),oe.type=b.method||b.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Pt)||[""],oe.crossDomain==null){U=_.createElement("a");try{U.href=oe.url,U.href=U.href,oe.crossDomain=vu.protocol+"//"+vu.host!=U.protocol+"//"+U.host}catch{oe.crossDomain=!0}}if(oe.data&&oe.processData&&typeof oe.data!="string"&&(oe.data=v.param(oe.data,oe.traditional)),Pk(pu,oe,b,St),q)return St;ee=v.event&&oe.global,ee&&v.active++===0&&v.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!dm.test(oe.type),S=oe.url.replace(_r,""),oe.hasContent?oe.data&&oe.processData&&(oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(oe.data=oe.data.replace(Bt,"+")):(ve=oe.url.slice(S.length),oe.data&&(oe.processData||typeof oe.data=="string")&&(S+=(He.test(S)?"&":"?")+oe.data,delete oe.data),oe.cache===!1&&(S=S.replace(vr,"$1"),ve=(He.test(S)?"&":"?")+"_="+Ee.guid+++ve),oe.url=S+ve),oe.ifModified&&(v.lastModified[S]&&St.setRequestHeader("If-Modified-Since",v.lastModified[S]),v.etag[S]&&St.setRequestHeader("If-None-Match",v.etag[S])),(oe.data&&oe.hasContent&&oe.contentType!==!1||b.contentType)&&St.setRequestHeader("Content-Type",oe.contentType),St.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+(oe.dataTypes[0]!=="*"?", "+_u+"; q=0.01":""):oe.accepts["*"]);for(ce in oe.headers)St.setRequestHeader(ce,oe.headers[ce]);if(oe.beforeSend&&(oe.beforeSend.call(Ae,St,oe)===!1||q))return St.abort();if(Io="abort",bt.add(oe.complete),St.done(oe.success),St.fail(oe.error),w=Pk(gu,oe,b,St),!w)Nc(-1,"No Transport");else{if(St.readyState=1,ee&&ct.trigger("ajaxSend",[St,oe]),q)return St;oe.async&&oe.timeout>0&&(D=t.setTimeout(function(){St.abort("timeout")},oe.timeout));try{q=!1,w.send(sr,Nc)}catch(At){if(q)throw At;Nc(-1,At)}}function Nc(At,Si,mm,Ry){var Mo,pm,ko,Cl,Sl,hs=Si;q||(q=!0,D&&t.clearTimeout(D),w=void 0,L=Ry||"",St.readyState=At>0?4:0,Mo=At>=200&&At<300||At===304,mm&&(Cl=q5(oe,St,mm)),!Mo&&v.inArray("script",oe.dataTypes)>-1&&v.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),Cl=U5(oe,Cl,St,Mo),Mo?(oe.ifModified&&(Sl=St.getResponseHeader("Last-Modified"),Sl&&(v.lastModified[S]=Sl),Sl=St.getResponseHeader("etag"),Sl&&(v.etag[S]=Sl)),At===204||oe.type==="HEAD"?hs="nocontent":At===304?hs="notmodified":(hs=Cl.state,pm=Cl.data,ko=Cl.error,Mo=!ko)):(ko=hs,(At||!hs)&&(hs="error",At<0&&(At=0))),St.status=At,St.statusText=(Si||hs)+"",Mo?kt.resolveWith(Ae,[pm,hs,St]):kt.rejectWith(Ae,[St,hs,ko]),St.statusCode(Mr),Mr=void 0,ee&&ct.trigger(Mo?"ajaxSuccess":"ajaxError",[St,oe,Mo?pm:ko]),bt.fireWith(Ae,[St,hs]),ee&&(ct.trigger("ajaxComplete",[St,oe]),--v.active||v.event.trigger("ajaxStop")))}return St},getJSON:function(g,b,w){return v.get(g,b,w,"json")},getScript:function(g,b){return v.get(g,void 0,b,"script")}}),v.each(["get","post"],function(g,b){v[b]=function(w,S,L,N){return m(S)&&(N=N||L,L=S,S=void 0),v.ajax(v.extend({url:w,type:b,dataType:N,data:S,success:L},v.isPlainObject(w)&&w))}}),v.ajaxPrefilter(function(g){var b;for(b in g.headers)b.toLowerCase()==="content-type"&&(g.contentType=g.headers[b]||"")}),v._evalUrl=function(g,b,w){return v.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(S){v.globalEval(S,b,w)}})},v.fn.extend({wrapAll:function(g){var b;return this[0]&&(m(g)&&(g=g.call(this[0])),b=v(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var w=this;w.firstElementChild;)w=w.firstElementChild;return w}).append(this)),this},wrapInner:function(g){return m(g)?this.each(function(b){v(this).wrapInner(g.call(this,b))}):this.each(function(){var b=v(this),w=b.contents();w.length?w.wrapAll(g):b.append(g)})},wrap:function(g){var b=m(g);return this.each(function(w){v(this).wrapAll(b?g.call(this,w):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(g){return!v.expr.pseudos.visible(g)},v.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var V5={0:200,1223:204},fm=v.ajaxSettings.xhr();h.cors=!!fm&&"withCredentials"in fm,h.ajax=fm=!!fm,v.ajaxTransport(function(g){var b,w;if(h.cors||fm&&!g.crossDomain)return{send:function(S,L){var N,D=g.xhr();if(D.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(N in g.xhrFields)D[N]=g.xhrFields[N];g.mimeType&&D.overrideMimeType&&D.overrideMimeType(g.mimeType),!g.crossDomain&&!S["X-Requested-With"]&&(S["X-Requested-With"]="XMLHttpRequest");for(N in S)D.setRequestHeader(N,S[N]);b=function(U){return function(){b&&(b=w=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,U==="abort"?D.abort():U==="error"?typeof D.status!="number"?L(0,"error"):L(D.status,D.statusText):L(V5[D.status]||D.status,D.statusText,(D.responseType||"text")!=="text"||typeof D.responseText!="string"?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=b(),w=D.onerror=D.ontimeout=b("error"),D.onabort!==void 0?D.onabort=w:D.onreadystatechange=function(){D.readyState===4&&t.setTimeout(function(){b&&w()})},b=b("abort");try{D.send(g.hasContent&&g.data||null)}catch(U){if(b)throw U}},abort:function(){b&&b()}}}),v.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return v.globalEval(g),g}}}),v.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),v.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var b,w;return{send:function(S,L){b=v("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",w=function(N){b.remove(),w=null,N&&L(N.type==="error"?404:200,N.type)}),_.head.appendChild(b[0])},abort:function(){w&&w()}}}});var Bk=[],Ay=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Bk.pop()||v.expando+"_"+Ee.guid++;return this[g]=!0,g}}),v.ajaxPrefilter("json jsonp",function(g,b,w){var S,L,N,D=g.jsonp!==!1&&(Ay.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ay.test(g.data)&&"data");if(D||g.dataTypes[0]==="jsonp")return S=g.jsonpCallback=m(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,D?g[D]=g[D].replace(Ay,"$1"+S):g.jsonp!==!1&&(g.url+=(He.test(g.url)?"&":"?")+g.jsonp+"="+S),g.converters["script json"]=function(){return N||v.error(S+" was not called"),N[0]},g.dataTypes[0]="json",L=t[S],t[S]=function(){N=arguments},w.always(function(){L===void 0?v(t).removeProp(S):t[S]=L,g[S]&&(g.jsonpCallback=b.jsonpCallback,Bk.push(S)),N&&m(L)&&L(N[0]),N=L=void 0}),"script"}),h.createHTMLDocument=function(){var g=_.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),v.parseHTML=function(g,b,w){if(typeof g!="string")return[];typeof b=="boolean"&&(w=b,b=!1);var S,L,N;return b||(h.createHTMLDocument?(b=_.implementation.createHTMLDocument(""),S=b.createElement("base"),S.href=_.location.href,b.head.appendChild(S)):b=_),L=xe.exec(g),N=!w&&[],L?[b.createElement(L[1])]:(L=Vg([g],b,N),N&&N.length&&v(N).remove(),v.merge([],L.childNodes))},v.fn.load=function(g,b,w){var S,L,N,D=this,U=g.indexOf(" ");return U>-1&&(S=fa(g.slice(U)),g=g.slice(0,U)),m(b)?(w=b,b=void 0):b&&typeof b=="object"&&(L="POST"),D.length>0&&v.ajax({url:g,type:L||"GET",dataType:"html",data:b}).done(function(q){N=arguments,D.html(S?v("<div>").append(v.parseHTML(q)).find(S):q)}).always(w&&function(q,ee){D.each(function(){w.apply(this,N||[q.responseText,ee,q])})}),this},v.expr.pseudos.animated=function(g){return v.grep(v.timers,function(b){return g===b.elem}).length},v.offset={setOffset:function(g,b,w){var S,L,N,D,U,q,ee,ce=v.css(g,"position"),ve=v(g),oe={};ce==="static"&&(g.style.position="relative"),U=ve.offset(),N=v.css(g,"top"),q=v.css(g,"left"),ee=(ce==="absolute"||ce==="fixed")&&(N+q).indexOf("auto")>-1,ee?(S=ve.position(),D=S.top,L=S.left):(D=parseFloat(N)||0,L=parseFloat(q)||0),m(b)&&(b=b.call(g,w,v.extend({},U))),b.top!=null&&(oe.top=b.top-U.top+D),b.left!=null&&(oe.left=b.left-U.left+L),"using"in b?b.using.call(g,oe):ve.css(oe)}},v.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(L){v.offset.setOffset(this,g,L)});var b,w,S=this[0];if(S)return S.getClientRects().length?(b=S.getBoundingClientRect(),w=S.ownerDocument.defaultView,{top:b.top+w.pageYOffset,left:b.left+w.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,b,w,S=this[0],L={top:0,left:0};if(v.css(S,"position")==="fixed")b=S.getBoundingClientRect();else{for(b=this.offset(),w=S.ownerDocument,g=S.offsetParent||w.documentElement;g&&(g===w.body||g===w.documentElement)&&v.css(g,"position")==="static";)g=g.parentNode;g&&g!==S&&g.nodeType===1&&(L=v(g).offset(),L.top+=v.css(g,"borderTopWidth",!0),L.left+=v.css(g,"borderLeftWidth",!0))}return{top:b.top-L.top-v.css(S,"marginTop",!0),left:b.left-L.left-v.css(S,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&v.css(g,"position")==="static";)g=g.offsetParent;return g||lt})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,b){var w=b==="pageYOffset";v.fn[g]=function(S){return le(this,function(L,N,D){var U;if(p(L)?U=L:L.nodeType===9&&(U=L.defaultView),D===void 0)return U?U[b]:L[N];U?U.scrollTo(w?U.pageXOffset:D,w?D:U.pageYOffset):L[N]=D},g,S,arguments.length)}}),v.each(["top","left"],function(g,b){v.cssHooks[b]=Jg(h.pixelPosition,function(w,S){if(S)return S=kc(w,b),uu.test(S)?v(w).position()[b]+"px":S})}),v.each({Height:"height",Width:"width"},function(g,b){v.each({padding:"inner"+g,content:b,"":"outer"+g},function(w,S){v.fn[S]=function(L,N){var D=arguments.length&&(w||typeof L!="boolean"),U=w||(L===!0||N===!0?"margin":"border");return le(this,function(q,ee,ce){var ve;return p(q)?S.indexOf("outer")===0?q["inner"+g]:q.document.documentElement["client"+g]:q.nodeType===9?(ve=q.documentElement,Math.max(q.body["scroll"+g],ve["scroll"+g],q.body["offset"+g],ve["offset"+g],ve["client"+g])):ce===void 0?v.css(q,ee,U):v.style(q,ee,ce,U)},b,D?L:void 0,D)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,b){v.fn[b]=function(w){return this.on(b,w)}}),v.fn.extend({bind:function(g,b,w){return this.on(g,null,b,w)},unbind:function(g,b){return this.off(g,null,b)},delegate:function(g,b,w,S){return this.on(b,g,w,S)},undelegate:function(g,b,w){return arguments.length===1?this.off(g,"**"):this.off(b,g||"**",w)},hover:function(g,b){return this.on("mouseenter",g).on("mouseleave",b||g)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,b){v.fn[b]=function(w,S){return arguments.length>0?this.on(b,null,w,S):this.trigger(b)}});var G5=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;v.proxy=function(g,b){var w,S,L;if(typeof b=="string"&&(w=g[b],b=g,g=w),!!m(g))return S=n.call(arguments,2),L=function(){return g.apply(b||this,S.concat(n.call(arguments)))},L.guid=g.guid=g.guid||v.guid++,L},v.holdReady=function(g){g?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=E,v.isFunction=m,v.isWindow=p,v.camelCase=ft,v.type=C,v.now=Date.now,v.isNumeric=function(g){var b=v.type(g);return(b==="number"||b==="string")&&!isNaN(g-parseFloat(g))},v.trim=function(g){return g==null?"":(g+"").replace(G5,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return v});var Y5=t.jQuery,X5=t.$;return v.noConflict=function(g){return t.$===v&&(t.$=X5),g&&t.jQuery===v&&(t.jQuery=Y5),v},typeof e>"u"&&(t.jQuery=t.$=v),v})});var wE=qe(yE=>{(function(t){var e=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis;if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(n,s,o){e.Backbone=t(e,o,n,s)});else if(typeof yE<"u"){var i=(cB(),ga(lB)),r;try{r=Pd()}catch{}t(e,yE,i,r)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)})(function(t,e,i,r){var n=t.Backbone,s=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=e.Events={},a=/\s+/,l,c=function(A,z,W,J,le){var he=0,Fe;if(W&&typeof W=="object")for(J!==void 0&&("context"in le)&&le.context===void 0&&(le.context=J),Fe=i.keys(W);he<Fe.length;he++)z=c(A,z,Fe[he],W[Fe[he]],le);else if(W&&a.test(W))for(Fe=W.split(a);he<Fe.length;he++)z=A(z,Fe[he],J,le);else z=A(z,W,J,le);return z};o.on=function(A,z,W){if(this._events=c(u,this._events||{},A,z,{context:W,ctx:this,listening:l}),l){var J=this._listeners||(this._listeners={});J[l.id]=l,l.interop=!1}return this},o.listenTo=function(A,z,W){if(!A)return this;var J=A._listenId||(A._listenId=i.uniqueId("l")),le=this._listeningTo||(this._listeningTo={}),he=l=le[J];he||(this._listenId||(this._listenId=i.uniqueId("l")),he=l=le[J]=new _(this,A));var Fe=d(A,z,W,this);if(l=void 0,Fe)throw Fe;return he.interop&&he.on(z,W),this};var u=function(A,z,W,J){if(W){var le=A[z]||(A[z]=[]),he=J.context,Fe=J.ctx,et=J.listening;et&&et.count++,le.push({callback:W,context:he,ctx:he||Fe,listening:et})}return A},d=function(A,z,W,J){try{A.on(z,W,J)}catch(le){return le}};o.off=function(A,z,W){return this._events?(this._events=c(f,this._events,A,z,{context:W,listeners:this._listeners}),this):this},o.stopListening=function(A,z,W){var J=this._listeningTo;if(!J)return this;for(var le=A?[A._listenId]:i.keys(J),he=0;he<le.length;he++){var Fe=J[le[he]];if(!Fe)break;Fe.obj.off(z,W,this),Fe.interop&&Fe.off(z,W)}return i.isEmpty(J)&&(this._listeningTo=void 0),this};var f=function(A,z,W,J){if(A){var le=J.context,he=J.listeners,Fe=0,et;if(!z&&!le&&!W){for(et=i.keys(he);Fe<et.length;Fe++)he[et[Fe]].cleanup();return}for(et=z?[z]:i.keys(A);Fe<et.length;Fe++){z=et[Fe];var ft=A[z];if(!ft)break;for(var ni=[],Jt=0;Jt<ft.length;Jt++){var Pe=ft[Jt];if(W&&W!==Pe.callback&&W!==Pe.callback._callback||le&&le!==Pe.context)ni.push(Pe);else{var $=Pe.listening;$&&$.off(z,W)}}ni.length?A[z]=ni:delete A[z]}return A}};o.once=function(A,z,W){var J=c(h,{},A,z,this.off.bind(this));return typeof A=="string"&&W==null&&(z=void 0),this.on(J,z,W)},o.listenToOnce=function(A,z,W){var J=c(h,{},z,W,this.stopListening.bind(this,A));return this.listenTo(A,J)};var h=function(A,z,W,J){if(W){var le=A[z]=i.once(function(){J(z,le),W.apply(this,arguments)});le._callback=W}return A};o.trigger=function(A){if(!this._events)return this;for(var z=Math.max(0,arguments.length-1),W=Array(z),J=0;J<z;J++)W[J]=arguments[J+1];return c(m,this._events,A,void 0,W),this};var m=function(A,z,W,J){if(A){var le=A[z],he=A.all;le&&he&&(he=he.slice()),le&&p(le,J),he&&p(he,[z].concat(J))}return A},p=function(A,z){var W,J=-1,le=A.length,he=z[0],Fe=z[1],et=z[2];switch(z.length){case 0:for(;++J<le;)(W=A[J]).callback.call(W.ctx);return;case 1:for(;++J<le;)(W=A[J]).callback.call(W.ctx,he);return;case 2:for(;++J<le;)(W=A[J]).callback.call(W.ctx,he,Fe);return;case 3:for(;++J<le;)(W=A[J]).callback.call(W.ctx,he,Fe,et);return;default:for(;++J<le;)(W=A[J]).callback.apply(W.ctx,z);return}},_=function(A,z){this.id=A._listenId,this.listener=A,this.obj=z,this.interop=!0,this.count=0,this._events=void 0};_.prototype.on=o.on,_.prototype.off=function(A,z){var W;this.interop?(this._events=c(f,this._events,A,z,{context:void 0,listeners:void 0}),W=!this._events):(this.count--,W=this.count===0),W&&this.cleanup()},_.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},o.bind=o.on,o.unbind=o.off,i.extend(e,o);var x=e.Model=function(A,z){var W=A||{};z||(z={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},z.collection&&(this.collection=z.collection),z.parse&&(W=this.parse(W,z)||{});var J=i.result(this,"defaults");W=i.defaults(i.extend({},J,W),J),this.set(W,z),this.changed={},this.initialize.apply(this,arguments)};i.extend(x.prototype,o,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return i.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!i.iteratee(A,this)(this.attributes)},set:function(A,z,W){if(A==null)return this;var J;if(typeof A=="object"?(J=A,W=z):(J={})[A]=z,W||(W={}),!this._validate(J,W))return!1;var le=W.unset,he=W.silent,Fe=[],et=this._changing;this._changing=!0,et||(this._previousAttributes=i.clone(this.attributes),this.changed={});var ft=this.attributes,ni=this.changed,Jt=this._previousAttributes;for(var Pe in J)z=J[Pe],i.isEqual(ft[Pe],z)||Fe.push(Pe),i.isEqual(Jt[Pe],z)?delete ni[Pe]:ni[Pe]=z,le?delete ft[Pe]:ft[Pe]=z;if(this.idAttribute in J&&(this.id=this.get(this.idAttribute)),!he){Fe.length&&(this._pending=W);for(var $=0;$<Fe.length;$++)this.trigger("change:"+Fe[$],this,ft[Fe[$]],W)}if(et)return this;if(!he)for(;this._pending;)W=this._pending,this._pending=!1,this.trigger("change",this,W);return this._pending=!1,this._changing=!1,this},unset:function(A,z){return this.set(A,void 0,i.extend({},z,{unset:!0}))},clear:function(A){var z={};for(var W in this.attributes)z[W]=void 0;return this.set(z,i.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!i.isEmpty(this.changed):i.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?i.clone(this.changed):!1;var z=this._changing?this._previousAttributes:this.attributes,W={},J;for(var le in A){var he=A[le];i.isEqual(z[le],he)||(W[le]=he,J=!0)}return J?W:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(A){A=i.extend({parse:!0},A);var z=this,W=A.success;return A.success=function(J){var le=A.parse?z.parse(J,A):J;if(!z.set(le,A))return!1;W&&W.call(A.context,z,J,A),z.trigger("sync",z,J,A)},ir(this,A),this.sync("read",this,A)},save:function(A,z,W){var J;A==null||typeof A=="object"?(J=A,W=z):(J={})[A]=z,W=i.extend({validate:!0,parse:!0},W);var le=W.wait;if(J&&!le){if(!this.set(J,W))return!1}else if(!this._validate(J,W))return!1;var he=this,Fe=W.success,et=this.attributes;W.success=function(Jt){he.attributes=et;var Pe=W.parse?he.parse(Jt,W):Jt;if(le&&(Pe=i.extend({},J,Pe)),Pe&&!he.set(Pe,W))return!1;Fe&&Fe.call(W.context,he,Jt,W),he.trigger("sync",he,Jt,W)},ir(this,W),J&&le&&(this.attributes=i.extend({},et,J));var ft=this.isNew()?"create":W.patch?"patch":"update";ft==="patch"&&!W.attrs&&(W.attrs=J);var ni=this.sync(ft,this,W);return this.attributes=et,ni},destroy:function(A){A=A?i.clone(A):{};var z=this,W=A.success,J=A.wait,le=function(){z.stopListening(),z.trigger("destroy",z,z.collection,A)};A.success=function(Fe){J&&le(),W&&W.call(A.context,z,Fe,A),z.isNew()||z.trigger("sync",z,Fe,A)};var he=!1;return this.isNew()?i.defer(A.success):(ir(this,A),he=this.sync("delete",this,A)),J||le(),he},url:function(){var A=i.result(this,"urlRoot")||i.result(this.collection,"url")||yi();if(this.isNew())return A;var z=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(z)},parse:function(A,z){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},i.extend({},A,{validate:!0}))},_validate:function(A,z){if(!z.validate||!this.validate)return!0;A=i.extend({},this.attributes,A);var W=this.validationError=this.validate(A,z)||null;return W?(this.trigger("invalid",this,W,i.extend(z,{validationError:W})),!1):!0}});var y=e.Collection=function(A,z){z||(z={}),this.preinitialize.apply(this,arguments),z.model&&(this.model=z.model),z.comparator!==void 0&&(this.comparator=z.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,i.extend({silent:!0},z))},C={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},M=function(A,z,W){W=Math.min(Math.max(W,0),A.length);var J=Array(A.length-W),le=z.length,he;for(he=0;he<J.length;he++)J[he]=A[he+W];for(he=0;he<le;he++)A[he+W]=z[he];for(he=0;he<J.length;he++)A[he+le+W]=J[he]};i.extend(y.prototype,o,{model:x,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(z){return z.toJSON(A)})},sync:function(){return e.sync.apply(this,arguments)},add:function(A,z){return this.set(A,i.extend({merge:!1},z,k))},remove:function(A,z){z=i.extend({},z);var W=!i.isArray(A);A=W?[A]:A.slice();var J=this._removeModels(A,z);return!z.silent&&J.length&&(z.changes={added:[],merged:[],removed:J},this.trigger("update",this,z)),W?J[0]:J},set:function(A,z){if(A!=null){z=i.extend({},C,z),z.parse&&!this._isModel(A)&&(A=this.parse(A,z)||[]);var W=!i.isArray(A);A=W?[A]:A.slice();var J=z.at;J!=null&&(J=+J),J>this.length&&(J=this.length),J<0&&(J+=this.length+1);var le=[],he=[],Fe=[],et=[],ft={},ni=z.add,Jt=z.merge,Pe=z.remove,$=!1,O=this.comparator&&J==null&&z.sort!==!1,Me=i.isString(this.comparator)?this.comparator:null,Ne,Le;for(Le=0;Le<A.length;Le++){Ne=A[Le];var nt=this.get(Ne);if(nt){if(Jt&&Ne!==nt){var ot=this._isModel(Ne)?Ne.attributes:Ne;z.parse&&(ot=nt.parse(ot,z)),nt.set(ot,z),Fe.push(nt),O&&!$&&($=nt.hasChanged(Me))}ft[nt.cid]||(ft[nt.cid]=!0,le.push(nt)),A[Le]=nt}else ni&&(Ne=A[Le]=this._prepareModel(Ne,z),Ne&&(he.push(Ne),this._addReference(Ne,z),ft[Ne.cid]=!0,le.push(Ne)))}if(Pe){for(Le=0;Le<this.length;Le++)Ne=this.models[Le],ft[Ne.cid]||et.push(Ne);et.length&&this._removeModels(et,z)}var Ct=!1,lt=!O&&ni&&Pe;if(le.length&&lt?(Ct=this.length!==le.length||i.some(this.models,function(wi,rn){return wi!==le[rn]}),this.models.length=0,M(this.models,le,0),this.length=this.models.length):he.length&&(O&&($=!0),M(this.models,he,J??this.length),this.length=this.models.length),$&&this.sort({silent:!0}),!z.silent){for(Le=0;Le<he.length;Le++)J!=null&&(z.index=J+Le),Ne=he[Le],Ne.trigger("add",Ne,this,z);($||Ct)&&this.trigger("sort",this,z),(he.length||et.length||Fe.length)&&(z.changes={added:he,removed:et,merged:Fe},this.trigger("update",this,z))}return W?A[0]:A}},reset:function(A,z){z=z?i.clone(z):{};for(var W=0;W<this.models.length;W++)this._removeReference(this.models[W],z);return z.previousModels=this.models,this._reset(),A=this.add(A,i.extend({silent:!0},z)),z.silent||this.trigger("reset",this,z),A},push:function(A,z){return this.add(A,i.extend({at:this.length},z))},pop:function(A){var z=this.at(this.length-1);return this.remove(z,A)},unshift:function(A,z){return this.add(A,i.extend({at:0},z))},shift:function(A){var z=this.at(0);return this.remove(z,A)},slice:function(){return s.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,z){return this[z?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var z=this.comparator;if(!z)throw new Error("Cannot sort a set without a comparator");A||(A={});var W=z.length;return i.isFunction(z)&&(z=z.bind(this)),W===1||i.isString(z)?this.models=this.sortBy(z):this.models.sort(z),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=i.extend({parse:!0},A);var z=A.success,W=this;return A.success=function(J){var le=A.reset?"reset":"set";W[le](J,A),z&&z.call(A.context,W,J,A),W.trigger("sync",W,J,A)},ir(this,A),this.sync("read",this,A)},create:function(A,z){z=z?i.clone(z):{};var W=z.wait;if(A=this._prepareModel(A,z),!A)return!1;W||this.add(A,z);var J=this,le=z.success;return z.success=function(he,Fe,et){W&&J.add(he,et),le&&le.call(et.context,he,Fe,et)},A.save(null,z),A},parse:function(A,z){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A){return A[this.model.prototype.idAttribute||"id"]},values:function(){return new I(this,E)},keys:function(){return new I(this,T)},entries:function(){return new I(this,R)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,z){if(this._isModel(A))return A.collection||(A.collection=this),A;z=z?i.clone(z):{},z.collection=this;var W=new this.model(A,z);return W.validationError?(this.trigger("invalid",this,W.validationError,z),!1):W},_removeModels:function(A,z){for(var W=[],J=0;J<A.length;J++){var le=this.get(A[J]);if(le){var he=this.indexOf(le);this.models.splice(he,1),this.length--,delete this._byId[le.cid];var Fe=this.modelId(le.attributes);Fe!=null&&delete this._byId[Fe],z.silent||(z.index=he,le.trigger("remove",le,this,z)),W.push(le),this._removeReference(le,z)}}return W},_isModel:function(A){return A instanceof x},_addReference:function(A,z){this._byId[A.cid]=A;var W=this.modelId(A.attributes);W!=null&&(this._byId[W]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,z){delete this._byId[A.cid];var W=this.modelId(A.attributes);W!=null&&delete this._byId[W],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,z,W,J){if(z){if((A==="add"||A==="remove")&&W!==this)return;if(A==="destroy"&&this.remove(z,J),A==="change"){var le=this.modelId(z.previousAttributes()),he=this.modelId(z.attributes);le!==he&&(le!=null&&delete this._byId[le],he!=null&&(this._byId[he]=z))}}this.trigger.apply(this,arguments)}});var v=typeof Symbol=="function"&&Symbol.iterator;v&&(y.prototype[v]=y.prototype.values);var I=function(A,z){this._collection=A,this._kind=z,this._index=0},E=1,T=2,R=3;v&&(I.prototype[v]=function(){return this}),I.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var z;if(this._kind===E)z=A;else{var W=this._collection.modelId(A.attributes);this._kind===T?z=W:z=[W,A]}return{value:z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var P=e.View=function(A){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(A,re)),this._ensureElement(),this.initialize.apply(this,arguments)},Y=/^(\S+)\s*(.*)$/,re=["model","collection","el","id","attributes","className","tagName","events"];i.extend(P.prototype,o,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof e.$?A:e.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=i.result(this,"events")),!A)return this;this.undelegateEvents();for(var z in A){var W=A[z];if(i.isFunction(W)||(W=this[W]),!!W){var J=z.match(Y);this.delegate(J[1],J[2],W.bind(this))}}return this},delegate:function(A,z,W){return this.$el.on(A+".delegateEvents"+this.cid,z,W),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,z,W){return this.$el.off(A+".delegateEvents"+this.cid,z,W),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var A=i.extend({},i.result(this,"attributes"));this.id&&(A.id=i.result(this,"id")),this.className&&(A.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var de=function(A,z,W,J){switch(z){case 1:return function(){return A[W](this[J])};case 2:return function(le){return A[W](this[J],le)};case 3:return function(le,he){return A[W](this[J],G(le,this),he)};case 4:return function(le,he,Fe){return A[W](this[J],G(le,this),he,Fe)};default:return function(){var le=s.call(arguments);return le.unshift(this[J]),A[W].apply(A,le)}}},te=function(A,z,W,J){i.each(W,function(le,he){z[he]&&(A.prototype[he]=de(z,le,he,J))})},G=function(A,z){return i.isFunction(A)?A:i.isObject(A)&&!z._isModel(A)?X(A):i.isString(A)?function(W){return W.get(A)}:A},X=function(A){var z=i.matches(A);return function(W){return z(W.attributes)}},Z={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ye={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[y,Z,"models"],[x,ye,"attributes"]],function(A){var z=A[0],W=A[1],J=A[2];z.mixin=function(le){var he=i.reduce(i.functions(le),function(Fe,et){return Fe[et]=0,Fe},{});te(z,le,he,J)},te(z,i,W,J)}),e.sync=function(A,z,W){var J=ue[A];i.defaults(W||(W={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var le={type:J,dataType:"json"};if(W.url||(le.url=i.result(z,"url")||yi()),W.data==null&&z&&(A==="create"||A==="update"||A==="patch")&&(le.contentType="application/json",le.data=JSON.stringify(W.attrs||z.toJSON(W))),W.emulateJSON&&(le.contentType="application/x-www-form-urlencoded",le.data=le.data?{model:le.data}:{}),W.emulateHTTP&&(J==="PUT"||J==="DELETE"||J==="PATCH")){le.type="POST",W.emulateJSON&&(le.data._method=J);var he=W.beforeSend;W.beforeSend=function(ft){if(ft.setRequestHeader("X-HTTP-Method-Override",J),he)return he.apply(this,arguments)}}le.type!=="GET"&&!W.emulateJSON&&(le.processData=!1);var Fe=W.error;W.error=function(ft,ni,Jt){W.textStatus=ni,W.errorThrown=Jt,Fe&&Fe.call(W.context,ft,ni,Jt)};var et=W.xhr=e.ajax(i.extend(le,W));return z.trigger("request",z,et,W),et};var ue={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var xe=e.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ke=/\((.*?)\)/g,We=/(\(\?)?:\w+/g,Xe=/\*\w+/g,Ze=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(xe.prototype,o,{preinitialize:function(){},initialize:function(){},route:function(A,z,W){i.isRegExp(A)||(A=this._routeToRegExp(A)),i.isFunction(z)&&(W=z,z=""),W||(W=this[z]);var J=this;return e.history.route(A,function(le){var he=J._extractParameters(A,le);J.execute(W,he,z)!==!1&&(J.trigger.apply(J,["route:"+z].concat(he)),J.trigger("route",z,he),e.history.trigger("route",J,z,he))}),this},execute:function(A,z,W){A&&A.apply(this,z)},navigate:function(A,z){return e.history.navigate(A,z),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var A,z=i.keys(this.routes);(A=z.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(Ze,"\\$&").replace(ke,"(?:$1)?").replace(We,function(z,W){return W?z:"([^/?]+)"}).replace(Xe,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,z){var W=A.exec(z).slice(1);return i.map(W,function(J,le){return le===W.length-1?J||null:J?decodeURIComponent(J):null})}});var st=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},vt=/^[#\/]|\s+$/g,Dt=/^\/+|\/+$/g,Pt=/#.*$/;st.started=!1,i.extend(st.prototype,o,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),z=A.slice(0,this.root.length-1)+"/";return z===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var z=(A||this).location.href.match(/#(.*)$/);return z?z[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(vt,"")},start:function(A){if(st.started)throw new Error("Backbone.history has already been started");if(st.started=!0,this.options=i.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Dt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var z=this.root.slice(0,-1)||"/";return this.location.replace(z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var W=document.body,J=W.insertBefore(this.iframe,W.firstChild).contentWindow;J.document.open(),J.document.close(),J.location.hash="#"+this.fragment}var le=window.addEventListener||function(he,Fe){return attachEvent("on"+he,Fe)};if(this._usePushState?le("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?le("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(z,W){return detachEvent("on"+z,W)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),st.started=!1},route:function(A,z){this.handlers.unshift({route:A,callback:z})},checkUrl:function(A){var z=this.getFragment();if(z===this.fragment&&this.iframe&&(z=this.getHash(this.iframe.contentWindow)),z===this.fragment)return!1;this.iframe&&this.navigate(z),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),i.some(this.handlers,function(z){if(z.route.test(A))return z.callback(A),!0})):!1},navigate:function(A,z){if(!st.started)return!1;(!z||z===!0)&&(z={trigger:!!z}),A=this.getFragment(A||"");var W=this.root;(A===""||A.charAt(0)==="?")&&(W=W.slice(0,-1)||"/");var J=W+A;A=A.replace(Pt,"");var le=this.decodeFragment(A);if(this.fragment!==le){if(this.fragment=le,this._usePushState)this.history[z.replace?"replaceState":"pushState"]({},document.title,J);else if(this._wantsHashChange){if(this._updateHash(this.location,A,z.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var he=this.iframe.contentWindow;z.replace||(he.document.open(),he.document.close()),this._updateHash(he.location,A,z.replace)}}else return this.location.assign(J);if(z.trigger)return this.loadUrl(A)}},_updateHash:function(A,z,W){if(W){var J=A.href.replace(/(javascript:|#).*$/,"");A.replace(J+"#"+z)}else A.hash="#"+z}}),e.history=new st;var Wi=function(A,z){var W=this,J;return A&&i.has(A,"constructor")?J=A.constructor:J=function(){return W.apply(this,arguments)},i.extend(J,W,z),J.prototype=i.create(W.prototype,A),J.prototype.constructor=J,J.__super__=W.prototype,J};x.extend=y.extend=xe.extend=P.extend=st.extend=Wi;var yi=function(){throw new Error('A "url" property or function must be specified')},ir=function(A,z){var W=z.error;z.error=function(J){W&&W.call(z.context,A,J,z),A.trigger("error",A,J,z)}};return e})});function uB(t){let e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;for(;--i>=0&&e.item(i)!==this;);return i>-1}var hB,Ef,CG,N0,fB=F(()=>{hB=H(wE()),Ef=typeof Element<"u"?Element.prototype:void 0;CG=Ef&&(Ef.matches||Ef.webkitMatchesSelector||Ef.mozMatchesSelector||Ef.msMatchesSelector||Ef.oMatchesSelector)||uB,N0=class extends hB.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(let i in e)i in this.el?this.el[i]=e[i]:this.el.setAttribute(i,e[i])}delegate(e,i,r){typeof i!="string"&&(r=i,i=null),this._domEvents===void 0&&(this._domEvents=[]);let n=this.el,s=i?function(o){let a=o.target||o.srcElement;for(;a&&a!==n;a=a.parentNode)if(CG.call(a,i))return o.delegateTarget=a,r.handleEvent?r.handleEvent(o):r(o)}:r;return this.el.addEventListener(e,s,!1),this._domEvents.push({eventName:e,handler:s,listener:r,selector:i}),s}undelegate(e,i,r){if(typeof i=="function"&&(r=i,i=null),this.el&&this._domEvents){let n=this._domEvents.slice(),s=n.length;for(;s--;){let o=n[s];o.eventName===e&&(!r||o.listener===r)&&(!i||o.selector===i)&&(this.el.removeEventListener(o.eventName,o.handler,!1),this._domEvents.splice(s,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){let e=this._domEvents.length;for(let i=0;i<e;i++){let r=this._domEvents[i];this.el.removeEventListener(r.eventName,r.handler,!1)}this._domEvents.length=0}return this}}});var nl,D0,O0=F(()=>{nl="2.0.0",D0="2.1.0"});function is(t,e){if(Array.isArray(t)){let i=[];for(let r of t)i.push(is(r,e));return Promise.all(i)}else if(t instanceof Object&&typeof t!="string"){let i={};for(let[r,n]of Object.entries(t))i[r]=is(n,e);return Jo(i)}else return typeof t=="string"&&t.slice(0,10)===gB?e.get_model(t.slice(10,t.length)):Promise.resolve(t)}function SE(t,e){if(Array.isArray(t)){let i=[];for(let r of t)i.push(SE(r,e));return i}else{if(t instanceof zs)return`${gB}${t.model_id}`;if(t instanceof Object&&typeof t!="string"){let i={};for(let[r,n]of Object.entries(t))i[r]=SE(n,e);return i}else return t}}var mB,CE,pB,gB,zs,Ps,gc,qp,SG,Qo,EG,Tt,Up=F(()=>{yd();E2();mB=H(wE()),CE=H(Pd());fB();pB=H(Hr());d_();Pc();O0();gB="IPY_MODEL_";zs=class extends mB.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:nl,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:nl,_view_count:null}}isNew(){return!1}initialize(e,i){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,i),this.widget_manager=i.widget_manager,this.model_id=i.model_id;let r=i.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},r?(this.comm=r,r.on_close(this._handle_comm_closed.bind(this)),r.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,i,r){if(this.comm!==void 0){let n={method:"custom",content:e};this.comm.send(n,i,{},r)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){let i=Object.keys(this.views).map(r=>this.views[r].then(n=>n.remove()));return delete this.views,Promise.all(i).then(()=>{})}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){let i=e.content.data,r=i.method;switch(r){case"update":case"echo_update":return this.state_change=this.state_change.then(()=>{var n,s,o;let a=i.state,l=(n=i.buffer_paths)!==null&&n!==void 0?n:[],c=(o=(s=e.buffers)===null||s===void 0?void 0:s.slice(0,l.length))!==null&&o!==void 0?o:[];if(sc(a,l,c),e.parent_header&&r==="echo_update"){let u=e.parent_header.msg_id;Object.keys(a).filter(f=>this._expectedEchoMsgIds.has(f)).forEach(f=>{this._expectedEchoMsgIds.get(f)!==u?delete a[f]:(this._expectedEchoMsgIds.delete(f),this._msg_buffer!==null&&Object.prototype.hasOwnProperty.call(this._msg_buffer,f)&&delete a[f])})}return this.constructor._deserialize_state(a,this.widget_manager)}).then(n=>{this.set_state(n)}).catch(Xr(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",i.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(i){console.error(`Error setting state: ${i instanceof Error?i.message:i}`)}finally{this._state_lock=null}}get_state(e){let i=this.attributes;if(e){let r=this.defaults,n=typeof r=="function"?r.call(this):r,s={};return Object.keys(i).forEach(o=>{Jh(i[o],n[o])||(s[o]=i[o])}),s}else return Object.assign({},i)}_handle_status(e){if(this.comm!==void 0&&e.content.execution_state==="idle"&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),this._msg_buffer!==null&&this._pending_msgs<1)){let i=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(i),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,i,r){let n=S2.call(this,e,i,r);if(this._buffered_state_diff!==void 0){let s=this.changedAttributes()||{};if(this._state_lock)for(let o of Object.keys(this._state_lock))s[o]===this._state_lock[o]&&delete s[o];if(this._buffered_state_diff_synced)for(let o of Object.keys(this._buffered_state_diff_synced))s[o]===this._buffered_state_diff_synced[o]&&delete s[o];this._buffered_state_diff=Ko(this._buffered_state_diff,s)}return this._changing===!1&&(this._buffered_state_diff_synced={}),n}sync(e,i,r={}){if(this.comm===void 0)throw"Syncing error: no comm channel defined";let n=e==="patch"?r.attrs:i.get_state(r.drop_defaults);if(this._state_lock)for(let o of Object.keys(this._state_lock))n[o]===this._state_lock[o]&&delete n[o];Object.keys(n).forEach(o=>{this._attrsToUpdate.add(o)});let s=this.serialize(n);if(Object.keys(s).length>0){let o=r.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=Ko(this._msg_buffer||{},s);break;case"update":case"create":this._msg_buffer=s;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=o}else{let a=this.send_sync_message(n,o);this.rememberLastUpdateFor(a)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach(i=>{this._expectedEchoMsgIds.set(i,e)}),this._attrsToUpdate=new Set}serialize(e){let i=this.constructor.serializers||pB.JSONExt.emptyObject;for(let r of Object.keys(e))try{i[r]&&i[r].serialize?e[r]=i[r].serialize(e[r],this):e[r]=JSON.parse(JSON.stringify(e[r])),e[r]&&e[r].toJSON&&(e[r]=e[r].toJSON())}catch(n){throw console.error("Error serializing widget state attribute: ",r),n}return e}send_sync_message(e,i={}){if(!this.comm)return"";try{i={shell:Object.assign({},i.shell),iopub:Object.assign({},i.iopub),input:i.input};let r=i.iopub.status;i.iopub.status=o=>{this._handle_status(o),r&&r(o)};let n=hp(e),s=this.comm.send({method:"update",state:n.state,buffer_paths:n.buffer_paths},i,{},n.buffers);return this._pending_msgs++,s}catch(r){console.error("Could not send widget sync message",r)}return""}save_changes(e){if(this.comm_live){let i={patch:!0};e&&(i.callbacks=e),this.save(this._buffered_state_diff,i),this._changing&&Ko(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,i,r){this.on("change",(...n)=>{e.some(this.hasChanged,this)&&i.apply(r,n)},this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,i){let r=this.serializers,n;if(r){n={};for(let s in e)r[s]&&r[s].deserialize?n[s]=r[s].deserialize(e[s],i):n[s]=e[s]}else n=e;return Jo(n)}},Ps=class extends zs{defaults(){return Ko(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}};Ps.serializers=Object.assign(Object.assign({},zs.serializers),{layout:{deserialize:is},style:{deserialize:is}});gc=class extends N0{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",(i,r)=>{let n=Object.keys(this.model.changedAttributes()||{});n[0]==="_view_count"&&n.length===1||this.update(r)}),this.options=e.options,this.once("remove",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())}),this.once("displayed",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())}),this.displayed=new Promise((i,r)=>{this.once("displayed",i),this.model.on("msg:custom",this.handle_message.bind(this))})}handle_message(e){e.do==="focus"?this.el.focus():e.do==="blur"&&this.el.blur()}update(e){}render(){}create_child_view(e,i={}){return i=Object.assign({parent:this},i),this.model.widget_manager.create_view(e,i).catch(Xr("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,i){this.model.send(e,this.callbacks(),i)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}},qp=class extends or{constructor(e){let i=e.view;delete e.view,super(e),this._view=i}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}},SG=qp,Qo=class extends bs{constructor(e){let i=e.view;delete e.view,super(e),this._view=i}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),(e=this._view)===null||e===void 0||e.remove(),this._view=null)}},EG=Qo,Tt=class extends gc{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",(i,r)=>{let n=i.previous("_dom_classes");this.update_classes(n,r)}),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",(i,r)=>{this.setLayout(r,i.previous("layout"))}),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",(i,r)=>{this.setStyle(r,i.previous("style"))}),this.displayed.then(()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))}),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",()=>{this._comm_live_update()}),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,i){e&&(this.layoutPromise=this.layoutPromise.then(r=>(r&&(r.unlayout(),this.stopListening(r.model),r.remove()),this.create_child_view(e).then(n=>this.displayed.then(()=>(n.trigger("displayed"),this.listenTo(n.model,"change",()=>{Ao.postMessage(this.luminoWidget,or.ResizeMessage.UnknownSize)}),Ao.postMessage(this.luminoWidget,or.ResizeMessage.UnknownSize),this.trigger("layout-changed"),n))).catch(Xr("Could not add LayoutView to DOMWidgetView",!0)))))}setStyle(e,i){e&&(this.stylePromise=this.stylePromise.then(r=>(r&&(r.unstyle(),this.stopListening(r.model),r.remove()),this.create_child_view(e).then(n=>this.displayed.then(()=>(n.trigger("displayed"),this.trigger("style-changed"),n))).catch(Xr("Could not add styleView to DOMWidgetView",!0)))))}updateTooltip(){let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,i,r){r===void 0&&(r=this.el),Ib(e,i).map(function(n){r.classList?r.classList.remove(n):r.setAttribute("class",r.getAttribute("class").replace(n,""))}),Ib(i,e).map(function(n){r.classList?r.classList.add(n):r.setAttribute("class",r.getAttribute("class").concat(" ",n))})}update_mapped_classes(e,i,r){let n=this.model.previous(i),s=e[n]?e[n]:[];n=this.model.get(i);let o=e[n]?e[n]:[];this.update_classes(s,o,r||this.el)}set_mapped_classes(e,i,r){let n=this.model.get(i),s=e[n]?e[n]:[];this.update_classes([],s,r||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof CE.default?e:(0,CE.default)(e),this.el=this.$el[0],this.luminoWidget=new qp({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown");break}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){let e=this.model.get("tabbable");e===!0?this.el.setAttribute("tabIndex","0"):e===!1?this.el.setAttribute("tabIndex","-1"):e===null&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}set pWidget(e){this.luminoWidget=e}}});var _B=F(()=>{});var vB,EE,IE,bB=F(()=>{yd();Up();vB={align_content:null,align_items:null,align_self:null,border_top:null,border_right:null,border_bottom:null,border_left:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null},EE=class extends zs{defaults(){return Ko(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},vB)}},IE=class extends gc{initialize(e){this._traitNames=[],super.initialize(e);for(let i of Object.keys(vB))this.registerTrait(i)}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(i,r)=>{this.handleChange(e,r)}),this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,i){let r=this.options.parent;r?i===null?r.el.style.removeProperty(this.css_name(e)):r.el.style.setProperty(this.css_name(e),i):console.warn("Style not applied because a parent view does not exist")}unlayout(){let e=this.options.parent;this._traitNames.forEach(i=>{e?e.el.style.removeProperty(this.css_name(i)):console.warn("Style not removed because a parent view does not exist")},this)}}});var _c,ME,xB=F(()=>{yd();Up();_c=class extends zs{defaults(){let e=this.constructor;return Ko(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce((i,r)=>(i[r]=e.styleProperties[r].default,i),{}))}};_c.styleProperties={};ME=class extends gc{initialize(e){this._traitNames=[],super.initialize(e);let i=this.model.constructor;for(let r of Object.keys(i.styleProperties))this.registerTrait(r);this.style()}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(i,r)=>{this.handleChange(e,r)})}handleChange(e,i){let r=this.options.parent;if(r){let s=this.model.constructor.styleProperties,o=s[e].attribute,a=s[e].selector,l=a?r.el.querySelectorAll(a):[r.el];if(i===null)for(let c=0;c!==l.length;++c)l[c].style.removeProperty(o);else for(let c=0;c!==l.length;++c)l[c].style.setProperty(o,i)}else console.warn("Style not applied because a parent view does not exist")}style(){for(let e of this._traitNames)this.handleChange(e,this.model.get(e))}unstyle(){let e=this.options.parent,r=this.model.constructor.styleProperties;this._traitNames.forEach(n=>{if(e){let s=r[n].attribute,o=r[n].selector,a=o?e.el.querySelectorAll(o):[e.el];for(let l=0;l!==a.length;++l)a[l].style.removeProperty(s)}else console.warn("Style not removed because a parent view does not exist")},this)}}});var If,yB=F(()=>{(function(t){let e;(function(i){class r{constructor(o){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(o)}init_kernel(o){this.kernel=o,this.jsServicesKernel=o}async new_comm(o,a,l,c,u,d){let f=this.jsServicesKernel.createComm(o,u),h=new n(f);return this.register_comm(h),h.open(a,l,c,d),h}register_target(o,a){let l=this.jsServicesKernel.registerCommTarget(o,(c,u)=>{let d=new n(c);this.register_comm(d);try{return a(d,u)}catch(f){d.close(),console.error(f),console.error(new Error("Exception opening new comm"))}});this.targets[o]=l}unregister_target(o,a){this.targets[o].dispose(),delete this.targets[o]}register_comm(o){return this.comms[o.comm_id]=Promise.resolve(o),o.kernel=this.kernel,o.comm_id}}i.CommManager=r;class n{constructor(o){this.jsServicesComm=o}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(o,a,l,c){let u=this.jsServicesComm.open(o,l,c);return this._hookupCallbacks(u,a),u.msg.header.msg_id}send(o,a,l,c){let u=this.jsServicesComm.send(o,l,c);return this._hookupCallbacks(u,a),u.msg.header.msg_id}close(o,a,l,c){let u=this.jsServicesComm.close(o,l,c);return this._hookupCallbacks(u,a),u.msg.header.msg_id}on_msg(o){this.jsServicesComm.onMsg=o.bind(this)}on_close(o){this.jsServicesComm.onClose=o.bind(this)}_hookupCallbacks(o,a){a&&(o.onReply=function(l){a.shell&&a.shell.reply&&a.shell.reply(l)},o.onStdin=function(l){a.input&&a.input(l)},o.onIOPub=function(l){if(a.iopub){if(a.iopub.status&&l.header.msg_type==="status")a.iopub.status(l);else if(a.iopub.clear_output&&l.header.msg_type==="clear_output")a.iopub.clear_output(l);else if(a.iopub.output)switch(l.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":a.iopub.output(l);break;default:break}}})}}i.Comm=n})(e=t.services||(t.services={}))})(If||(If={}))});var po,wB=F(()=>{po=class{constructor(e,i,r){this.initialize(e,i,r)}initialize(e,i,r){this._handler_context=r||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=i||function(n){n.remove()}}update(e,i,r,n){let s=r||this._remove_view,o=i||this._create_view;n=n||this._handler_context;let a=0;for(;a<e.length&&!(a>=this._models.length||e[a]!==this._models[a]);a++);let l=a,c=this.views.splice(l,this.views.length-l);for(let u=0;u<c.length;u++)c[u].then(function(d){s.call(n,d)});for(;a<e.length;a++)this.views.push(Promise.resolve(o.call(n,e[a],a)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then(e=>{e.forEach(i=>this._remove_view.call(this._handler_context,i)),this.views=[],this._models=[]})}dispose(){this.views=null,this._models=null}}});var CB,IG,SB=F(()=>{CB=H(Hr()),IG=new CB.Token("jupyter.extensions.jupyterWidgetRegistry")});function Vp(t,e){class i extends Ps{constructor(n,s){n=Object.assign(Object.assign({},n),{_view_name:"ErrorWidgetView",_view_module:"@jupyter-widgets/base",_model_module_version:nl,_view_module_version:nl,msg:e,error:t}),super(n,s),this.comm_live=!0}}return i}function kE(t,e){return class extends Mf{generateErrorMessage(){return{msg:e,stack:String(t instanceof Error?t.stack:t)}}}}var Mf,EB=F(()=>{Up();O0();yd();Mf=class extends Tt{generateErrorMessage(){return{msg:this.model.get("msg"),stack:String(this.model.get("error").stack)}}render(){let{msg:e,stack:i}=this.generateErrorMessage();this.el.classList.add("jupyter-widgets");let r=document.createElement("div");r.classList.add("jupyter-widgets-error-widget","icon-error"),r.innerHTML=Mb;let n=document.createElement("pre");n.style.textAlign="center",n.innerText="Click to show javascript error.",r.append(n),this.el.appendChild(r);let s,o;this.el.onclick=()=>{r.classList.contains("icon-error")&&(o=o||r.clientHeight,s=s||r.clientWidth,r.classList.remove("icon-error"),r.innerHTML=`
        <pre>[Open Browser Console for more detailed log - Double click to close this message]
${e}
${i}</pre>
        `,r.style.height=`${o}px`,r.style.width=`${s}px`,r.classList.add("text-error"))},this.el.ondblclick=()=>{r.classList.contains("text-error")&&(r.classList.remove("text-error"),r.innerHTML=Mb,r.append(n),r.classList.add("icon-error"))}}}});var Gp={};Oc(Gp,{BROKEN_FILE_SVG_ICON:()=>Mb,DOMWidgetModel:()=>Ps,DOMWidgetView:()=>Tt,ErrorWidgetView:()=>Mf,IJupyterWidgetRegistry:()=>IG,JUPYTER_WIDGETS_VERSION:()=>nl,JupyterLuminoPanelWidget:()=>Qo,JupyterLuminoWidget:()=>qp,JupyterPhosphorPanelWidget:()=>EG,JupyterPhosphorWidget:()=>SG,LayoutModel:()=>EE,LayoutView:()=>IE,PROTOCOL_VERSION:()=>D0,StyleModel:()=>_c,StyleView:()=>ME,ViewList:()=>po,WidgetModel:()=>zs,WidgetView:()=>gc,assign:()=>Ko,createErrorWidgetModel:()=>Vp,createErrorWidgetView:()=>kE,difference:()=>Ib,isEqual:()=>Jh,isObject:()=>y2,isSerializable:()=>x2,pack_models:()=>SE,put_buffers:()=>sc,reject:()=>Xr,remove_buffers:()=>hp,resolvePromisesDict:()=>Jo,shims:()=>If,unpack_models:()=>is,uuid:()=>Xt});var Li=F(()=>{Up();_B();bB();xB();yB();wB();O0();yd();SB();EB()});var kB=qe(z0=>{"use strict";z0.byteLength=kG;z0.toByteArray=AG;z0.fromByteArray=NG;var ea=[],Bs=[],MG=typeof Uint8Array<"u"?Uint8Array:Array,TE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Bd=0,IB=TE.length;Bd<IB;++Bd)ea[Bd]=TE[Bd],Bs[TE.charCodeAt(Bd)]=Bd;var Bd,IB;Bs["-".charCodeAt(0)]=62;Bs["_".charCodeAt(0)]=63;function MB(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=e);var r=i===e?0:4-i%4;return[i,r]}function kG(t){var e=MB(t),i=e[0],r=e[1];return(i+r)*3/4-r}function TG(t,e,i){return(e+i)*3/4-i}function AG(t){var e,i=MB(t),r=i[0],n=i[1],s=new MG(TG(t,r,n)),o=0,a=n>0?r-4:r,l;for(l=0;l<a;l+=4)e=Bs[t.charCodeAt(l)]<<18|Bs[t.charCodeAt(l+1)]<<12|Bs[t.charCodeAt(l+2)]<<6|Bs[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=Bs[t.charCodeAt(l)]<<2|Bs[t.charCodeAt(l+1)]>>4,s[o++]=e&255),n===1&&(e=Bs[t.charCodeAt(l)]<<10|Bs[t.charCodeAt(l+1)]<<4|Bs[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function RG(t){return ea[t>>18&63]+ea[t>>12&63]+ea[t>>6&63]+ea[t&63]}function LG(t,e,i){for(var r,n=[],s=e;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(RG(r));return n.join("")}function NG(t){for(var e,i=t.length,r=i%3,n=[],s=16383,o=0,a=i-r;o<a;o+=s)n.push(LG(t,o,o+s>a?a:o+s));return r===1?(e=t[i-1],n.push(ea[e>>2]+ea[e<<4&63]+"==")):r===2&&(e=(t[i-2]<<8)+t[i-1],n.push(ea[e>>10]+ea[e>>4&63]+ea[e<<2&63]+"=")),n.join("")}});function TB(t){let e=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=parseInt(t.slice(i,i+2),16);return e.buffer}function AB(t){return(0,P0.fromByteArray)(new Uint8Array(t))}function RB(t){return(0,P0.toByteArray)(t).buffer}var P0,AE=F(()=>{P0=H(kB())});function NB(t){let e=[],i=null,r=null,n=null,s=0,o;/`/.test(t)?(t=t.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,c=>c.replace(/\$/g,"~D")),o=c=>c.replace(/~([TD])/g,(u,d)=>d==="T"?"~":LB)):o=c=>c;let l=t.replace(/\r\n?/g,`
`).split(DG);for(let c=1,u=l.length;c<u;c+=2){let d=l[c];d.charAt(0)==="@"?(l[c]="@@"+e.length+"@@",e.push(d)):i!==null?d===r?s?n=c:(l=RE(i,c,o,e,l),i=null,r=null,n=null):d.match(/\n.*\n/)?(n!==null&&(c=n,l=RE(i,c,o,e,l)),i=null,r=null,n=null,s=0):d==="{"?s++:d==="}"&&s&&s--:d===LB||d==="$$"?(i=c,r=d,s=0):d==="\\\\("||d==="\\\\["?(i=c,r=d.slice(-1)==="("?"\\\\)":"\\\\]",s=0):d.substr(1,5)==="begin"&&(i=c,r="\\end"+d.substr(6),s=0)}return i!==null&&n!==null&&(l=RE(i,n,o,e,l),i=null,r=null,n=null),{text:o(l.join("")),math:e}}function DB(t,e){let i=(r,n)=>{let s=e[n];return s.substr(0,3)==="\\\\("&&s.substr(s.length-3)==="\\\\)"?s="\\("+s.substring(3,s.length-3)+"\\)":s.substr(0,3)==="\\\\["&&s.substr(s.length-3)==="\\\\]"&&(s="\\["+s.substring(3,s.length-3)+"\\]"),s};return t.replace(/@@(\d+)@@/g,i)}function RE(t,e,i,r,n){let s=n.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(s=s.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>t;)n[e]="",e--;return n[t]="@@"+r.length+"@@",i&&(s=i(s)),r.push(s),n}var LB,DG,OB=F(()=>{LB="$",DG=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i});var jB=qe((wwe,HB)=>{var OG=s$(),zB=o$(),{isPlainObject:zG}=a$(),PB=l$(),PG=c$(),{parse:BG}=d$(),HG=["img","audio","video","picture","svg","object","map","iframe","embed"],jG=["script","style"];function Yp(t,e){t&&Object.keys(t).forEach(function(i){e(t[i],i)})}function sl(t,e){return{}.hasOwnProperty.call(t,e)}function BB(t,e){let i=[];return Yp(t,function(r){e(r)&&i.push(r)}),i}function FG(t){for(let e in t)if(sl(t,e))return!1;return!0}function $G(t){return t.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}HB.exports=Xp;var WG=/^[^\0\t\n\f\r /<=>]+$/;function Xp(t,e,i){if(t==null)return"";typeof t=="number"&&(t=t.toString());let r="",n="";function s(te,G){let X=this;this.tag=te,this.attribs=G||{},this.tagPosition=r.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(_.length){let Z=_[_.length-1];Z.text+=X.text}},this.updateParentNodeMediaChildren=function(){_.length&&HG.includes(this.tag)&&_[_.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},Xp.defaults,e),e.parser=Object.assign({},qG,e.parser);let o=function(te){return e.allowedTags===!1||(e.allowedTags||[]).indexOf(te)>-1};jG.forEach(function(te){o(te)&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${te}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});let a=e.nonTextTags||["script","style","textarea","option"],l,c;e.allowedAttributes&&(l={},c={},Yp(e.allowedAttributes,function(te,G){l[G]=[];let X=[];te.forEach(function(Z){typeof Z=="string"&&Z.indexOf("*")>=0?X.push(zB(Z).replace(/\\\*/g,".*")):l[G].push(Z)}),X.length&&(c[G]=new RegExp("^("+X.join("|")+")$"))}));let u={},d={},f={};Yp(e.allowedClasses,function(te,G){if(l&&(sl(l,G)||(l[G]=[]),l[G].push("class")),u[G]=te,Array.isArray(te)){let X=[];u[G]=[],f[G]=[],te.forEach(function(Z){typeof Z=="string"&&Z.indexOf("*")>=0?X.push(zB(Z).replace(/\\\*/g,".*")):Z instanceof RegExp?f[G].push(Z):u[G].push(Z)}),X.length&&(d[G]=new RegExp("^("+X.join("|")+")$"))}});let h={},m;Yp(e.transformTags,function(te,G){let X;typeof te=="function"?X=te:typeof te=="string"&&(X=Xp.simpleTransform(te)),G==="*"?m=X:h[G]=X});let p,_,x,y,C,k,M=!1;I();let v=new OG.Parser({onopentag:function(te,G){if(e.enforceHtmlBoundary&&te==="html"&&I(),C){k++;return}let X=new s(te,G);_.push(X);let Z=!1,ye=!!X.text,ue;if(sl(h,te)&&(ue=h[te](te,G),X.attribs=G=ue.attribs,ue.text!==void 0&&(X.innerText=ue.text),te!==ue.tagName&&(X.name=te=ue.tagName,y[p]=ue.tagName)),m&&(ue=m(te,G),X.attribs=G=ue.attribs,te!==ue.tagName&&(X.name=te=ue.tagName,y[p]=ue.tagName)),(!o(te)||e.disallowedTagsMode==="recursiveEscape"&&!FG(x)||e.nestingLimit!=null&&p>=e.nestingLimit)&&(Z=!0,x[p]=!0,(e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")&&a.indexOf(te)!==-1&&(C=!0,k=1),x[p]=!0),p++,Z){if(e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard"){if(X.innerText&&!ye){let xe=E(X.innerText);e.textFilter?r+=e.textFilter(xe,te):r+=E(X.innerText),M=!0}return}n=r,r=""}r+="<"+te,te==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(X.innerText=""),(!l||sl(l,te)||l["*"])&&Yp(G,function(xe,ke){if(!WG.test(ke)){delete X.attribs[ke];return}if(xe===""&&!e.allowedEmptyAttributes.includes(ke)&&(e.nonBooleanAttributes.includes(ke)||e.nonBooleanAttributes.includes("*"))){delete X.attribs[ke];return}let We=!1;if(!l||sl(l,te)&&l[te].indexOf(ke)!==-1||l["*"]&&l["*"].indexOf(ke)!==-1||sl(c,te)&&c[te].test(ke)||c["*"]&&c["*"].test(ke))We=!0;else if(l&&l[te]){for(let Xe of l[te])if(zG(Xe)&&Xe.name&&Xe.name===ke){We=!0;let Ze="";if(Xe.multiple===!0){let st=xe.split(" ");for(let vt of st)Xe.values.indexOf(vt)!==-1&&(Ze===""?Ze=vt:Ze+=" "+vt)}else Xe.values.indexOf(xe)>=0&&(Ze=xe);xe=Ze}}if(We){if(e.allowedSchemesAppliedToAttributes.indexOf(ke)!==-1&&T(te,xe)){delete X.attribs[ke];return}if(te==="script"&&ke==="src"){let Xe=!0;try{let Ze=R(xe);if(e.allowedScriptHostnames||e.allowedScriptDomains){let st=(e.allowedScriptHostnames||[]).find(function(Dt){return Dt===Ze.url.hostname}),vt=(e.allowedScriptDomains||[]).find(function(Dt){return Ze.url.hostname===Dt||Ze.url.hostname.endsWith(`.${Dt}`)});Xe=st||vt}}catch{Xe=!1}if(!Xe){delete X.attribs[ke];return}}if(te==="iframe"&&ke==="src"){let Xe=!0;try{let Ze=R(xe);if(Ze.isRelativeUrl)Xe=sl(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){let st=(e.allowedIframeHostnames||[]).find(function(Dt){return Dt===Ze.url.hostname}),vt=(e.allowedIframeDomains||[]).find(function(Dt){return Ze.url.hostname===Dt||Ze.url.hostname.endsWith(`.${Dt}`)});Xe=st||vt}}catch{Xe=!1}if(!Xe){delete X.attribs[ke];return}}if(ke==="srcset")try{let Xe=PG(xe);if(Xe.forEach(function(Ze){T("srcset",Ze.url)&&(Ze.evil=!0)}),Xe=BB(Xe,function(Ze){return!Ze.evil}),Xe.length)xe=$G(BB(Xe,function(Ze){return!Ze.evil})),X.attribs[ke]=xe;else{delete X.attribs[ke];return}}catch{delete X.attribs[ke];return}if(ke==="class"){let Xe=u[te],Ze=u["*"],st=d[te],vt=f[te],Dt=f["*"],Pt=d["*"],Wi=[st,Pt].concat(vt,Dt).filter(function(yi){return yi});if(Xe&&Ze?xe=de(xe,PB(Xe,Ze),Wi):xe=de(xe,Xe||Ze,Wi),!xe.length){delete X.attribs[ke];return}}if(ke==="style"){if(e.parseStyleAttributes)try{let Xe=BG(te+" {"+xe+"}",{map:!1}),Ze=P(Xe,e.allowedStyles);if(xe=Y(Ze),xe.length===0){delete X.attribs[ke];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+te+" {"+xe+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete X.attribs[ke];return}else if(e.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}r+=" "+ke,xe&&xe.length?r+='="'+E(xe,!0)+'"':e.allowedEmptyAttributes.includes(ke)&&(r+='=""')}else delete X.attribs[ke]}),e.selfClosing.indexOf(te)!==-1?r+=" />":(r+=">",X.innerText&&!ye&&!e.textFilter&&(r+=E(X.innerText),M=!0)),Z&&(r=n+E(r),n="")},ontext:function(te){if(C)return;let G=_[_.length-1],X;if(G&&(X=G.tag,te=G.innerText!==void 0?G.innerText:te),e.disallowedTagsMode==="completelyDiscard"&&!o(X))te="";else if((e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard")&&(X==="script"||X==="style"))r+=te;else{let Z=E(te,!1);e.textFilter&&!M?r+=e.textFilter(Z,X):M||(r+=Z)}if(_.length){let Z=_[_.length-1];Z.text+=te}},onclosetag:function(te,G){if(C)if(k--,!k)C=!1;else return;let X=_.pop();if(!X)return;if(X.tag!==te){_.push(X);return}C=e.enforceHtmlBoundary?te==="html":!1,p--;let Z=x[p];if(Z){if(delete x[p],e.disallowedTagsMode==="discard"||e.disallowedTagsMode==="completelyDiscard"){X.updateParentNodeText();return}n=r,r=""}if(y[p]&&(te=y[p],delete y[p]),e.exclusiveFilter&&e.exclusiveFilter(X)){r=r.substr(0,X.tagPosition);return}if(X.updateParentNodeMediaChildren(),X.updateParentNodeText(),e.selfClosing.indexOf(te)!==-1||G&&!o(te)&&["escape","recursiveEscape"].indexOf(e.disallowedTagsMode)>=0){Z&&(r=n,n="");return}r+="</"+te+">",Z&&(r=n+E(r),n=""),M=!1}},e.parser);return v.write(t),v.end(),r;function I(){r="",p=0,_=[],x={},y={},C=!1,k=0}function E(te,G){return typeof te!="string"&&(te=te+""),e.parser.decodeEntities&&(te=te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),G&&(te=te.replace(/"/g,"&quot;"))),te=te.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),G&&(te=te.replace(/"/g,"&quot;")),te}function T(te,G){for(G=G.replace(/[\x00-\x20]+/g,"");;){let ye=G.indexOf("<!--");if(ye===-1)break;let ue=G.indexOf("-->",ye+4);if(ue===-1)break;G=G.substring(0,ye)+G.substring(ue+3)}let X=G.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!X)return G.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;let Z=X[1].toLowerCase();return sl(e.allowedSchemesByTag,te)?e.allowedSchemesByTag[te].indexOf(Z)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(Z)===-1}function R(te){if(te=te.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),te.startsWith("relative:"))throw new Error("relative: exploit attempt");let G="relative://relative-site";for(let ye=0;ye<100;ye++)G+=`/${ye}`;let X=new URL(te,G);return{isRelativeUrl:X&&X.hostname==="relative-site"&&X.protocol==="relative:",url:X}}function P(te,G){if(!G)return te;let X=te.nodes[0],Z;return G[X.selector]&&G["*"]?Z=PB(G[X.selector],G["*"]):Z=G[X.selector]||G["*"],Z&&(te.nodes[0].nodes=X.nodes.reduce(re(Z),[])),te}function Y(te){return te.nodes[0].nodes.reduce(function(G,X){return G.push(`${X.prop}:${X.value}${X.important?" !important":""}`),G},[]).join(";")}function re(te){return function(G,X){return sl(te,X.prop)&&te[X.prop].some(function(ye){return ye.test(X.value)})&&G.push(X),G}}function de(te,G,X){return G?(te=te.split(/\s+/),te.filter(function(Z){return G.indexOf(Z)!==-1||X.some(function(ye){return ye.test(Z)})}).join(" ")):te}}var qG={decodeEntities:!0};Xp.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0};Xp.simpleTransform=function(t,e,i){return i=i===void 0?!0:i,e=e||{},function(r,n){let s;if(i)for(s in e)n[s]=e[s];else n=e;return{tagName:t,attribs:n}}}});function YG(t){return(0,WB.default)(t,{allowedTags:["a","abbr","b","code","em","i","img","li","ol","span","strong","ul"],allowedAttributes:{"*":["aria-*","class","style","title"],a:["href"],img:["src"],style:["media","type"]}})}function LE(t,e={}){let i={};return t.forEach(r=>{let n=r.model_id,s=hp(r.serialize(r.get_state(e.drop_defaults))),o=s.buffers.map((a,l)=>({data:AB(a),path:s.buffer_paths[l],encoding:"base64"}));i[n]={model_name:r.name,model_module:r.module,model_module_version:r.get("_model_module_version"),state:s.state},o.length>0&&(i[n].buffers=o)}),{version_major:2,version_minor:0,state:i}}var $B,WB,FB,UG,VG,GG,B0,qB=F(()=>{Li();$B=H(Hr());Li();AE();OB();WB=H(jB()),FB=D0.split(".",1)[0],UG="jupyter.widget.control",VG="1.0.0",GG=4e3;B0=class{constructor(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}setViewOptions(e={}){return e}create_view(e,i={}){let r=Xt(),n=e.state_change=e.state_change.then(async()=>{let s=e.get("_view_name"),o=e.get("_view_module");try{let a=await this.loadViewClass(s,o,e.get("_view_module_version")),l=new a({model:e,options:this.setViewOptions(i)});return l.listenTo(e,"destroy",l.remove),await l.render(),l.once("remove",()=>{e.views&&delete e.views[r]}),l}catch(a){console.error(`Could not create a view for model id ${e.model_id}`);let l=`Failed to create view for '${s}' from module '${o}' with model '${e.name}' from module '${e.module}'`,c=Vp(a,l),u=new c,d=new Mf({model:u,options:this.setViewOptions(i)});return await d.render(),d}});return e.views&&(e.views[r]=n),n}callbacks(e){return{}}async get_model(e){let i=this._models[e];if(i===void 0)throw new Error("widget model not found");return i}has_model(e){return this._models[e]!==void 0}handle_comm_open(e,i){let r=(i.metadata||{}).version||"";if(r.split(".",1)[0]!==FB){let a=`Wrong widget protocol version: received protocol version '${r}', but was expecting major version '${FB}'`;return console.error(a),Promise.reject(a)}let n=i.content.data,s=n.buffer_paths||[],o=i.buffers||[];return sc(n.state,s,o),this.new_model({model_name:n.state._model_name,model_module:n.state._model_module,model_module_version:n.state._model_module_version,comm:e},n.state).catch(Xr("Could not create a model.",!0))}new_widget(e,i={}){let r;if(e.view_name===void 0||e.view_module===void 0||e.view_module_version===void 0)return Promise.reject("new_widget(...) must be given view information in the options.");e.comm?r=Promise.resolve(e.comm):r=this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:D0});let n=Object.assign({},e);return r.then(s=>(n.comm=s,this.new_model(n,i).then(a=>(a.sync("create",a),a))),()=>(n.model_id||(n.model_id=Xt()),this.new_model(n,i)))}register_model(e,i){this._models[e]=i,i.then(r=>{r.once("comm:close",()=>{delete this._models[e]})})}async new_model(e,i={}){var r,n;let s=(r=e.model_id)!==null&&r!==void 0?r:(n=e.comm)===null||n===void 0?void 0:n.comm_id;if(!s)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");e.model_id=s;let o=this._make_model(e,i);return this.register_model(s,o),await o}async _loadFromKernel(){let e,i;try{let a=await this._create_comm(UG,Xt(),{},{version:VG});await new Promise((l,c)=>{a.on_msg(u=>{if(e=u.content.data,e.method!=="update_states"){console.warn(`
              Unknown ${e.method} message on the Control channel
            `);return}i=(u.buffers||[]).map(d=>d instanceof DataView?d:new DataView(d instanceof ArrayBuffer?d:d.buffer)),l(null)}),a.on_close(()=>c("Control comm was closed too early")),a.send({method:"request_states"},{}),setTimeout(()=>c("Control comm did not respond in time"),GG)}),a.close()}catch{return this._loadFromKernelModels()}let r=e.states,n={},s={};for(let a=0;a<e.buffer_paths.length;a++){let[l,...c]=e.buffer_paths[a],u=i[a];n[l]||(n[l]=[],s[l]=[]),n[l].push(c),s[l].push(u)}let o=await Promise.all(Object.keys(r).map(async a=>{let l=this.has_model(a)?void 0:await this._create_comm("jupyter.widget",a);return{widget_id:a,comm:l}}));await Promise.all(o.map(async({widget_id:a,comm:l})=>{let c=r[a];a in n&&sc(c,n[a],s[a]);try{if(l)await this.new_model({model_name:c.model_name,model_module:c.model_module,model_module_version:c.model_module_version,model_id:a,comm:l},c.state);else{let u=await this.get_model(a),d=await u.constructor._deserialize_state(c.state,this);u.set_state(d)}}catch(u){console.error(u)}}))}async _loadFromKernelModels(){let e=await this._get_comm_info(),i=await Promise.all(Object.keys(e).map(async r=>{if(this.has_model(r))return;let n=await this._create_comm(this.comm_target_name,r),s="",o=new $B.PromiseDelegate;return n.on_msg(a=>{if(a.parent_header.msg_id===s&&a.header.msg_type==="comm_msg"&&a.content.data.method==="update"){let l=a.content.data,c=l.buffer_paths||[],u=a.buffers||[];sc(l.state,c,u),o.resolve({comm:n,msg:a})}}),s=n.send({method:"request_state"},this.callbacks(void 0)),o.promise}));await Promise.all(i.map(async r=>{if(!r)return;let n=r.msg.content;await this.new_model({model_name:n.data.state._model_name,model_module:n.data.state._model_module,model_module_version:n.data.state._model_module_version,comm:r.comm},n.data.state)}))}async _make_model(e,i={}){let r=e.model_id,n=this.loadModelClass(e.model_name,e.model_module,e.model_module_version),s,o=(l,c)=>{let u=Vp(l,c);return new u};try{s=await n}catch(l){let c="Could not instantiate widget";return console.error(c),o(l,c)}if(!s){let l="Could not instantiate widget";console.error(l);let c=new Error(`Cannot find model module ${e.model_module}@${e.model_module_version}, ${e.model_name}`);return o(c,l)}let a;try{let l=await s._deserialize_state(i,this),c={widget_manager:this,model_id:r,comm:e.comm};a=new s(l,c)}catch(l){console.error(l);let c=`Model class '${e.model_name}' from module '${e.model_module}' is loaded but can not be instantiated`;a=o(l,c)}return a.name=e.model_name,a.module=e.model_module,a}clear_state(){return Jo(this._models).then(e=>{Object.keys(e).forEach(i=>e[i].close()),this._models=Object.create(null)})}get_state(e={}){let i=Object.keys(this._models).map(r=>this._models[r]);return Promise.all(i).then(r=>LE(r,e))}set_state(e){if(!(e.version_major&&e.version_major<=2))throw"Unsupported widget state format";let i=e.state;return this._get_comm_info().then(n=>Promise.all(Object.keys(i).map(s=>{let o={base64:RB,hex:TB},a=i[s],l=a.state;if(a.buffers){let u=a.buffers.map(f=>f.path),d=a.buffers.map(f=>new DataView(o[f.encoding](f.data)));sc(a.state,u,d)}if(this.has_model(s))return this.get_model(s).then(u=>u.constructor._deserialize_state(l||{},this).then(d=>(u.set_state(d),u)));let c={model_id:s,model_name:a.model_name,model_module:a.model_module,model_module_version:a.model_module_version};return Object.prototype.hasOwnProperty.call(n,"model_id")?this._create_comm(this.comm_target_name,s).then(u=>(c.comm=u,this.new_model(c))):this.new_model(c,l)})))}disconnect(){Object.keys(this._models).forEach(e=>{this._models[e].then(i=>{i.comm_live=!1})})}resolveUrl(e){return Promise.resolve(e)}inline_sanitize(e){let i=NB(e),r=YG(i.text);return DB(r,i.math)}async loadModelClass(e,i,r){try{let n=this.loadClass(e,i,r);return await n,n}catch(n){console.error(n);let s=`Failed to load model class '${e}' from module '${i}'`;return Vp(n,s)}}async loadViewClass(e,i,r){try{let n=this.loadClass(e,i,r);return await n,n}catch(n){console.error(n);let s=`Failed to load view class '${e}' from module '${i}'`;return kE(n,s)}}filterExistingModelState(e){let i=e.state;return i=Object.keys(i).filter(r=>!this.has_model(r)).reduce((r,n)=>(r[n]=i[n],r),{}),Object.assign(Object.assign({},e),{state:i})}}});var UB=F(()=>{qB();AE()});var Kp=qe((Awe,VB)=>{var XG="2.0.0",KG=Number.MAX_SAFE_INTEGER||9007199254740991,JG=16,ZG=256-6,QG=["major","premajor","minor","preminor","patch","prepatch","prerelease"];VB.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:JG,MAX_SAFE_BUILD_LENGTH:ZG,MAX_SAFE_INTEGER:KG,RELEASE_TYPES:QG,SEMVER_SPEC_VERSION:XG,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Jp=qe((Rwe,GB)=>{var eY=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};GB.exports=eY});var kf=qe((ta,YB)=>{var{MAX_SAFE_COMPONENT_LENGTH:NE,MAX_SAFE_BUILD_LENGTH:tY,MAX_LENGTH:iY}=Kp(),rY=Jp();ta=YB.exports={};var nY=ta.re=[],sY=ta.safeRe=[],Ge=ta.src=[],oY=ta.safeSrc=[],Ye=ta.t={},aY=0,DE="[a-zA-Z0-9-]",lY=[["\\s",1],["\\d",iY],[DE,tY]],cY=t=>{for(let[e,i]of lY)t=t.split(`${e}*`).join(`${e}{0,${i}}`).split(`${e}+`).join(`${e}{1,${i}}`);return t},_t=(t,e,i)=>{let r=cY(e),n=aY++;rY(t,n,e),Ye[t]=n,Ge[n]=e,oY[n]=r,nY[n]=new RegExp(e,i?"g":void 0),sY[n]=new RegExp(r,i?"g":void 0)};_t("NUMERICIDENTIFIER","0|[1-9]\\d*");_t("NUMERICIDENTIFIERLOOSE","\\d+");_t("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${DE}*`);_t("MAINVERSION",`(${Ge[Ye.NUMERICIDENTIFIER]})\\.(${Ge[Ye.NUMERICIDENTIFIER]})\\.(${Ge[Ye.NUMERICIDENTIFIER]})`);_t("MAINVERSIONLOOSE",`(${Ge[Ye.NUMERICIDENTIFIERLOOSE]})\\.(${Ge[Ye.NUMERICIDENTIFIERLOOSE]})\\.(${Ge[Ye.NUMERICIDENTIFIERLOOSE]})`);_t("PRERELEASEIDENTIFIER",`(?:${Ge[Ye.NUMERICIDENTIFIER]}|${Ge[Ye.NONNUMERICIDENTIFIER]})`);_t("PRERELEASEIDENTIFIERLOOSE",`(?:${Ge[Ye.NUMERICIDENTIFIERLOOSE]}|${Ge[Ye.NONNUMERICIDENTIFIER]})`);_t("PRERELEASE",`(?:-(${Ge[Ye.PRERELEASEIDENTIFIER]}(?:\\.${Ge[Ye.PRERELEASEIDENTIFIER]})*))`);_t("PRERELEASELOOSE",`(?:-?(${Ge[Ye.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ge[Ye.PRERELEASEIDENTIFIERLOOSE]})*))`);_t("BUILDIDENTIFIER",`${DE}+`);_t("BUILD",`(?:\\+(${Ge[Ye.BUILDIDENTIFIER]}(?:\\.${Ge[Ye.BUILDIDENTIFIER]})*))`);_t("FULLPLAIN",`v?${Ge[Ye.MAINVERSION]}${Ge[Ye.PRERELEASE]}?${Ge[Ye.BUILD]}?`);_t("FULL",`^${Ge[Ye.FULLPLAIN]}$`);_t("LOOSEPLAIN",`[v=\\s]*${Ge[Ye.MAINVERSIONLOOSE]}${Ge[Ye.PRERELEASELOOSE]}?${Ge[Ye.BUILD]}?`);_t("LOOSE",`^${Ge[Ye.LOOSEPLAIN]}$`);_t("GTLT","((?:<|>)?=?)");_t("XRANGEIDENTIFIERLOOSE",`${Ge[Ye.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_t("XRANGEIDENTIFIER",`${Ge[Ye.NUMERICIDENTIFIER]}|x|X|\\*`);_t("XRANGEPLAIN",`[v=\\s]*(${Ge[Ye.XRANGEIDENTIFIER]})(?:\\.(${Ge[Ye.XRANGEIDENTIFIER]})(?:\\.(${Ge[Ye.XRANGEIDENTIFIER]})(?:${Ge[Ye.PRERELEASE]})?${Ge[Ye.BUILD]}?)?)?`);_t("XRANGEPLAINLOOSE",`[v=\\s]*(${Ge[Ye.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ge[Ye.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ge[Ye.XRANGEIDENTIFIERLOOSE]})(?:${Ge[Ye.PRERELEASELOOSE]})?${Ge[Ye.BUILD]}?)?)?`);_t("XRANGE",`^${Ge[Ye.GTLT]}\\s*${Ge[Ye.XRANGEPLAIN]}$`);_t("XRANGELOOSE",`^${Ge[Ye.GTLT]}\\s*${Ge[Ye.XRANGEPLAINLOOSE]}$`);_t("COERCEPLAIN",`(^|[^\\d])(\\d{1,${NE}})(?:\\.(\\d{1,${NE}}))?(?:\\.(\\d{1,${NE}}))?`);_t("COERCE",`${Ge[Ye.COERCEPLAIN]}(?:$|[^\\d])`);_t("COERCEFULL",Ge[Ye.COERCEPLAIN]+`(?:${Ge[Ye.PRERELEASE]})?(?:${Ge[Ye.BUILD]})?(?:$|[^\\d])`);_t("COERCERTL",Ge[Ye.COERCE],!0);_t("COERCERTLFULL",Ge[Ye.COERCEFULL],!0);_t("LONETILDE","(?:~>?)");_t("TILDETRIM",`(\\s*)${Ge[Ye.LONETILDE]}\\s+`,!0);ta.tildeTrimReplace="$1~";_t("TILDE",`^${Ge[Ye.LONETILDE]}${Ge[Ye.XRANGEPLAIN]}$`);_t("TILDELOOSE",`^${Ge[Ye.LONETILDE]}${Ge[Ye.XRANGEPLAINLOOSE]}$`);_t("LONECARET","(?:\\^)");_t("CARETTRIM",`(\\s*)${Ge[Ye.LONECARET]}\\s+`,!0);ta.caretTrimReplace="$1^";_t("CARET",`^${Ge[Ye.LONECARET]}${Ge[Ye.XRANGEPLAIN]}$`);_t("CARETLOOSE",`^${Ge[Ye.LONECARET]}${Ge[Ye.XRANGEPLAINLOOSE]}$`);_t("COMPARATORLOOSE",`^${Ge[Ye.GTLT]}\\s*(${Ge[Ye.LOOSEPLAIN]})$|^$`);_t("COMPARATOR",`^${Ge[Ye.GTLT]}\\s*(${Ge[Ye.FULLPLAIN]})$|^$`);_t("COMPARATORTRIM",`(\\s*)${Ge[Ye.GTLT]}\\s*(${Ge[Ye.LOOSEPLAIN]}|${Ge[Ye.XRANGEPLAIN]})`,!0);ta.comparatorTrimReplace="$1$2$3";_t("HYPHENRANGE",`^\\s*(${Ge[Ye.XRANGEPLAIN]})\\s+-\\s+(${Ge[Ye.XRANGEPLAIN]})\\s*$`);_t("HYPHENRANGELOOSE",`^\\s*(${Ge[Ye.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ge[Ye.XRANGEPLAINLOOSE]})\\s*$`);_t("STAR","(<|>)?=?\\s*\\*");_t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var H0=qe((Lwe,XB)=>{var dY=Object.freeze({loose:!0}),uY=Object.freeze({}),hY=t=>t?typeof t!="object"?dY:t:uY;XB.exports=hY});var OE=qe((Nwe,ZB)=>{var KB=/^[0-9]+$/,JB=(t,e)=>{let i=KB.test(t),r=KB.test(e);return i&&r&&(t=+t,e=+e),t===e?0:i&&!r?-1:r&&!i?1:t<e?-1:1},fY=(t,e)=>JB(e,t);ZB.exports={compareIdentifiers:JB,rcompareIdentifiers:fY}});var Zr=qe((Dwe,iH)=>{var j0=Jp(),{MAX_LENGTH:QB,MAX_SAFE_INTEGER:F0}=Kp(),{safeRe:eH,safeSrc:tH,t:$0}=kf(),mY=H0(),{compareIdentifiers:Tf}=OE(),rs=class{constructor(e,i){if(i=mY(i),e instanceof rs){if(e.loose===!!i.loose&&e.includePrerelease===!!i.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>QB)throw new TypeError(`version is longer than ${QB} characters`);j0("SemVer",e,i),this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease;let r=e.trim().match(i.loose?eH[$0.LOOSE]:eH[$0.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>F0||this.major<0)throw new TypeError("Invalid major version");if(this.minor>F0||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>F0||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let s=+n;if(s>=0&&s<F0)return s}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(j0("SemVer.compare",this.version,this.options,e),!(e instanceof rs)){if(typeof e=="string"&&e===this.version)return 0;e=new rs(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof rs||(e=new rs(e,this.options)),Tf(this.major,e.major)||Tf(this.minor,e.minor)||Tf(this.patch,e.patch)}comparePre(e){if(e instanceof rs||(e=new rs(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let i=0;do{let r=this.prerelease[i],n=e.prerelease[i];if(j0("prerelease compare",i,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Tf(r,n)}while(++i)}compareBuild(e){e instanceof rs||(e=new rs(e,this.options));let i=0;do{let r=this.build[i],n=e.build[i];if(j0("build compare",i,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Tf(r,n)}while(++i)}inc(e,i,r){if(e.startsWith("pre")){if(!i&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(i){let n=new RegExp(`^${this.options.loose?tH[$0.PRERELEASELOOSE]:tH[$0.PRERELEASE]}$`),s=`-${i}`.match(n);if(!s||s[1]!==i)throw new Error(`invalid identifier: ${i}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",i,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",i,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",i,r),this.inc("pre",i,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",i,r),this.inc("pre",i,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[n];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(i===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(i){let s=[i,n];r===!1&&(s=[i]),Tf(this.prerelease[0],i)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};iH.exports=rs});var Hd=qe((Owe,nH)=>{var rH=Zr(),pY=(t,e,i=!1)=>{if(t instanceof rH)return t;try{return new rH(t,e)}catch(r){if(!i)return null;throw r}};nH.exports=pY});var oH=qe((zwe,sH)=>{var gY=Hd(),_Y=(t,e)=>{let i=gY(t,e);return i?i.version:null};sH.exports=_Y});var lH=qe((Pwe,aH)=>{var vY=Hd(),bY=(t,e)=>{let i=vY(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null};aH.exports=bY});var uH=qe((Bwe,dH)=>{var cH=Zr(),xY=(t,e,i,r,n)=>{typeof i=="string"&&(n=r,r=i,i=void 0);try{return new cH(t instanceof cH?t.version:t,i).inc(e,r,n).version}catch{return null}};dH.exports=xY});var mH=qe((Hwe,fH)=>{var hH=Hd(),yY=(t,e)=>{let i=hH(t,null,!0),r=hH(e,null,!0),n=i.compare(r);if(n===0)return null;let s=n>0,o=s?i:r,a=s?r:i,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let u=l?"pre":"";return i.major!==r.major?u+"major":i.minor!==r.minor?u+"minor":i.patch!==r.patch?u+"patch":"prerelease"};fH.exports=yY});var gH=qe((jwe,pH)=>{var wY=Zr(),CY=(t,e)=>new wY(t,e).major;pH.exports=CY});var vH=qe((Fwe,_H)=>{var SY=Zr(),EY=(t,e)=>new SY(t,e).minor;_H.exports=EY});var xH=qe(($we,bH)=>{var IY=Zr(),MY=(t,e)=>new IY(t,e).patch;bH.exports=MY});var wH=qe((Wwe,yH)=>{var kY=Hd(),TY=(t,e)=>{let i=kY(t,e);return i&&i.prerelease.length?i.prerelease:null};yH.exports=TY});var Hs=qe((qwe,SH)=>{var CH=Zr(),AY=(t,e,i)=>new CH(t,i).compare(new CH(e,i));SH.exports=AY});var IH=qe((Uwe,EH)=>{var RY=Hs(),LY=(t,e,i)=>RY(e,t,i);EH.exports=LY});var kH=qe((Vwe,MH)=>{var NY=Hs(),DY=(t,e)=>NY(t,e,!0);MH.exports=DY});var W0=qe((Gwe,AH)=>{var TH=Zr(),OY=(t,e,i)=>{let r=new TH(t,i),n=new TH(e,i);return r.compare(n)||r.compareBuild(n)};AH.exports=OY});var LH=qe((Ywe,RH)=>{var zY=W0(),PY=(t,e)=>t.sort((i,r)=>zY(i,r,e));RH.exports=PY});var DH=qe((Xwe,NH)=>{var BY=W0(),HY=(t,e)=>t.sort((i,r)=>BY(r,i,e));NH.exports=HY});var Zp=qe((Kwe,OH)=>{var jY=Hs(),FY=(t,e,i)=>jY(t,e,i)>0;OH.exports=FY});var q0=qe((Jwe,zH)=>{var $Y=Hs(),WY=(t,e,i)=>$Y(t,e,i)<0;zH.exports=WY});var zE=qe((Zwe,PH)=>{var qY=Hs(),UY=(t,e,i)=>qY(t,e,i)===0;PH.exports=UY});var PE=qe((Qwe,BH)=>{var VY=Hs(),GY=(t,e,i)=>VY(t,e,i)!==0;BH.exports=GY});var U0=qe((eCe,HH)=>{var YY=Hs(),XY=(t,e,i)=>YY(t,e,i)>=0;HH.exports=XY});var V0=qe((tCe,jH)=>{var KY=Hs(),JY=(t,e,i)=>KY(t,e,i)<=0;jH.exports=JY});var BE=qe((iCe,FH)=>{var ZY=zE(),QY=PE(),eX=Zp(),tX=U0(),iX=q0(),rX=V0(),nX=(t,e,i,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t===i;case"!==":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t!==i;case"":case"=":case"==":return ZY(t,i,r);case"!=":return QY(t,i,r);case">":return eX(t,i,r);case">=":return tX(t,i,r);case"<":return iX(t,i,r);case"<=":return rX(t,i,r);default:throw new TypeError(`Invalid operator: ${e}`)}};FH.exports=nX});var WH=qe((rCe,$H)=>{var sX=Zr(),oX=Hd(),{safeRe:G0,t:Y0}=kf(),aX=(t,e)=>{if(t instanceof sX)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let i=null;if(!e.rtl)i=t.match(e.includePrerelease?G0[Y0.COERCEFULL]:G0[Y0.COERCE]);else{let l=e.includePrerelease?G0[Y0.COERCERTLFULL]:G0[Y0.COERCERTL],c;for(;(c=l.exec(t))&&(!i||i.index+i[0].length!==t.length);)(!i||c.index+c[0].length!==i.index+i[0].length)&&(i=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(i===null)return null;let r=i[2],n=i[3]||"0",s=i[4]||"0",o=e.includePrerelease&&i[5]?`-${i[5]}`:"",a=e.includePrerelease&&i[6]?`+${i[6]}`:"";return oX(`${r}.${n}.${s}${o}${a}`,e)};$H.exports=aX});var UH=qe((nCe,qH)=>{var HE=class{constructor(){this.max=1e3,this.map=new Map}get(e){let i=this.map.get(e);if(i!==void 0)return this.map.delete(e),this.map.set(e,i),i}delete(e){return this.map.delete(e)}set(e,i){if(!this.delete(e)&&i!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(e,i)}return this}};qH.exports=HE});var js=qe((sCe,XH)=>{var lX=/\s+/g,jd=class{constructor(e,i){if(i=dX(i),e instanceof jd)return e.loose===!!i.loose&&e.includePrerelease===!!i.includePrerelease?e:new jd(e.raw,i);if(e instanceof jE)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=e.trim().replace(lX," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(n=>!GH(n[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&_X(n[0])){this.set=[n];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let i=this.set[e];for(let r=0;r<i.length;r++)r>0&&(this.formatted+=" "),this.formatted+=i[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&pX)|(this.options.loose&&gX))+":"+e,n=VH.get(r);if(n)return n;let s=this.options.loose,o=s?zn[_n.HYPHENRANGELOOSE]:zn[_n.HYPHENRANGE];e=e.replace(o,MX(this.options.includePrerelease)),li("hyphen replace",e),e=e.replace(zn[_n.COMPARATORTRIM],hX),li("comparator trim",e),e=e.replace(zn[_n.TILDETRIM],fX),li("tilde trim",e),e=e.replace(zn[_n.CARETTRIM],mX),li("caret trim",e);let a=e.split(" ").map(d=>vX(d,this.options)).join(" ").split(/\s+/).map(d=>IX(d,this.options));s&&(a=a.filter(d=>(li("loose invalid filter",d,this.options),!!d.match(zn[_n.COMPARATORLOOSE])))),li("range list",a);let l=new Map,c=a.map(d=>new jE(d,this.options));for(let d of c){if(GH(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return VH.set(r,u),u}intersects(e,i){if(!(e instanceof jd))throw new TypeError("a Range is required");return this.set.some(r=>YH(r,i)&&e.set.some(n=>YH(n,i)&&r.every(s=>n.every(o=>s.intersects(o,i)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new uX(e,this.options)}catch{return!1}for(let i=0;i<this.set.length;i++)if(kX(this.set[i],e,this.options))return!0;return!1}};XH.exports=jd;var cX=UH(),VH=new cX,dX=H0(),jE=Qp(),li=Jp(),uX=Zr(),{safeRe:zn,t:_n,comparatorTrimReplace:hX,tildeTrimReplace:fX,caretTrimReplace:mX}=kf(),{FLAG_INCLUDE_PRERELEASE:pX,FLAG_LOOSE:gX}=Kp(),GH=t=>t.value==="<0.0.0-0",_X=t=>t.value==="",YH=(t,e)=>{let i=!0,r=t.slice(),n=r.pop();for(;i&&r.length;)i=r.every(s=>n.intersects(s,e)),n=r.pop();return i},vX=(t,e)=>(li("comp",t,e),t=yX(t,e),li("caret",t),t=bX(t,e),li("tildes",t),t=CX(t,e),li("xrange",t),t=EX(t,e),li("stars",t),t),vn=t=>!t||t.toLowerCase()==="x"||t==="*",bX=(t,e)=>t.trim().split(/\s+/).map(i=>xX(i,e)).join(" "),xX=(t,e)=>{let i=e.loose?zn[_n.TILDELOOSE]:zn[_n.TILDE];return t.replace(i,(r,n,s,o,a)=>{li("tilde",t,r,n,s,o,a);let l;return vn(n)?l="":vn(s)?l=`>=${n}.0.0 <${+n+1}.0.0-0`:vn(o)?l=`>=${n}.${s}.0 <${n}.${+s+1}.0-0`:a?(li("replaceTilde pr",a),l=`>=${n}.${s}.${o}-${a} <${n}.${+s+1}.0-0`):l=`>=${n}.${s}.${o} <${n}.${+s+1}.0-0`,li("tilde return",l),l})},yX=(t,e)=>t.trim().split(/\s+/).map(i=>wX(i,e)).join(" "),wX=(t,e)=>{li("caret",t,e);let i=e.loose?zn[_n.CARETLOOSE]:zn[_n.CARET],r=e.includePrerelease?"-0":"";return t.replace(i,(n,s,o,a,l)=>{li("caret",t,n,s,o,a,l);let c;return vn(s)?c="":vn(o)?c=`>=${s}.0.0${r} <${+s+1}.0.0-0`:vn(a)?s==="0"?c=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:l?(li("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(li("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),li("caret return",c),c})},CX=(t,e)=>(li("replaceXRanges",t,e),t.split(/\s+/).map(i=>SX(i,e)).join(" ")),SX=(t,e)=>{t=t.trim();let i=e.loose?zn[_n.XRANGELOOSE]:zn[_n.XRANGE];return t.replace(i,(r,n,s,o,a,l)=>{li("xRange",t,r,n,s,o,a,l);let c=vn(s),u=c||vn(o),d=u||vn(a),f=d;return n==="="&&f&&(n=""),l=e.includePrerelease?"-0":"",c?n===">"||n==="<"?r="<0.0.0-0":r="*":n&&f?(u&&(o=0),a=0,n===">"?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",u?s=+s+1:o=+o+1),n==="<"&&(l="-0"),r=`${n+s}.${o}.${a}${l}`):u?r=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(r=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),li("xRange return",r),r})},EX=(t,e)=>(li("replaceStars",t,e),t.trim().replace(zn[_n.STAR],"")),IX=(t,e)=>(li("replaceGTE0",t,e),t.trim().replace(zn[e.includePrerelease?_n.GTE0PRE:_n.GTE0],"")),MX=t=>(e,i,r,n,s,o,a,l,c,u,d,f)=>(vn(r)?i="":vn(n)?i=`>=${r}.0.0${t?"-0":""}`:vn(s)?i=`>=${r}.${n}.0${t?"-0":""}`:o?i=`>=${i}`:i=`>=${i}${t?"-0":""}`,vn(c)?l="":vn(u)?l=`<${+c+1}.0.0-0`:vn(d)?l=`<${c}.${+u+1}.0-0`:f?l=`<=${c}.${u}.${d}-${f}`:t?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${i} ${l}`.trim()),kX=(t,e,i)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(let r=0;r<t.length;r++)if(li(t[r].semver),t[r].semver!==jE.ANY&&t[r].semver.prerelease.length>0){let n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var Qp=qe((oCe,tj)=>{var eg=Symbol("SemVer ANY"),Af=class{static get ANY(){return eg}constructor(e,i){if(i=KH(i),e instanceof Af){if(e.loose===!!i.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),$E("comparator",e,i),this.options=i,this.loose=!!i.loose,this.parse(e),this.semver===eg?this.value="":this.value=this.operator+this.semver.version,$E("comp",this)}parse(e){let i=this.options.loose?JH[ZH.COMPARATORLOOSE]:JH[ZH.COMPARATOR],r=e.match(i);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new QH(r[2],this.options.loose):this.semver=eg}toString(){return this.value}test(e){if($E("Comparator.test",e,this.options.loose),this.semver===eg||e===eg)return!0;if(typeof e=="string")try{e=new QH(e,this.options)}catch{return!1}return FE(e,this.operator,this.semver,this.options)}intersects(e,i){if(!(e instanceof Af))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new ej(e.value,i).test(this.value):e.operator===""?e.value===""?!0:new ej(this.value,i).test(e.semver):(i=KH(i),i.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!i.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||FE(this.semver,"<",e.semver,i)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||FE(this.semver,">",e.semver,i)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};tj.exports=Af;var KH=H0(),{safeRe:JH,t:ZH}=kf(),FE=BE(),$E=Jp(),QH=Zr(),ej=js()});var tg=qe((aCe,ij)=>{var TX=js(),AX=(t,e,i)=>{try{e=new TX(e,i)}catch{return!1}return e.test(t)};ij.exports=AX});var nj=qe((lCe,rj)=>{var RX=js(),LX=(t,e)=>new RX(t,e).set.map(i=>i.map(r=>r.value).join(" ").trim().split(" "));rj.exports=LX});var oj=qe((cCe,sj)=>{var NX=Zr(),DX=js(),OX=(t,e,i)=>{let r=null,n=null,s=null;try{s=new DX(e,i)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||n.compare(o)===-1)&&(r=o,n=new NX(r,i))}),r};sj.exports=OX});var lj=qe((dCe,aj)=>{var zX=Zr(),PX=js(),BX=(t,e,i)=>{let r=null,n=null,s=null;try{s=new PX(e,i)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||n.compare(o)===1)&&(r=o,n=new zX(r,i))}),r};aj.exports=BX});var uj=qe((uCe,dj)=>{var WE=Zr(),HX=js(),cj=Zp(),jX=(t,e)=>{t=new HX(t,e);let i=new WE("0.0.0");if(t.test(i)||(i=new WE("0.0.0-0"),t.test(i)))return i;i=null;for(let r=0;r<t.set.length;++r){let n=t.set[r],s=null;n.forEach(o=>{let a=new WE(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||cj(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!i||cj(i,s))&&(i=s)}return i&&t.test(i)?i:null};dj.exports=jX});var fj=qe((hCe,hj)=>{var FX=js(),$X=(t,e)=>{try{return new FX(t,e).range||"*"}catch{return null}};hj.exports=$X});var X0=qe((fCe,_j)=>{var WX=Zr(),gj=Qp(),{ANY:qX}=gj,UX=js(),VX=tg(),mj=Zp(),pj=q0(),GX=V0(),YX=U0(),XX=(t,e,i,r)=>{t=new WX(t,r),e=new UX(e,r);let n,s,o,a,l;switch(i){case">":n=mj,s=GX,o=pj,a=">",l=">=";break;case"<":n=pj,s=YX,o=mj,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(VX(t,e,r))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],d=null,f=null;if(u.forEach(h=>{h.semver===qX&&(h=new gj(">=0.0.0")),d=d||h,f=f||h,n(h.semver,d.semver,r)?d=h:o(h.semver,f.semver,r)&&(f=h)}),d.operator===a||d.operator===l||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===l&&o(t,f.semver))return!1}return!0};_j.exports=XX});var bj=qe((mCe,vj)=>{var KX=X0(),JX=(t,e,i)=>KX(t,e,">",i);vj.exports=JX});var yj=qe((pCe,xj)=>{var ZX=X0(),QX=(t,e,i)=>ZX(t,e,"<",i);xj.exports=QX});var Sj=qe((gCe,Cj)=>{var wj=js(),eK=(t,e,i)=>(t=new wj(t,i),e=new wj(e,i),t.intersects(e,i));Cj.exports=eK});var Ij=qe((_Ce,Ej)=>{var tK=tg(),iK=Hs();Ej.exports=(t,e,i)=>{let r=[],n=null,s=null,o=t.sort((u,d)=>iK(u,d,i));for(let u of o)tK(u,e,i)?(s=u,n||(n=u)):(s&&r.push([n,s]),s=null,n=null);n&&r.push([n,null]);let a=[];for(let[u,d]of r)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var Lj=qe((vCe,Rj)=>{var Mj=js(),UE=Qp(),{ANY:qE}=UE,ig=tg(),VE=Hs(),rK=(t,e,i={})=>{if(t===e)return!0;t=new Mj(t,i),e=new Mj(e,i);let r=!1;e:for(let n of t.set){for(let s of e.set){let o=sK(n,s,i);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},nK=[new UE(">=0.0.0-0")],kj=[new UE(">=0.0.0")],sK=(t,e,i)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qE){if(e.length===1&&e[0].semver===qE)return!0;i.includePrerelease?t=nK:t=kj}if(e.length===1&&e[0].semver===qE){if(i.includePrerelease)return!0;e=kj}let r=new Set,n,s;for(let h of t)h.operator===">"||h.operator===">="?n=Tj(n,h,i):h.operator==="<"||h.operator==="<="?s=Aj(s,h,i):r.add(h.semver);if(r.size>1)return null;let o;if(n&&s){if(o=VE(n.semver,s.semver,i),o>0)return null;if(o===0&&(n.operator!==">="||s.operator!=="<="))return null}for(let h of r){if(n&&!ig(h,String(n),i)||s&&!ig(h,String(s),i))return null;for(let m of e)if(!ig(h,String(m),i))return!1;return!0}let a,l,c,u,d=s&&!i.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=n&&!i.includePrerelease&&n.semver.prerelease.length?n.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let h of e){if(u=u||h.operator===">"||h.operator===">=",c=c||h.operator==="<"||h.operator==="<=",n){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(a=Tj(n,h,i),a===h&&a!==n)return!1}else if(n.operator===">="&&!ig(n.semver,String(h),i))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=Aj(s,h,i),l===h&&l!==s)return!1}else if(s.operator==="<="&&!ig(s.semver,String(h),i))return!1}if(!h.operator&&(s||n)&&o!==0)return!1}return!(n&&c&&!s&&o!==0||s&&u&&!n&&o!==0||f||d)},Tj=(t,e,i)=>{if(!t)return e;let r=VE(t.semver,e.semver,i);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},Aj=(t,e,i)=>{if(!t)return e;let r=VE(t.semver,e.semver,i);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};Rj.exports=rK});var YE=qe((bCe,Oj)=>{var GE=kf(),Nj=Kp(),oK=Zr(),Dj=OE(),aK=Hd(),lK=oH(),cK=lH(),dK=uH(),uK=mH(),hK=gH(),fK=vH(),mK=xH(),pK=wH(),gK=Hs(),_K=IH(),vK=kH(),bK=W0(),xK=LH(),yK=DH(),wK=Zp(),CK=q0(),SK=zE(),EK=PE(),IK=U0(),MK=V0(),kK=BE(),TK=WH(),AK=Qp(),RK=js(),LK=tg(),NK=nj(),DK=oj(),OK=lj(),zK=uj(),PK=fj(),BK=X0(),HK=bj(),jK=yj(),FK=Sj(),$K=Ij(),WK=Lj();Oj.exports={parse:aK,valid:lK,clean:cK,inc:dK,diff:uK,major:hK,minor:fK,patch:mK,prerelease:pK,compare:gK,rcompare:_K,compareLoose:vK,compareBuild:bK,sort:xK,rsort:yK,gt:wK,lt:CK,eq:SK,neq:EK,gte:IK,lte:MK,cmp:kK,coerce:TK,Comparator:AK,Range:RK,satisfies:LK,toComparators:NK,maxSatisfying:DK,minSatisfying:OK,minVersion:zK,validRange:PK,outside:BK,gtr:HK,ltr:jK,intersects:FK,simplifyRange:$K,subset:WK,SemVer:oK,re:GE.re,src:GE.src,tokens:GE.t,SEMVER_SPEC_VERSION:Nj.SEMVER_SPEC_VERSION,RELEASE_TYPES:Nj.RELEASE_TYPES,compareIdentifiers:Dj.compareIdentifiers,rcompareIdentifiers:Dj.rcompareIdentifiers}});var zj,K0,Pj=F(()=>{zj=H(YE()),K0=class{constructor(){this._cache=Object.create(null)}set(e,i,r){if(e in this._cache||(this._cache[e]=Object.create(null)),!(i in this._cache[e]))this._cache[e][i]=r;else throw`Version ${i} of key ${e} already registered.`}get(e,i){if(e in this._cache){let r=this._cache[e],n=(0,zj.maxSatisfying)(Object.keys(r),i);if(n!==null)return r[n]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}}});var Hj,Bj,rg,ng,sg,XE=F(()=>{Li();UB();gs();Hj=H(YE());Pj();Bj="application/vnd.jupyter.widget-state+json",rg=class extends B0{constructor(e){super(),this._handleCommOpen=async(i,r)=>{let n=new If.services.Comm(i);await this.handle_comm_open(n,r)},this._restored=new Te(this),this._restoredStatus=!1,this._kernelRestoreInProgress=!1,this._isDisposed=!1,this._registry=new K0,this._modelsSync=new Map,this._onUnhandledIOPubMessage=new Te(this),this._rendermime=e}callbacks(e){return{iopub:{output:i=>{this._onUnhandledIOPubMessage.emit(i)}}}}_handleKernelChanged({oldValue:e,newValue:i}){e&&e.removeCommTarget(this.comm_target_name,this._handleCommOpen),i&&i.registerCommTarget(this.comm_target_name,this._handleCommOpen)}disconnect(){super.disconnect(),this._restoredStatus=!1}async _loadFromKernel(){var e;if(!this.kernel)throw new Error("Kernel not set");if(((e=this.kernel)===null||e===void 0?void 0:e.handleComms)!==!1)return super._loadFromKernel()}async _create_comm(e,i,r,n,s){let o=this.kernel;if(!o)throw new Error("No current kernel");let a=o.createComm(e,i);return(r||n)&&a.open(r,n,s),new If.services.Comm(a)}async _get_comm_info(){let e=this.kernel;if(!e)throw new Error("No current kernel");let i=await e.requestCommInfo({target_name:this.comm_target_name});return i.content.status==="ok"?i.content.comms:{}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._commRegistration&&this._commRegistration.dispose())}async resolveUrl(e){return e}async loadClass(e,i,r){(i==="@jupyter-widgets/base"||i==="@jupyter-widgets/controls")&&(0,Hj.valid)(r)&&(r=`^${r}`);let n=this._registry.getAllVersions(i);if(!n)throw new Error(`No version of module ${i} is registered`);let s=this._registry.get(i,r);if(!s){let l=Object.keys(n);throw new Error(`Module ${i}, version ${r} is not registered, however,         ${l.join(",")} ${l.length>1?"are":"is"}`)}let o;typeof s=="function"?o=await s():o=await s;let a=o[e];if(!a)throw new Error(`Class ${e} not found in module ${i}`);return a}get rendermime(){return this._rendermime}get restored(){return this._restored}get restoredStatus(){return this._restoredStatus}get onUnhandledIOPubMessage(){return this._onUnhandledIOPubMessage}register(e){this._registry.set(e.name,e.version,e.exports)}register_model(e,i){super.register_model(e,i),i.then(r=>{this._modelsSync.set(e,r),r.once("comm:close",()=>{this._modelsSync.delete(e)})})}async clear_state(){await super.clear_state(),this._modelsSync=new Map}get_state_sync(e={}){let i=[];for(let r of this._modelsSync.values())r.comm_live&&i.push(r);return LE(i,e)}},ng=class extends rg{constructor(e,i){super(i),this._kernel=e,e.statusChanged.connect((r,n)=>{this._handleKernelStatusChange(n)}),e.connectionStatusChanged.connect((r,n)=>{this._handleKernelConnectionStatusChange(n)}),this._handleKernelChanged({name:"kernel",oldValue:null,newValue:e}),this.restoreWidgets()}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets())}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(){try{this._kernelRestoreInProgress=!0,await this._loadFromKernel(),this._restoredStatus=!0,this._restored.emit()}catch{}this._kernelRestoreInProgress=!1}dispose(){this.isDisposed||(this._kernel=null,super.dispose())}get kernel(){return this._kernel}},sg=class extends rg{constructor(e,i,r){var n,s;super(i),this._context=e,e.sessionContext.kernelChanged.connect((o,a)=>{this._handleKernelChanged(a)}),e.sessionContext.statusChanged.connect((o,a)=>{this._handleKernelStatusChange(a)}),e.sessionContext.connectionStatusChanged.connect((o,a)=>{this._handleKernelConnectionStatusChange(a)}),!((n=e.sessionContext.session)===null||n===void 0)&&n.kernel&&this._handleKernelChanged({name:"kernel",oldValue:null,newValue:(s=e.sessionContext.session)===null||s===void 0?void 0:s.kernel}),this.restoreWidgets(this._context.model),this._settings=r,e.saveState.connect((o,a)=>{a==="started"&&r.saveState&&this._saveState()})}_saveState(){let e=this.get_state_sync({drop_defaults:!0});this._context.model.setMetadata?this._context.model.setMetadata("widgets",{"application/vnd.jupyter.widget-state+json":e}):this._context.model.metadata.set("widgets",{"application/vnd.jupyter.widget-state+json":e})}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets(this._context.model,{loadKernel:!0,loadNotebook:!1}))}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(e,{loadKernel:i,loadNotebook:r}={loadKernel:!0,loadNotebook:!0}){try{if(await this.context.sessionContext.ready,i)try{this._kernelRestoreInProgress=!0,await this._loadFromKernel()}finally{this._kernelRestoreInProgress=!1}r&&await this._loadFromNotebook(e),this._restoredStatus=!0,this._restored.emit()}catch{}}async _loadFromNotebook(e){let i=e.getMetadata?e.getMetadata("widgets"):e.metadata.get("widgets");if(i&&i[Bj]){let r=i[Bj];r=this.filterExistingModelState(r),await this.set_state(r)}}dispose(){this.isDisposed||(this._context=null,super.dispose())}async resolveUrl(e){let i=await this.context.urlResolver.resolveUrl(e);return this.context.urlResolver.getDownloadUrl(i)}get context(){return this._context}get kernel(){var e,i,r;return(r=(i=(e=this._context.sessionContext)===null||e===void 0?void 0:e.session)===null||i===void 0?void 0:i.kernel)!==null&&r!==void 0?r:null}register_model(e,i){super.register_model(e,i),this.setDirty()}async clear_state(){await super.clear_state(),this.setDirty()}setDirty(){this._settings.saveState&&(this._context.model.dirty=!0)}}});var J0,Z0,Q0,jj=F(()=>{Li();J0="1.0.0",Z0=class extends Ps{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:J0,_view_module_version:J0})}},Q0=class extends Tt{}});var Fj=F(()=>{jj()});var Rf={};Oc(Rf,{OUTPUT_WIDGET_VERSION:()=>UK,OutputModel:()=>KE,OutputView:()=>JE});var $j,UK,KE,JE,Wj=F(()=>{Fj();Li();XE();HS();$j=H(Pd()),UK=J0,KE=class extends Z0{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,i){super.initialize(e,i),this._outputs=new Vo({trusted:!0}),this._msgHook=r=>(this.add(r),!1),this.widget_manager instanceof sg&&this.widget_manager.context.sessionContext.kernelChanged.connect((r,n)=>{this._handleKernelChanged(n)}),this.listenTo(this,"change:msg_id",this.reset_msg_id),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}_handleKernelChanged({oldValue:e}){let i=this.get("msg_id");i&&e&&(e.removeMessageHook(i,this._msgHook),this.set("msg_id",null))}reset_msg_id(){let e=this.widget_manager.kernel,i=this.get("msg_id"),r=this.previous("msg_id");r&&e&&e.removeMessageHook(r,this._msgHook),i&&e&&e.registerMessageHook(i,this._msgHook)}add(e){let i=e.header.msg_type;switch(i){case"execute_result":case"display_data":case"stream":case"error":{let r=e.content;r.output_type=i,this._outputs.add(r);break}case"clear_output":this.clear_output(e.content.wait);break;default:break}this.set("outputs",this._outputs.toJSON(),{newMessage:!0}),this.save_changes()}clear_output(e=!1){this._outputs.clear(e)}get outputs(){return this._outputs}setOutputs(e,i,r){r&&r.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}},JE=class extends Q0{_createElement(e){return this.luminoWidget=new Qo({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,$j.default)(this.luminoWidget.node)}render(){super.render(),this._outputView=new Zn({rendermime:this.model.widget_manager.rendermime,contentFactory:Zn.defaultContentFactory,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}});var Ni,Lf=F(()=>{Ni="2.0.0"});var qj=F(()=>{Wj();XE();v2()});function ZE(t,e){e!==void 0&&(t.textContent=e),window.MathJax!==void 0&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}function QE(t){let e=document.createElement("div");return e.textContent=t,e.innerHTML}function VK(t,e){return function(r){throw e&&console.error(new Error(t)),r}}var Fs=F(()=>{Li()});var Di,Nf,ii,eI,tI,go=F(()=>{Li();Fs();Lf();Di=class extends _c{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};Di.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};Nf=class extends Ps{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Ni,_model_module_version:Ni,description:"",description_allow_html:!1})}},ii=class extends Tt{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,i){this.displayed.then(()=>{var r,n,s;if(!((n=(r=window.MathJax)===null||r===void 0?void 0:r.Hub)===null||n===void 0)&&n.Queue)return ZE(e,i);let a=(s=this.model.widget_manager._rendermime)===null||s===void 0?void 0:s.latexTypesetter;a&&(i!==void 0&&(e.textContent=i),a.typeset(e))})}updateDescription(){let e=this.model.get("description");e.length===0?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}},eI=class extends Nf{},tI=class extends ii{}});var og,ri,ci,mr=F(()=>{Li();go();Lf();og=class extends zs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Ni,_model_module_version:Ni})}},ri=class extends Ps{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Ni,_model_module_version:Ni})}},ci=class extends Nf{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:Ni,_model_module_version:Ni})}}});var ag,iI,Vj=F(()=>{Li();mr();ag=class extends og{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,i){super.initialize(e,i),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,i,r,n){if(!this._updating){this._updating=!0;try{r&&(r.set(n,e.get(i)),r.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)}),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}};ag.serializers=Object.assign(Object.assign({},og.serializers),{target:{deserialize:is},source:{deserialize:is}});iI=class extends ag{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)})}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}});var ex,tx,lg,rI,nI,sI,Fd,oI,aI,Gj=F(()=>{Li();mr();go();ex=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}};ex.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{background:{selector:"",attribute:"background",default:null}});tx=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}};tx.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});lg=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}},rI=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}},nI=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(this.checkboxLabel==null)return;let e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){let e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;let e=this.model.get("tabbable");e===!0?this.checkbox.setAttribute("tabIndex","0"):e===!1?this.checkbox.setAttribute("tabIndex","-1"):e===null&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){let e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),(e===void 0||e.updated_view!=this)&&(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){e.do=="focus"?this.checkbox.focus():e.do=="blur"&&this.checkbox.blur()}},sI=class extends lg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}},Fd=class extends Tt{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(Fd.class_map,"button_style")}set_button_style(){this.set_mapped_classes(Fd.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),e===void 0||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));let i=this.model.get("description"),r=this.model.get("icon");if(i.trim().length===0&&r.trim().length===0)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",r.trim().length){let n=document.createElement("i");this.el.appendChild(n),n.classList.add("fa"),n.classList.add("fa-"+r)}this.el.appendChild(document.createTextNode(i))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();let i=this.model.get("value");this.model.set("value",!i,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}};Fd.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};oI=class extends lg{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}},aI=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}});var ix,lI,$d,Yj=F(()=>{Li();mr();Lf();ix=class extends _c{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};ix.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};lI=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}},$d=class extends Tt{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();let e=this.model.get("tooltip"),i=this.model.get("description"),r=this.model.get("icon");if(this.el.setAttribute("title",e??i),i.length||r.length){if(this.el.textContent="",r.length){let n=document.createElement("i");n.classList.add("fa"),n.classList.add(...r.split(/[\s]+/).filter(Boolean).map(s=>`fa-${s}`)),i.length===0&&n.classList.add("center"),this.el.appendChild(n)}this.el.appendChild(document.createTextNode(i))}return super.update()}update_button_style(){this.update_mapped_classes($d.class_map,"button_style")}set_button_style(){this.set_mapped_classes($d.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}};$d.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}});function GK(t){var e;return typeof t.iter=="function"?e=t.iter():e=new YK(t),e}function Kj(t,e){for(var i=0,r=GK(t),n;(n=r.next())!==void 0;)if(e(n,i++)===!1)return}var Pn,YK,iSe,rSe,nSe,sSe,oSe,aSe,lSe,cSe,dSe,uSe,cI,hSe,fSe,mSe,Xj,pSe,gSe,Df=F(()=>{(function(t){function e(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=I.length;if(P===0)return-1;T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);var Y;R<T?Y=R+1+(P-T):Y=R-T+1;for(var re=0;re<Y;++re){var de=(T+re)%P;if(I[de]===E)return de}return-1}t.firstIndexOf=e;function i(I,E,T,R){T===void 0&&(T=-1),R===void 0&&(R=0);var P=I.length;if(P===0)return-1;T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);var Y;T<R?Y=T+1+(P-R):Y=T-R+1;for(var re=0;re<Y;++re){var de=(T-re+P)%P;if(I[de]===E)return de}return-1}t.lastIndexOf=i;function r(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=I.length;if(P===0)return-1;T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);var Y;R<T?Y=R+1+(P-T):Y=R-T+1;for(var re=0;re<Y;++re){var de=(T+re)%P;if(E(I[de],de))return de}return-1}t.findFirstIndex=r;function n(I,E,T,R){T===void 0&&(T=-1),R===void 0&&(R=0);var P=I.length;if(P===0)return-1;T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);var Y;T<R?Y=T+1+(P-R):Y=T-R+1;for(var re=0;re<Y;++re){var de=(T-re+P)%P;if(E(I[de],de))return de}return-1}t.findLastIndex=n;function s(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=r(I,E,T,R);return P!==-1?I[P]:void 0}t.findFirstValue=s;function o(I,E,T,R){T===void 0&&(T=-1),R===void 0&&(R=0);var P=n(I,E,T,R);return P!==-1?I[P]:void 0}t.findLastValue=o;function a(I,E,T,R,P){R===void 0&&(R=0),P===void 0&&(P=-1);var Y=I.length;if(Y===0)return 0;R<0?R=Math.max(0,R+Y):R=Math.min(R,Y-1),P<0?P=Math.max(0,P+Y):P=Math.min(P,Y-1);for(var re=R,de=P-R+1;de>0;){var te=de>>1,G=re+te;T(I[G],E)<0?(re=G+1,de-=te+1):de=te}return re}t.lowerBound=a;function l(I,E,T,R,P){R===void 0&&(R=0),P===void 0&&(P=-1);var Y=I.length;if(Y===0)return 0;R<0?R=Math.max(0,R+Y):R=Math.min(R,Y-1),P<0?P=Math.max(0,P+Y):P=Math.min(P,Y-1);for(var re=R,de=P-R+1;de>0;){var te=de>>1,G=re+te;T(I[G],E)>0?de=te:(re=G+1,de-=te+1)}return re}t.upperBound=l;function c(I,E,T){if(I===E)return!0;if(I.length!==E.length)return!1;for(var R=0,P=I.length;R<P;++R)if(T?!T(I[R],E[R]):I[R]!==E[R])return!1;return!0}t.shallowEqual=c;function u(I,E){E===void 0&&(E={});var T=E.start,R=E.stop,P=E.step;if(P===void 0&&(P=1),P===0)throw new Error("Slice `step` cannot be zero.");var Y=I.length;T===void 0?T=P<0?Y-1:0:T<0?T=Math.max(T+Y,P<0?-1:0):T>=Y&&(T=P<0?Y-1:Y),R===void 0?R=P<0?-1:Y:R<0?R=Math.max(R+Y,P<0?-1:0):R>=Y&&(R=P<0?Y-1:Y);var re;P<0&&R>=T||P>0&&T>=R?re=0:P<0?re=Math.floor((R-T+1)/P+1):re=Math.floor((R-T-1)/P+1);for(var de=[],te=0;te<re;++te)de[te]=I[T+te*P];return de}t.slice=u;function d(I,E,T){var R=I.length;if(!(R<=1)&&(E<0?E=Math.max(0,E+R):E=Math.min(E,R-1),T<0?T=Math.max(0,T+R):T=Math.min(T,R-1),E!==T)){for(var P=I[E],Y=E<T?1:-1,re=E;re!==T;re+=Y)I[re]=I[re+Y];I[T]=P}}t.move=d;function f(I,E,T){E===void 0&&(E=0),T===void 0&&(T=-1);var R=I.length;if(!(R<=1))for(E<0?E=Math.max(0,E+R):E=Math.min(E,R-1),T<0?T=Math.max(0,T+R):T=Math.min(T,R-1);E<T;){var P=I[E],Y=I[T];I[E++]=Y,I[T--]=P}}t.reverse=f;function h(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=I.length;if(!(P<=1)&&(T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1),!(T>=R))){var Y=R-T+1;if(E>0?E=E%Y:E<0&&(E=(E%Y+Y)%Y),E!==0){var re=T+E;f(I,T,re-1),f(I,re,R),f(I,T,R)}}}t.rotate=h;function m(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=I.length;if(P!==0){T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);var Y;R<T?Y=R+1+(P-T):Y=R-T+1;for(var re=0;re<Y;++re)I[(T+re)%P]=E}}t.fill=m;function p(I,E,T){var R=I.length;E<0?E=Math.max(0,E+R):E=Math.min(E,R);for(var P=R;P>E;--P)I[P]=I[P-1];I[E]=T}t.insert=p;function _(I,E){var T=I.length;if(E<0&&(E+=T),!(E<0||E>=T)){for(var R=I[E],P=E+1;P<T;++P)I[P-1]=I[P];return I.length=T-1,R}}t.removeAt=_;function x(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=e(I,E,T,R);return P!==-1&&_(I,P),P}t.removeFirstOf=x;function y(I,E,T,R){T===void 0&&(T=-1),R===void 0&&(R=0);var P=i(I,E,T,R);return P!==-1&&_(I,P),P}t.removeLastOf=y;function C(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=I.length;if(P===0)return 0;T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);for(var Y=0,re=0;re<P;++re)T<=R&&re>=T&&re<=R&&I[re]===E||R<T&&(re<=R||re>=T)&&I[re]===E?Y++:Y>0&&(I[re-Y]=I[re]);return Y>0&&(I.length=P-Y),Y}t.removeAllOf=C;function k(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P,Y=r(I,E,T,R);return Y!==-1&&(P=_(I,Y)),{index:Y,value:P}}t.removeFirstWhere=k;function M(I,E,T,R){T===void 0&&(T=-1),R===void 0&&(R=0);var P,Y=n(I,E,T,R);return Y!==-1&&(P=_(I,Y)),{index:Y,value:P}}t.removeLastWhere=M;function v(I,E,T,R){T===void 0&&(T=0),R===void 0&&(R=-1);var P=I.length;if(P===0)return 0;T<0?T=Math.max(0,T+P):T=Math.min(T,P-1),R<0?R=Math.max(0,R+P):R=Math.min(R,P-1);for(var Y=0,re=0;re<P;++re)T<=R&&re>=T&&re<=R&&E(I[re],re)||R<T&&(re<=R||re>=T)&&E(I[re],re)?Y++:Y>0&&(I[re-Y]=I[re]);return Y>0&&(I.length=P-Y),Y}t.removeAllWhere=v})(Pn||(Pn={}));YK=function(){function t(e){this._index=0,this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}(),iSe=function(){function t(e,i){i===void 0&&(i=Object.keys(e)),this._index=0,this._source=e,this._keys=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}},t}(),rSe=function(){function t(e,i){i===void 0&&(i=Object.keys(e)),this._index=0,this._source=e,this._keys=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}},t}(),nSe=function(){function t(e,i){i===void 0&&(i=Object.keys(e)),this._index=0,this._source=e,this._keys=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}},t}(),sSe=function(){function t(e){this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)},t}(),oSe=function(){function t(e){this._cloned=!1,this._source=e,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(this._active===void 0){var e=this._source.next();if(e===void 0)return;this._active=this._cloned?e.clone():e}var i=this._active.next();return i!==void 0?i:(this._active=void 0,this.next())},t}(),aSe=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}(),lSe=function(){function t(e,i){this._source=e,this._index=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var e=this._source.next();if(e!==void 0)return[this._index++,e]},t}(),cSe=function(){function t(e,i){this._index=0,this._source=e,this._fn=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){for(var e=this._fn,i=this._source,r;(r=i.next())!==void 0;)if(e(r,this._index++))return r},t}(),dSe=function(){function t(e,i){this._index=0,this._source=e,this._fn=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var e=this._source.next();if(e!==void 0)return this._fn.call(void 0,e,this._index++)},t}(),uSe=function(){function t(e,i,r){this._index=0,this._start=e,this._stop=i,this._step=r,this._length=cI.rangeLength(e,i,r)}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},t}();(function(t){function e(i,r,n){return n===0?1/0:i>r&&n>0||i<r&&n<0?0:Math.ceil((r-i)/n)}t.rangeLength=e})(cI||(cI={}));hSe=function(){function t(e,i){this._value=e,this._count=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}(),fSe=function(){function t(e){this._source=e,this._index=e.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}(),mSe=function(){function t(e,i){this._source=e,this._step=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var e=this._source.next(),i=this._step-1;i>0;--i)this._source.next();return e},t}();(function(t){function e(o,a,l){l===void 0&&(l=0);for(var c=new Array(a.length),u=0,d=l,f=a.length;u<f;++u,++d){if(d=o.indexOf(a[u],d),d===-1)return null;c[u]=d}return c}t.findIndices=e;function i(o,a,l){l===void 0&&(l=0);var c=e(o,a,l);if(!c)return null;for(var u=0,d=0,f=c.length;d<f;++d){var h=c[d]-l;u+=h*h}return{score:u,indices:c}}t.matchSumOfSquares=i;function r(o,a,l){l===void 0&&(l=0);var c=e(o,a,l);if(!c)return null;for(var u=0,d=l-1,f=0,h=c.length;f<h;++f){var m=c[f];u+=m-d-1,d=m}return{score:u,indices:c}}t.matchSumOfDeltas=r;function n(o,a,l){for(var c=[],u=0,d=0,f=a.length;u<f;){for(var h=a[u],m=a[u];++u<f&&a[u]===m+1;)m++;d<h&&c.push(o.slice(d,h)),h<m+1&&c.push(l(o.slice(h,m+1))),d=m+1}return d<o.length&&c.push(o.slice(d)),c}t.highlight=n;function s(o,a){return o<a?-1:o>a?1:0}t.cmp=s})(Xj||(Xj={}));pSe=function(){function t(e,i){this._source=e,this._count=i}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(e!==void 0)return this._count--,e}},t}(),gSe=function(){function t(e){this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map(function(e){return e.clone()}))},t.prototype.next=function(){for(var e=new Array(this._source.length),i=0,r=this._source.length;i<r;++i){var n=this._source[i].next();if(n===void 0)return;e[i]=n}return e},t}()});var Jj,ol,dI,uI,$s,hI,fI,mI,pI,gI=F(()=>{Li();mr();Df();d_();Pc();Jj=H(Pd()),ol=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}};ol.serializers=Object.assign(Object.assign({},ri.serializers),{children:{deserialize:is}});dI=class extends ol{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}},uI=class extends ol{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}},$s=class extends Tt{_createElement(e){return this.luminoWidget=new Qo({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,Jj.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new po(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")).then(i=>{i.forEach(r=>{Ao.postMessage(r.luminoWidget,or.ResizeMessage.UnknownSize)})})}update_box_style(){this.update_mapped_classes($s.class_map,"box_style")}set_box_style(){this.set_mapped_classes($s.class_map,"box_style")}add_child_model(e){let i=new or;return this.luminoWidget.addWidget(i),this.create_child_view(e).then(r=>{let n=Pn.firstIndexOf(this.luminoWidget.widgets,i);return this.luminoWidget.insertWidget(n,r.luminoWidget),i.dispose(),r}).catch(Xr("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}};$s.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};hI=class extends $s{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}},fI=class extends $s{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}},mI=class extends $s{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}},pI=class extends ol{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}});var rx,_I,Zj=F(()=>{Li();mr();rx=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}};rx.serializers=Object.assign(Object.assign({},ri.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});_I=class extends Tt{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e,i=this.model.get("format"),r=this.model.get("value");if(i!=="url"){let a=new Blob([r],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(a)}else e=new TextDecoder("utf-8").decode(r.buffer);let n=this.el.src;this.el.src=e,n&&URL.revokeObjectURL(n);let s=this.model.get("width");s!==void 0&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");let o=this.model.get("height");return o!==void 0&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}});var nx,vI,Qj=F(()=>{Li();mr();nx=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}};nx.serializers=Object.assign(Object.assign({},ri.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});vI=class extends Tt{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e,i=this.model.get("format"),r=this.model.get("value");if(i!=="url"){let a=new Blob([r],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(a)}else e=new TextDecoder("utf-8").decode(r.buffer);let n=this.el.src;this.el.src=e,n&&URL.revokeObjectURL(n);let s=this.model.get("width");s!==void 0&&s.length>0?this.el.setAttribute("width",s):this.el.removeAttribute("width");let o=this.model.get("height");return o!==void 0&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}});var sx,bI,eF=F(()=>{Li();mr();sx=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}};sx.serializers=Object.assign(Object.assign({},ri.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});bI=class extends Tt{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e,i=this.model.get("format"),r=this.model.get("value");if(i!=="url"){let s=new Blob([r],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(s)}else e=new TextDecoder("utf-8").decode(r.buffer);let n=this.el.src;return this.el.src=e,n&&URL.revokeObjectURL(n),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}});function XK(t){return tF[t.toLowerCase()]||KK(t)}function KK(t){return t.length===7?t:"#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)}var tF,xI,yI,iF=F(()=>{mr();go();Fs();tF={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},xI=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}},yI=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=Xt(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(e===void 0||e.updated_view!=this){let i=this.model.get("disabled");this._textbox.disabled=i,this._colorpicker.disabled=i}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){let e=this.model.get("value");this._colorpicker.value=XK(e),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){let e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,i){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||tF[e.toLowerCase()]?e:i}}});function rF(t){return t===null?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate()}}function nF(t){if(t===null)return null;{let e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(0,0,0,0),e}}var ox,wI,sF=F(()=>{go();mr();Fs();ox=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}};ox.serializers=Object.assign(Object.assign({},ci.serializers),{value:{serialize:rF,deserialize:nF}});wI=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=Xt(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){let e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}});function lx(t){if(t===null)return null;{let e=JK.exec(t);return e===null?null:{hours:Math.min(23,parseInt(e[1],10)),minutes:Math.min(59,parseInt(e[2],10)),seconds:e[4]?Math.min(59,parseInt(e[4],10)):0,milliseconds:e[6]?parseInt(e[6],10):0}}}function oF(t){if(t===null)return null;{let e=[`${t.hours.toString().padStart(2,"0")}:${t.minutes.toString().padStart(2,"0")}`];return(t.seconds>0||t.milliseconds>0)&&(e.push(`:${t.seconds.toString().padStart(2,"0")}`),t.milliseconds>0&&e.push(`.${t.milliseconds.toString().padStart(3,"0")}`)),e.join("")}}var JK,ax,al,CI,SI=F(()=>{Fs();go();mr();JK=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;ax={serialize:lx,deserialize:oF},al=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:al.model_name,_view_name:al.view_name,value:null,disabled:!1,min:null,max:null,step:60})}};al.serializers=Object.assign(Object.assign({},ci.serializers),{value:ax,min:ax,max:ax});al.model_name="TimeModel";al.view_name="TimeView";CI=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=Xt(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,i){return(i===void 0||i.updated_view!==this)&&(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,i,r){(r===void 0||r.updated_view!==this)&&(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}});function aF(t){return t===null?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),hours:t.getUTCHours(),minutes:t.getUTCMinutes(),seconds:t.getUTCSeconds(),milliseconds:t.getUTCMilliseconds()}}function lF(t){if(t===null)return null;{let e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(t.hours,t.minutes,t.seconds,t.milliseconds),e}}function cF(t){return t===null?null:{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}}function dF(t){if(t===null)return null;{let e=new Date;return e.setFullYear(t.year,t.month,t.date),e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),e}}var cx,cg,EI,vc,dx,ux,uF=F(()=>{Fs();go();mr();SI();cx={serialize:aF,deserialize:lF},cg=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}};cg.serializers=Object.assign(Object.assign({},ci.serializers),{value:cx,min:cx,max:cx});EI=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");let e=document.createElement("input");e.type="datetime-local",e.type==="text"?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=Xt(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=Xt(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=Xt(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,i){if(i===void 0||i.updated_view!==this){let r=this.model.get("min"),n=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=vc.dt_as_dt_string(r),this._datetimepicker.max=vc.dt_as_dt_string(n)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=vc.dt_as_date_string(r),this._datepicker.max=vc.dt_as_date_string(n),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,i,r){if(r===void 0||r.updated_view!==this){let n=this.model.get("value");this._datetimepicker?this._datetimepicker.value=vc.dt_as_dt_string(n):(this._datepicker.valueAsDate=n,this._timepicker.value=vc.dt_as_time_string(n))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){let e=this._datetimepicker.value,i=e?new Date(e):null;i&&isNaN(i.valueOf())&&(i=null),this.model.set("value",i,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){let e=this._datepicker.valueAsDate,i=lx(this._timepicker.value);e!==null&&i!==null&&e.setHours(i.hours,i.minutes,i.seconds,i.milliseconds),this.model.set("value",i!==null&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some(i=>i&&i.validity.badInput)&&(this.model.set("value",null),this.touch())}};(function(t){function e(n){if(n===null)return"";let s=[];return s.push(`${n.getFullYear().toString().padStart(4,"0")}`),s.push(`-${(n.getMonth()+1).toString().padStart(2,"0")}`),s.push(`-${n.getDate().toString().padStart(2,"0")}`),s.push(`T${n.getHours().toString().padStart(2,"0")}`),s.push(`:${n.getMinutes().toString().padStart(2,"0")}`),(n.getSeconds()>0||n.getMilliseconds()>0)&&(s.push(`:${n.getSeconds().toString().padStart(2,"0")}`),n.getMilliseconds()>0&&s.push(`.${n.getMilliseconds().toString().padStart(3,"0")}`)),s.join("")}t.dt_as_dt_string=e;function i(n){return n?e(n).split("T",2)[0]:""}t.dt_as_date_string=i;function r(n){return n?e(n).split("T",2)[1]:""}t.dt_as_time_string=r})(vc||(vc={}));dx={serialize:cF,deserialize:dF},ux=class extends cg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}};ux.serializers=Object.assign(Object.assign({},ci.serializers),{value:dx,min:dx,max:dx})});var fx=qe((hx,hF)=>{(function(t,e){typeof hx=="object"&&typeof hF<"u"?e(hx):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.noUiSlider={}))})(hx,function(t){"use strict";t.PipsMode=void 0,function($){$.Range="range",$.Steps="steps",$.Positions="positions",$.Count="count",$.Values="values"}(t.PipsMode||(t.PipsMode={})),t.PipsType=void 0,function($){$[$.None=-1]="None",$[$.NoValue=0]="NoValue",$[$.LargeValue=1]="LargeValue",$[$.SmallValue=2]="SmallValue"}(t.PipsType||(t.PipsType={}));function e($){return i($)&&typeof $.from=="function"}function i($){return typeof $=="object"&&typeof $.to=="function"}function r($){$.parentElement.removeChild($)}function n($){return $!=null}function s($){$.preventDefault()}function o($){return $.filter(function(O){return this[O]?!1:this[O]=!0},{})}function a($,O){return Math.round($/O)*O}function l($,O){var Me=$.getBoundingClientRect(),Ne=$.ownerDocument,Le=Ne.documentElement,nt=x(Ne);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(nt.x=0),O?Me.top+nt.y-Le.clientTop:Me.left+nt.x-Le.clientLeft}function c($){return typeof $=="number"&&!isNaN($)&&isFinite($)}function u($,O,Me){Me>0&&(m($,O),setTimeout(function(){p($,O)},Me))}function d($){return Math.max(Math.min($,100),0)}function f($){return Array.isArray($)?$:[$]}function h($){$=String($);var O=$.split(".");return O.length>1?O[1].length:0}function m($,O){$.classList&&!/\s/.test(O)?$.classList.add(O):$.className+=" "+O}function p($,O){$.classList&&!/\s/.test(O)?$.classList.remove(O):$.className=$.className.replace(new RegExp("(^|\\b)"+O.split(" ").join("|")+"(\\b|$)","gi")," ")}function _($,O){return $.classList?$.classList.contains(O):new RegExp("\\b"+O+"\\b").test($.className)}function x($){var O=window.pageXOffset!==void 0,Me=($.compatMode||"")==="CSS1Compat",Ne=O?window.pageXOffset:Me?$.documentElement.scrollLeft:$.body.scrollLeft,Le=O?window.pageYOffset:Me?$.documentElement.scrollTop:$.body.scrollTop;return{x:Ne,y:Le}}function y(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function C(){var $=!1;try{var O=Object.defineProperty({},"passive",{get:function(){$=!0}});window.addEventListener("test",null,O)}catch{}return $}function k(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function M($,O){return 100/(O-$)}function v($,O,Me){return O*100/($[Me+1]-$[Me])}function I($,O){return v($,$[0]<0?O+Math.abs($[0]):O-$[0],0)}function E($,O){return O*($[1]-$[0])/100+$[0]}function T($,O){for(var Me=1;$>=O[Me];)Me+=1;return Me}function R($,O,Me){if(Me>=$.slice(-1)[0])return 100;var Ne=T(Me,$),Le=$[Ne-1],nt=$[Ne],ot=O[Ne-1],Ct=O[Ne];return ot+I([Le,nt],Me)/M(ot,Ct)}function P($,O,Me){if(Me>=100)return $.slice(-1)[0];var Ne=T(Me,O),Le=$[Ne-1],nt=$[Ne],ot=O[Ne-1],Ct=O[Ne];return E([Le,nt],(Me-ot)*M(ot,Ct))}function Y($,O,Me,Ne){if(Ne===100)return Ne;var Le=T(Ne,$),nt=$[Le-1],ot=$[Le];return Me?Ne-nt>(ot-nt)/2?ot:nt:O[Le-1]?$[Le-1]+a(Ne-$[Le-1],O[Le-1]):Ne}var re=function(){function $(O,Me,Ne){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Ne||!1],this.xNumSteps=[!1],this.snap=Me;var Le,nt=[];for(Object.keys(O).forEach(function(ot){nt.push([f(O[ot]),ot])}),nt.sort(function(ot,Ct){return ot[0][0]-Ct[0][0]}),Le=0;Le<nt.length;Le++)this.handleEntryPoint(nt[Le][1],nt[Le][0]);for(this.xNumSteps=this.xSteps.slice(0),Le=0;Le<this.xNumSteps.length;Le++)this.handleStepPoint(Le,this.xNumSteps[Le])}return $.prototype.getDistance=function(O){var Me,Ne=[];for(Me=0;Me<this.xNumSteps.length-1;Me++){var Le=this.xNumSteps[Me];if(Le&&O/Le%1!==0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[Me]+"% range must be divisible by step.");Ne[Me]=v(this.xVal,O,Me)}return Ne},$.prototype.getAbsoluteDistance=function(O,Me,Ne){var Le=0;if(O<this.xPct[this.xPct.length-1])for(;O>this.xPct[Le+1];)Le++;else O===this.xPct[this.xPct.length-1]&&(Le=this.xPct.length-2);!Ne&&O===this.xPct[Le+1]&&Le++,Me===null&&(Me=[]);var nt,ot=1,Ct=Me[Le],lt=0,wi=0,rn=0,ui=0;for(Ne?nt=(O-this.xPct[Le])/(this.xPct[Le+1]-this.xPct[Le]):nt=(this.xPct[Le+1]-O)/(this.xPct[Le+1]-this.xPct[Le]);Ct>0;)lt=this.xPct[Le+1+ui]-this.xPct[Le+ui],Me[Le+ui]*ot+100-nt*100>100?(wi=lt*nt,ot=(Ct-100*nt)/Me[Le+ui],nt=1):(wi=Me[Le+ui]*lt/100*ot,ot=0),Ne?(rn=rn-wi,this.xPct.length+ui>=1&&ui--):(rn=rn+wi,this.xPct.length-ui>=1&&ui++),Ct=Me[Le+ui]*ot;return O+rn},$.prototype.toStepping=function(O){return O=R(this.xVal,this.xPct,O),O},$.prototype.fromStepping=function(O){return P(this.xVal,this.xPct,O)},$.prototype.getStep=function(O){return O=Y(this.xPct,this.xSteps,this.snap,O),O},$.prototype.getDefaultStep=function(O,Me,Ne){var Le=T(O,this.xPct);return(O===100||Me&&O===this.xPct[Le-1])&&(Le=Math.max(Le-1,1)),(this.xVal[Le]-this.xVal[Le-1])/Ne},$.prototype.getNearbySteps=function(O){var Me=T(O,this.xPct);return{stepBefore:{startValue:this.xVal[Me-2],step:this.xNumSteps[Me-2],highestStep:this.xHighestCompleteStep[Me-2]},thisStep:{startValue:this.xVal[Me-1],step:this.xNumSteps[Me-1],highestStep:this.xHighestCompleteStep[Me-1]},stepAfter:{startValue:this.xVal[Me],step:this.xNumSteps[Me],highestStep:this.xHighestCompleteStep[Me]}}},$.prototype.countStepDecimals=function(){var O=this.xNumSteps.map(h);return Math.max.apply(null,O)},$.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},$.prototype.convert=function(O){return this.getStep(this.toStepping(O))},$.prototype.handleEntryPoint=function(O,Me){var Ne;if(O==="min"?Ne=0:O==="max"?Ne=100:Ne=parseFloat(O),!c(Ne)||!c(Me[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Ne),this.xVal.push(Me[0]);var Le=Number(Me[1]);Ne?this.xSteps.push(isNaN(Le)?!1:Le):isNaN(Le)||(this.xSteps[0]=Le),this.xHighestCompleteStep.push(0)},$.prototype.handleStepPoint=function(O,Me){if(Me){if(this.xVal[O]===this.xVal[O+1]){this.xSteps[O]=this.xHighestCompleteStep[O]=this.xVal[O];return}this.xSteps[O]=v([this.xVal[O],this.xVal[O+1]],Me,0)/M(this.xPct[O],this.xPct[O+1]);var Ne=(this.xVal[O+1]-this.xVal[O])/this.xNumSteps[O],Le=Math.ceil(Number(Ne.toFixed(3))-1),nt=this.xVal[O]+this.xNumSteps[O]*Le;this.xHighestCompleteStep[O]=nt}},$}(),de={to:function($){return $===void 0?"":$.toFixed(2)},from:Number},te={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},G={tooltips:".__tooltips",aria:".__aria"};function X($,O){if(!c(O))throw new Error("noUiSlider: 'step' is not numeric.");$.singleStep=O}function Z($,O){if(!c(O))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");$.keyboardPageMultiplier=O}function ye($,O){if(!c(O))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");$.keyboardMultiplier=O}function ue($,O){if(!c(O))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");$.keyboardDefaultStep=O}function xe($,O){if(typeof O!="object"||Array.isArray(O))throw new Error("noUiSlider: 'range' is not an object.");if(O.min===void 0||O.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");$.spectrum=new re(O,$.snap||!1,$.singleStep)}function ke($,O){if(O=f(O),!Array.isArray(O)||!O.length)throw new Error("noUiSlider: 'start' option is incorrect.");$.handles=O.length,$.start=O}function We($,O){if(typeof O!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");$.snap=O}function Xe($,O){if(typeof O!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");$.animate=O}function Ze($,O){if(typeof O!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");$.animationDuration=O}function st($,O){var Me=[!1],Ne;if(O==="lower"?O=[!0,!1]:O==="upper"&&(O=[!1,!0]),O===!0||O===!1){for(Ne=1;Ne<$.handles;Ne++)Me.push(O);Me.push(!1)}else{if(!Array.isArray(O)||!O.length||O.length!==$.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");Me=O}$.connect=Me}function vt($,O){switch(O){case"horizontal":$.ort=0;break;case"vertical":$.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Dt($,O){if(!c(O))throw new Error("noUiSlider: 'margin' option must be numeric.");O!==0&&($.margin=$.spectrum.getDistance(O))}function Pt($,O){if(!c(O))throw new Error("noUiSlider: 'limit' option must be numeric.");if($.limit=$.spectrum.getDistance(O),!$.limit||$.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Wi($,O){var Me;if(!c(O)&&!Array.isArray(O))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(O)&&!(O.length===2||c(O[0])||c(O[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(O!==0){for(Array.isArray(O)||(O=[O,O]),$.padding=[$.spectrum.getDistance(O[0]),$.spectrum.getDistance(O[1])],Me=0;Me<$.spectrum.xNumSteps.length-1;Me++)if($.padding[0][Me]<0||$.padding[1][Me]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var Ne=O[0]+O[1],Le=$.spectrum.xVal[0],nt=$.spectrum.xVal[$.spectrum.xVal.length-1];if(Ne/(nt-Le)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function yi($,O){switch(O){case"ltr":$.dir=0;break;case"rtl":$.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function ir($,O){if(typeof O!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var Me=O.indexOf("tap")>=0,Ne=O.indexOf("drag")>=0,Le=O.indexOf("fixed")>=0,nt=O.indexOf("snap")>=0,ot=O.indexOf("hover")>=0,Ct=O.indexOf("unconstrained")>=0,lt=O.indexOf("drag-all")>=0;if(Le){if($.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Dt($,$.start[1]-$.start[0])}if(Ct&&($.margin||$.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");$.events={tap:Me||nt,drag:Ne,dragAll:lt,fixed:Le,snap:nt,hover:ot,unconstrained:Ct}}function A($,O){if(O!==!1)if(O===!0||i(O)){$.tooltips=[];for(var Me=0;Me<$.handles;Me++)$.tooltips.push(O)}else{if(O=f(O),O.length!==$.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");O.forEach(function(Ne){if(typeof Ne!="boolean"&&!i(Ne))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),$.tooltips=O}}function z($,O){if(O.length!==$.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");$.handleAttributes=O}function W($,O){if(!i(O))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");$.ariaFormat=O}function J($,O){if(!e(O))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");$.format=O}function le($,O){if(typeof O!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");$.keyboardSupport=O}function he($,O){$.documentElement=O}function Fe($,O){if(typeof O!="string"&&O!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");$.cssPrefix=O}function et($,O){if(typeof O!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof $.cssPrefix=="string"?($.cssClasses={},Object.keys(O).forEach(function(Me){$.cssClasses[Me]=$.cssPrefix+O[Me]})):$.cssClasses=O}function ft($){var O={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:de,format:de},Me={step:{r:!1,t:X},keyboardPageMultiplier:{r:!1,t:Z},keyboardMultiplier:{r:!1,t:ye},keyboardDefaultStep:{r:!1,t:ue},start:{r:!0,t:ke},connect:{r:!0,t:st},direction:{r:!0,t:yi},snap:{r:!1,t:We},animate:{r:!1,t:Xe},animationDuration:{r:!1,t:Ze},range:{r:!0,t:xe},orientation:{r:!1,t:vt},margin:{r:!1,t:Dt},limit:{r:!1,t:Pt},padding:{r:!1,t:Wi},behaviour:{r:!0,t:ir},ariaFormat:{r:!1,t:W},format:{r:!1,t:J},tooltips:{r:!1,t:A},keyboardSupport:{r:!0,t:le},documentElement:{r:!1,t:he},cssPrefix:{r:!0,t:Fe},cssClasses:{r:!0,t:et},handleAttributes:{r:!1,t:z}},Ne={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:te,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};$.format&&!$.ariaFormat&&($.ariaFormat=$.format),Object.keys(Me).forEach(function(lt){if(!n($[lt])&&Ne[lt]===void 0){if(Me[lt].r)throw new Error("noUiSlider: '"+lt+"' is required.");return}Me[lt].t(O,n($[lt])?$[lt]:Ne[lt])}),O.pips=$.pips;var Le=document.createElement("div"),nt=Le.style.msTransform!==void 0,ot=Le.style.transform!==void 0;O.transformRule=ot?"transform":nt?"msTransform":"webkitTransform";var Ct=[["left","top"],["right","bottom"]];return O.style=Ct[O.dir][O.ort],O}function ni($,O,Me){var Ne=y(),Le=k(),nt=Le&&C(),ot=$,Ct,lt,wi,rn,ui,Et=O.spectrum,cs=[],vi=[],zi=[],da=0,ds={},ua=$.ownerDocument,Ir=O.documentElement||ua.documentElement,rr=ua.body,em=ua.dir==="rtl"||O.ort===1?0:100;function Ys(V,ie){var se=ua.createElement("div");return ie&&m(se,ie),V.appendChild(se),se}function Vg(V,ie){var se=Ys(V,O.cssClasses.origin),Ee=Ys(se,O.cssClasses.handle);if(Ys(Ee,O.cssClasses.touchArea),Ee.setAttribute("data-handle",String(ie)),O.keyboardSupport&&(Ee.setAttribute("tabindex","0"),Ee.addEventListener("keydown",function($e){return om($e,ie)})),O.handleAttributes!==void 0){var He=O.handleAttributes[ie];Object.keys(He).forEach(function($e){Ee.setAttribute($e,He[$e])})}return Ee.setAttribute("role","slider"),Ee.setAttribute("aria-orientation",O.ort?"vertical":"horizontal"),ie===0?m(Ee,O.cssClasses.handleLower):ie===O.handles-1&&m(Ee,O.cssClasses.handleUpper),se}function tm(V,ie){return ie?Ys(V,O.cssClasses.connect):!1}function bl(V,ie){var se=Ys(ie,O.cssClasses.connects);lt=[],wi=[],wi.push(tm(se,V[0]));for(var Ee=0;Ee<O.handles;Ee++)lt.push(Vg(ie,Ee)),zi[Ee]=Ee,wi.push(tm(se,V[Ee+1]))}function xl(V){m(V,O.cssClasses.target),O.dir===0?m(V,O.cssClasses.ltr):m(V,O.cssClasses.rtl),O.ort===0?m(V,O.cssClasses.horizontal):m(V,O.cssClasses.vertical);var ie=getComputedStyle(V).direction;return ie==="rtl"?m(V,O.cssClasses.textDirectionRtl):m(V,O.cssClasses.textDirectionLtr),Ys(V,O.cssClasses.base)}function im(V,ie){return!O.tooltips||!O.tooltips[ie]?!1:Ys(V.firstChild,O.cssClasses.tooltip)}function Mc(){return ot.hasAttribute("disabled")}function rm(V){var ie=lt[V];return ie.hasAttribute("disabled")}function nm(){ui&&(yl("update"+G.tooltips),ui.forEach(function(V){V&&r(V)}),ui=null)}function Gg(){nm(),ui=lt.map(im),am("update"+G.tooltips,function(V,ie,se){if(!(!ui||!O.tooltips)&&ui[ie]!==!1){var Ee=V[ie];O.tooltips[ie]!==!0&&(Ee=O.tooltips[ie].to(se[ie])),ui[ie].innerHTML=Ee}})}function Yg(){yl("update"+G.aria),am("update"+G.aria,function(V,ie,se,Ee,He){zi.forEach(function($e){var Ke=lt[$e],tt=Tc(vi,$e,0,!0,!0,!0),Ut=Tc(vi,$e,100,!0,!0,!0),jt=He[$e],Lt=String(O.ariaFormat.to(se[$e]));tt=Et.fromStepping(tt).toFixed(1),Ut=Et.fromStepping(Ut).toFixed(1),jt=Et.fromStepping(jt).toFixed(1),Ke.children[0].setAttribute("aria-valuemin",tt),Ke.children[0].setAttribute("aria-valuemax",Ut),Ke.children[0].setAttribute("aria-valuenow",jt),Ke.children[0].setAttribute("aria-valuetext",Lt)})})}function by(V){if(V.mode===t.PipsMode.Range||V.mode===t.PipsMode.Steps)return Et.xVal;if(V.mode===t.PipsMode.Count){if(V.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var ie=V.values-1,se=100/ie,Ee=[];ie--;)Ee[ie]=ie*se;return Ee.push(100),Xg(Ee,V.stepped)}return V.mode===t.PipsMode.Positions?Xg(V.values,V.stepped):V.mode===t.PipsMode.Values?V.stepped?V.values.map(function(He){return Et.fromStepping(Et.getStep(Et.toStepping(He)))}):V.values:[]}function Xg(V,ie){return V.map(function(se){return Et.fromStepping(ie?Et.getStep(se):se)})}function Kg(V){function ie(jt,Lt){return Number((jt+Lt).toFixed(7))}var se=by(V),Ee={},He=Et.xVal[0],$e=Et.xVal[Et.xVal.length-1],Ke=!1,tt=!1,Ut=0;return se=o(se.slice().sort(function(jt,Lt){return jt-Lt})),se[0]!==He&&(se.unshift(He),Ke=!0),se[se.length-1]!==$e&&(se.push($e),tt=!0),se.forEach(function(jt,Lt){var Ci,Bt,_r,vr=jt,qi=se[Lt+1],nr,dm,um,pu,gu,_u,vu,hm=V.mode===t.PipsMode.Steps;for(hm&&(Ci=Et.xNumSteps[Lt]),Ci||(Ci=qi-vr),qi===void 0&&(qi=vr),Ci=Math.max(Ci,1e-7),Bt=vr;Bt<=qi;Bt=ie(Bt,Ci)){for(nr=Et.toStepping(Bt),dm=nr-Ut,gu=dm/(V.density||1),_u=Math.round(gu),vu=dm/_u,_r=1;_r<=_u;_r+=1)um=Ut+_r*vu,Ee[um.toFixed(5)]=[Et.fromStepping(um),0];pu=se.indexOf(Bt)>-1?t.PipsType.LargeValue:hm?t.PipsType.SmallValue:t.PipsType.NoValue,!Lt&&Ke&&Bt!==qi&&(pu=0),Bt===qi&&tt||(Ee[nr.toFixed(5)]=[Bt,pu]),Ut=nr}}),Ee}function xy(V,ie,se){var Ee,He,$e=ua.createElement("div"),Ke=(Ee={},Ee[t.PipsType.None]="",Ee[t.PipsType.NoValue]=O.cssClasses.valueNormal,Ee[t.PipsType.LargeValue]=O.cssClasses.valueLarge,Ee[t.PipsType.SmallValue]=O.cssClasses.valueSub,Ee),tt=(He={},He[t.PipsType.None]="",He[t.PipsType.NoValue]=O.cssClasses.markerNormal,He[t.PipsType.LargeValue]=O.cssClasses.markerLarge,He[t.PipsType.SmallValue]=O.cssClasses.markerSub,He),Ut=[O.cssClasses.valueHorizontal,O.cssClasses.valueVertical],jt=[O.cssClasses.markerHorizontal,O.cssClasses.markerVertical];m($e,O.cssClasses.pips),m($e,O.ort===0?O.cssClasses.pipsHorizontal:O.cssClasses.pipsVertical);function Lt(Bt,_r){var vr=_r===O.cssClasses.value,qi=vr?Ut:jt,nr=vr?Ke:tt;return _r+" "+qi[O.ort]+" "+nr[Bt]}function Ci(Bt,_r,vr){if(vr=ie?ie(_r,vr):vr,vr!==t.PipsType.None){var qi=Ys($e,!1);qi.className=Lt(vr,O.cssClasses.marker),qi.style[O.style]=Bt+"%",vr>t.PipsType.NoValue&&(qi=Ys($e,!1),qi.className=Lt(vr,O.cssClasses.value),qi.setAttribute("data-value",String(_r)),qi.style[O.style]=Bt+"%",qi.innerHTML=String(se.to(_r)))}}return Object.keys(V).forEach(function(Bt){Ci(Bt,V[Bt][0],V[Bt][1])}),$e}function Co(){rn&&(r(rn),rn=null)}function du(V){Co();var ie=Kg(V),se=V.filter,Ee=V.format||{to:function(He){return String(Math.round(He))}};return rn=ot.appendChild(xy(ie,se,Ee)),rn}function uu(){var V=Ct.getBoundingClientRect(),ie="offset"+["Width","Height"][O.ort];return O.ort===0?V.width||Ct[ie]:V.height||Ct[ie]}function Xs(V,ie,se,Ee){var He=function(Ke){var tt=hu(Ke,Ee.pageOffset,Ee.target||ie);if(!tt||Mc()&&!Ee.doNotReject||_(ot,O.cssClasses.tap)&&!Ee.doNotReject||V===Ne.start&&tt.buttons!==void 0&&tt.buttons>1||Ee.hover&&tt.buttons)return!1;nt||tt.preventDefault(),tt.calcPoint=tt.points[O.ort],se(tt,Ee)},$e=[];return V.split(" ").forEach(function(Ke){ie.addEventListener(Ke,He,nt?{passive:!0}:!1),$e.push([Ke,He])}),$e}function hu(V,ie,se){var Ee=V.type.indexOf("touch")===0,He=V.type.indexOf("mouse")===0,$e=V.type.indexOf("pointer")===0,Ke=0,tt=0;if(V.type.indexOf("MSPointer")===0&&($e=!0),V.type==="mousedown"&&!V.buttons&&!V.touches)return!1;if(Ee){var Ut=function(Ci){var Bt=Ci.target;return Bt===se||se.contains(Bt)||V.composed&&V.composedPath().shift()===se};if(V.type==="touchstart"){var jt=Array.prototype.filter.call(V.touches,Ut);if(jt.length>1)return!1;Ke=jt[0].pageX,tt=jt[0].pageY}else{var Lt=Array.prototype.find.call(V.changedTouches,Ut);if(!Lt)return!1;Ke=Lt.pageX,tt=Lt.pageY}}return ie=ie||x(ua),(He||$e)&&(Ke=V.clientX+ie.x,tt=V.clientY+ie.y),V.pageOffset=ie,V.points=[Ke,tt],V.cursor=He||$e,V}function sm(V){var ie=V-l(Ct,O.ort),se=ie*100/uu();return se=d(se),O.dir?100-se:se}function yy(V){var ie=100,se=!1;return lt.forEach(function(Ee,He){if(!rm(He)){var $e=vi[He],Ke=Math.abs($e-V),tt=Ke===100&&ie===100,Ut=Ke<ie,jt=Ke<=ie&&V>$e;(Ut||jt||tt)&&(se=He,ie=Ke)}}),se}function kc(V,ie){V.type==="mouseout"&&V.target.nodeName==="HTML"&&V.relatedTarget===null&&fu(V,ie)}function Jg(V,ie){if(navigator.appVersion.indexOf("MSIE 9")===-1&&V.buttons===0&&ie.buttonsProperty!==0)return fu(V,ie);var se=(O.dir?-1:1)*(V.calcPoint-ie.startCalcPoint),Ee=se*100/ie.baseSize;ha(se>0,Ee,ie.locations,ie.handleNumbers,ie.connect)}function fu(V,ie){ie.handle&&(p(ie.handle,O.cssClasses.active),da-=1),ie.listeners.forEach(function(se){Ir.removeEventListener(se[0],se[1])}),da===0&&(p(ot,O.cssClasses.drag),lm(),V.cursor&&(rr.style.cursor="",rr.removeEventListener("selectstart",s))),ie.handleNumbers.forEach(function(se){hi("change",se),hi("set",se),hi("end",se)})}function mu(V,ie){if(!ie.handleNumbers.some(rm)){var se;if(ie.handleNumbers.length===1){var Ee=lt[ie.handleNumbers[0]];se=Ee.children[0],da+=1,m(se,O.cssClasses.active)}V.stopPropagation();var He=[],$e=Xs(Ne.move,Ir,Jg,{target:V.target,handle:se,connect:ie.connect,listeners:He,startCalcPoint:V.calcPoint,baseSize:uu(),pageOffset:V.pageOffset,handleNumbers:ie.handleNumbers,buttonsProperty:V.buttons,locations:vi.slice()}),Ke=Xs(Ne.end,Ir,fu,{target:V.target,handle:se,listeners:He,doNotReject:!0,handleNumbers:ie.handleNumbers}),tt=Xs("mouseout",Ir,kc,{target:V.target,handle:se,listeners:He,doNotReject:!0,handleNumbers:ie.handleNumbers});He.push.apply(He,$e.concat(Ke,tt)),V.cursor&&(rr.style.cursor=getComputedStyle(V.target).cursor,lt.length>1&&m(ot,O.cssClasses.drag),rr.addEventListener("selectstart",s,!1)),ie.handleNumbers.forEach(function(Ut){hi("start",Ut)})}}function Zg(V){V.stopPropagation();var ie=sm(V.calcPoint),se=yy(ie);se!==!1&&(O.events.snap||u(ot,O.cssClasses.tap,O.animationDuration),So(se,ie,!0,!0),lm(),hi("slide",se,!0),hi("update",se,!0),O.events.snap?mu(V,{handleNumbers:[se]}):(hi("change",se,!0),hi("set",se,!0)))}function wy(V){var ie=sm(V.calcPoint),se=Et.getStep(ie),Ee=Et.fromStepping(se);Object.keys(ds).forEach(function(He){He.split(".")[0]==="hover"&&ds[He].forEach(function($e){$e.call(us,Ee)})})}function om(V,ie){if(Mc()||rm(ie))return!1;var se=["Left","Right"],Ee=["Down","Up"],He=["PageDown","PageUp"],$e=["Home","End"];O.dir&&!O.ort?se.reverse():O.ort&&!O.dir&&(Ee.reverse(),He.reverse());var Ke=V.key.replace("Arrow",""),tt=Ke===He[0],Ut=Ke===He[1],jt=Ke===Ee[0]||Ke===se[0]||tt,Lt=Ke===Ee[1]||Ke===se[1]||Ut,Ci=Ke===$e[0],Bt=Ke===$e[1];if(!jt&&!Lt&&!Ci&&!Bt)return!0;V.preventDefault();var _r;if(Lt||jt){var vr=jt?0:1,qi=wl(ie),nr=qi[vr];if(nr===null)return!1;nr===!1&&(nr=Et.getDefaultStep(vi[ie],jt,O.keyboardDefaultStep)),Ut||tt?nr*=O.keyboardPageMultiplier:nr*=O.keyboardMultiplier,nr=Math.max(nr,1e-7),nr=(jt?-1:1)*nr,_r=cs[ie]+nr}else Bt?_r=O.spectrum.xVal[O.spectrum.xVal.length-1]:_r=O.spectrum.xVal[0];return So(ie,Et.toStepping(_r),!0,!0),hi("slide",ie),hi("update",ie),hi("change",ie),hi("set",ie),!1}function Cy(V){V.fixed||lt.forEach(function(ie,se){Xs(Ne.start,ie.children[0],mu,{handleNumbers:[se]})}),V.tap&&Xs(Ne.start,Ct,Zg,{}),V.hover&&Xs(Ne.move,Ct,wy,{hover:!0}),V.drag&&wi.forEach(function(ie,se){if(!(ie===!1||se===0||se===wi.length-1)){var Ee=lt[se-1],He=lt[se],$e=[ie],Ke=[Ee,He],tt=[se-1,se];m(ie,O.cssClasses.draggable),V.fixed&&($e.push(Ee.children[0]),$e.push(He.children[0])),V.dragAll&&(Ke=lt,tt=zi),$e.forEach(function(Ut){Xs(Ne.start,Ut,mu,{handles:Ke,handleNumbers:tt,connect:ie})})}})}function am(V,ie){ds[V]=ds[V]||[],ds[V].push(ie),V.split(".")[0]==="update"&&lt.forEach(function(se,Ee){hi("update",Ee)})}function Qg(V){return V===G.aria||V===G.tooltips}function yl(V){var ie=V&&V.split(".")[0],se=ie?V.substring(ie.length):V;Object.keys(ds).forEach(function(Ee){var He=Ee.split(".")[0],$e=Ee.substring(He.length);(!ie||ie===He)&&(!se||se===$e)&&(!Qg($e)||se===$e)&&delete ds[Ee]})}function hi(V,ie,se){Object.keys(ds).forEach(function(Ee){var He=Ee.split(".")[0];V===He&&ds[Ee].forEach(function($e){$e.call(us,cs.map(O.format.to),ie,cs.slice(),se||!1,vi.slice(),us)})})}function Tc(V,ie,se,Ee,He,$e){var Ke;return lt.length>1&&!O.events.unconstrained&&(Ee&&ie>0&&(Ke=Et.getAbsoluteDistance(V[ie-1],O.margin,!1),se=Math.max(se,Ke)),He&&ie<lt.length-1&&(Ke=Et.getAbsoluteDistance(V[ie+1],O.margin,!0),se=Math.min(se,Ke))),lt.length>1&&O.limit&&(Ee&&ie>0&&(Ke=Et.getAbsoluteDistance(V[ie-1],O.limit,!1),se=Math.min(se,Ke)),He&&ie<lt.length-1&&(Ke=Et.getAbsoluteDistance(V[ie+1],O.limit,!0),se=Math.max(se,Ke))),O.padding&&(ie===0&&(Ke=Et.getAbsoluteDistance(0,O.padding[0],!1),se=Math.max(se,Ke)),ie===lt.length-1&&(Ke=Et.getAbsoluteDistance(100,O.padding[1],!0),se=Math.min(se,Ke))),se=Et.getStep(se),se=d(se),se===V[ie]&&!$e?!1:se}function gr(V,ie){var se=O.ort;return(se?ie:V)+", "+(se?V:ie)}function ha(V,ie,se,Ee,He){var $e=se.slice(),Ke=Ee[0],tt=[!V,V],Ut=[V,!V];Ee=Ee.slice(),V&&Ee.reverse(),Ee.length>1?Ee.forEach(function(Lt,Ci){var Bt=Tc($e,Lt,$e[Lt]+ie,tt[Ci],Ut[Ci],!1);Bt===!1?ie=0:(ie=Bt-$e[Lt],$e[Lt]=Bt)}):tt=Ut=[!0];var jt=!1;Ee.forEach(function(Lt,Ci){jt=So(Lt,se[Lt]+ie,tt[Ci],Ut[Ci])||jt}),jt&&(Ee.forEach(function(Lt){hi("update",Lt),hi("slide",Lt)}),He!=null&&hi("drag",Ke))}function Ac(V,ie){return O.dir?100-V-ie:V}function Sy(V,ie){vi[V]=ie,cs[V]=Et.fromStepping(ie);var se=10*(Ac(ie,0)-em),Ee="translate("+gr(se+"%","0")+")";lt[V].style[O.transformRule]=Ee,cm(V),cm(V+1)}function lm(){zi.forEach(function(V){var ie=vi[V]>50?-1:1,se=3+(lt.length+ie*V);lt[V].style.zIndex=String(se)})}function So(V,ie,se,Ee,He){return He||(ie=Tc(vi,V,ie,se,Ee,!1)),ie===!1?!1:(Sy(V,ie),!0)}function cm(V){if(wi[V]){var ie=0,se=100;V!==0&&(ie=vi[V-1]),V!==wi.length-1&&(se=vi[V]);var Ee=se-ie,He="translate("+gr(Ac(ie,Ee)+"%","0")+")",$e="scale("+gr(Ee/100,"1")+")";wi[V].style[O.transformRule]=He+" "+$e}}function Rc(V,ie){return V===null||V===!1||V===void 0||(typeof V=="number"&&(V=String(V)),V=O.format.from(V),V!==!1&&(V=Et.toStepping(V)),V===!1||isNaN(V))?vi[ie]:V}function Lc(V,ie,se){var Ee=f(V),He=vi[0]===void 0;ie=ie===void 0?!0:ie,O.animate&&!He&&u(ot,O.cssClasses.tap,O.animationDuration),zi.forEach(function(tt){So(tt,Rc(Ee[tt],tt),!0,!1,se)});var $e=zi.length===1?0:1;if(He&&Et.hasNoSize()&&(se=!0,vi[0]=0,zi.length>1)){var Ke=100/(zi.length-1);zi.forEach(function(tt){vi[tt]=tt*Ke})}for(;$e<zi.length;++$e)zi.forEach(function(tt){So(tt,vi[tt],!0,!0,se)});lm(),zi.forEach(function(tt){hi("update",tt),Ee[tt]!==null&&ie&&hi("set",tt)})}function Ey(V){Lc(O.start,V)}function Iy(V,ie,se,Ee){if(V=Number(V),!(V>=0&&V<zi.length))throw new Error("noUiSlider: invalid handle number, got: "+V);So(V,Rc(ie,V),!0,!0,Ee),hi("update",V),se&&hi("set",V)}function yn(V){if(V===void 0&&(V=!1),V)return cs.length===1?cs[0]:cs.slice(0);var ie=cs.map(O.format.to);return ie.length===1?ie[0]:ie}function e_(){for(yl(G.aria),yl(G.tooltips),Object.keys(O.cssClasses).forEach(function(V){p(ot,O.cssClasses[V])});ot.firstChild;)ot.removeChild(ot.firstChild);delete ot.noUiSlider}function wl(V){var ie=vi[V],se=Et.getNearbySteps(ie),Ee=cs[V],He=se.thisStep.step,$e=null;if(O.snap)return[Ee-se.stepBefore.startValue||null,se.stepAfter.startValue-Ee||null];He!==!1&&Ee+He>se.stepAfter.startValue&&(He=se.stepAfter.startValue-Ee),Ee>se.thisStep.startValue?$e=se.thisStep.step:se.stepBefore.step===!1?$e=!1:$e=Ee-se.stepBefore.highestStep,ie===100?He=null:ie===0&&($e=null);var Ke=Et.countStepDecimals();return He!==null&&He!==!1&&(He=Number(He.toFixed(Ke))),$e!==null&&$e!==!1&&($e=Number($e.toFixed(Ke))),[$e,He]}function My(){return zi.map(wl)}function ky(V,ie){var se=yn(),Ee=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];Ee.forEach(function($e){V[$e]!==void 0&&(Me[$e]=V[$e])});var He=ft(Me);Ee.forEach(function($e){V[$e]!==void 0&&(O[$e]=He[$e])}),Et=He.spectrum,O.margin=He.margin,O.limit=He.limit,O.padding=He.padding,O.pips?du(O.pips):Co(),O.tooltips?Gg():nm(),vi=[],Lc(n(V.start)?V.start:se,ie)}function fa(){Ct=xl(ot),bl(O.connect,Ct),Cy(O.events),Lc(O.start),O.pips&&du(O.pips),O.tooltips&&Gg(),Yg()}fa();var us={destroy:e_,steps:My,on:am,off:yl,get:yn,set:Lc,setHandle:Iy,reset:Ey,__moveHandles:function(V,ie,se){ha(V,ie,vi,se)},options:Me,updateOptions:ky,target:ot,removePips:Co,removeTooltips:nm,getPositions:function(){return vi.slice()},getTooltips:function(){return ui},getOrigins:function(){return lt},pips:du};return us}function Jt($,O){if(!$||!$.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+$);if($.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Me=ft(O),Ne=ni($,Me,O);return $.noUiSlider=Ne,Ne}var Pe={__spectrum:re,cssClasses:te,create:Jt};t.create=Jt,t.cssClasses=te,t.default=Pe,Object.defineProperty(t,"__esModule",{value:!0})})});var fF,dg,Wd,mx,px,II,qd,ug,hg,MI,kI,fg,gx,TI,Ud,AI,RI,LI=F(()=>{mr();go();Li();Fs();Wy();fF=H(fx()),dg=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}},Wd=class extends dg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}},mx=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}};mx.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});px=class extends Wd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,i){super.initialize(e,i),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=Rl(this.get("readout_format"))}},II=class extends px{},qd=class extends ii{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),this.model.get("orientation")==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then(()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")})):this.readout.style.display="none"),super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){e.keyCode===13&&(e.preventDefault(),this.handleTextChange())}createSlider(){let e=this.model.get("orientation"),i=this.model.get("behavior");fF.default.create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:i,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:e==="horizontal"?"ltr":"rtl",format:{from:r=>Number(r),to:r=>this._validate_slide_value(r)}}),this.$slider.noUiSlider.on("update",(r,n)=>{this.handleSliderUpdateEvent(r,n)}),this.$slider.noUiSlider.on("change",(r,n)=>{this.handleSliderChangeEvent(r,n)})}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}},ug=class extends qd{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:–]\s*([+-]?\d+)/}update(e){super.update(e);let i=this.model.get("value");this.readout.textContent=this.valueToString(i),this.model.get("value")!==i&&(this.model.set("value",i,{updated_view:this}),this.touch())}valueToString(e){let i=this.model.readout_formatter;return e.map(function(r){return i(r)}).join(" \u2013 ")}stringToValue(e){if(e===null)return null;let i=this._range_regex.exec(e);return i?[this._parse_value(i[1]),this._parse_value(i[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent),i=this.model.get("min"),r=this.model.get("max");e===null||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],r),i),Math.max(Math.min(e[1],r),i)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,i){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.handleSliderChanged(e,i)}handleSliderUpdateEvent(e,i){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let r=e.map(this._validate_slide_value);this.model.set("value",r,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,i,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get(),s=this.model.get("value");(n[0]!==s[0]||n[1]!==s[1])&&this.$slider.noUiSlider.set(s)}},hg=class extends qd{update(e){super.update(e);let i=this.model.get("min"),r=this.model.get("max"),n=this.model.get("value");n>r?n=r:n<i&&(n=i),this.readout.textContent=this.valueToString(n),this.model.get("value")!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())}valueToString(e){let i=this.model.readout_formatter;return i(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let i=this.stringToValue((e=this.readout.textContent)!==null&&e!==void 0?e:""),r=this.model.get("min"),n=this.model.get("max");isNaN(i)?this.readout.textContent=this.valueToString(this.model.get("value")):(i=Math.max(Math.min(i,n),r),i!==this.model.get("value")?(this.readout.textContent=this.valueToString(i),this.model.set("value",i),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,i){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.handleSliderChanged(e,i)}handleSliderUpdateEvent(e,i){let r=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let r=this._validate_slide_value(e[i]),n=this.model.get("value");parseFloat(n)!==r&&(this.model.set("value",r,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,i,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get(),s=this.model.get("value");n!==s&&this.$slider.noUiSlider.set(s)}},MI=class extends dg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}},kI=class extends Wd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}},fg=class extends ii{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=Xt(),this.el.appendChild(this.textbox),this.update()}update(e){if(e===void 0||e.updated_view!==this){let i=this.model.get("value");this._parse_value(this.textbox.value)!==i&&(this.textbox.value=i.toString()),this.model.get("min")!==void 0&&(this.textbox.min=this.model.get("min")),this.model.get("max")!==void 0&&(this.textbox.max=this.model.get("max")),this.model.get("step")!==void 0&&this.model.get("step")!==null?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;let i=e.target,r=i.value;if(r=r.replace(/[e,.\s]/g,""),r.length>=1){let n=r.substr(1);r=r[0]+n.replace(/[+-]/g,"")}i.value!==r&&(e.preventDefault(),i.value=r)}handleChanging(e){let r=e.target.value.trim();r===""||["-","-.",".","+.","+"].indexOf(r)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let i=e.target,r=this._parse_value(i.value);if(isNaN(r))i.value=this.model.get("value");else{let n=r;this.model.get("max")!==void 0&&(n=Math.min(this.model.get("max"),n)),this.model.get("min")!==void 0&&(n=Math.max(this.model.get("min"),n)),n!==r&&(i.value=n,r=n),r!==this.model.get("value")&&(this.model.set("value",r,{updated_view:this}),this.touch())}}},gx=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}};gx.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});TI=class extends Wd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}},Ud=class extends ii{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();let i=this.model.get("orientation")==="horizontal"?"widget-hprogress":"widget-vprogress";this.el.classList.add(i),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){let e=this.model.get("value"),i=this.model.get("max"),r=this.model.get("min"),n=this.model.get("orientation"),s=100*(e-r)/(i-r);return n==="horizontal"?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=s+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=s+"%"),super.update()}update_bar_style(){this.update_mapped_classes(Ud.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(Ud.class_map,"bar_style",this.bar)}};Ud.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};AI=class extends Wd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,i){super.initialize(e,i)}loop(){if(!this.get("playing"))return;let e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){this._timerId===void 0&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}},RI=class extends Tt{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);let e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);let i=document.createElement("i");i.className="fa fa-stop",this.stopButton.appendChild(i);let r=document.createElement("i");r.className="fa fa-retweet",this.repeatButton.appendChild(r),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){let e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();let e=this.model.previous("playing"),i=this.model.get("playing");!e&&i?this.model.animate():this.model.pause()}updatePlaying(){let e=this.model.get("playing"),i=this.playPauseButton.getElementsByTagName("i")[0];e?i.className="fa fa-pause":i.className="fa fa-play"}updateRepeat(){let e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}});var mF,mg,Vd,_x,NI,DI,OI,zI,PI,BI,HI,jI,FI,pF=F(()=>{mr();LI();Wy();mF=H(fx()),mg=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}},Vd=class extends mg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}},_x=class extends Vd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,i){super.initialize(e,i),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=Rl(this.get("readout_format"))}},NI=class extends Vd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,i){super.initialize(e,i),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=Rl(this.get("readout_format"))}},DI=class extends _x{},OI=class extends hg{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}},zI=class extends qd{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);let i=this.model.get("value");this.readout.textContent=this.valueToString(i)}logCalc(e){let i=this.model.get("min"),r=this.model.get("max"),n=this.model.get("base"),s=Math.log(e)/Math.log(n);return s>r?s=r:s<i&&(s=i),s}createSlider(){var e;let i=this.model.get("orientation"),r=this.model.get("behavior");mF.default.create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:r,range:{min:this.model.get("min"),max:this.model.get("max")},step:(e=this.model.get("step"))!==null&&e!==void 0?e:void 0,animate:!1,orientation:i,direction:i==="horizontal"?"ltr":"rtl",format:{from:n=>Number(n),to:n=>n}}),this.$slider.noUiSlider.on("update",(n,s)=>{this.handleSliderUpdateEvent(n,s)}),this.$slider.noUiSlider.on("change",(n,s)=>{this.handleSliderChangeEvent(n,s)})}valueToString(e){let i=this.model.readout_formatter;return i(e)}stringToValue(e){return e===null?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent),i=this.model.get("min"),r=this.model.get("max"),n=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(n,r)),Math.pow(n,i)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,i){let r=this.model.get("base"),n=Math.pow(r,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChangeEvent(e,i){let r=this.model.get("base"),n=Math.pow(r,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(n),this.handleSliderChanged(e,i)}handleSliderChanged(e,i){if(this._updating_slider)return;let r=this.model.get("base"),n=Math.pow(r,this._validate_slide_value(e[0]));this.model.set("value",n,{updated_view:this}),this.touch()}updateSliderValue(e,i,r){if(r.updated_view===this)return;let n=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(n)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}},PI=class extends ug{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:–]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}},BI=class extends mg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}},HI=class extends Vd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}},jI=class extends fg{constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}},FI=class extends Vd{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}});var gF,$I,WI,qI,UI,vx,VI,_F=F(()=>{mr();Li();Pc();Df();Fs();gF=H(Pd()),$I=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}},WI=class extends Tt{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}},qI=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}},UI=class extends Tt{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}},vx=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,i){super.initialize(e,i),navigator.getGamepads===void 0?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){let e=this.get("index"),i=navigator.getGamepads()[e];i?this.setup(i).then(r=>{this.set(r),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))}):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),Jo({buttons:Promise.all(e.buttons.map((i,r)=>this._create_button_model(r))),axes:Promise.all(e.axes.map((i,r)=>this._create_axis_model(r)))})}update_loop(){let e=this.get("index"),i=this.get("name"),r=navigator.getGamepads()[e];r&&e===r.index&&i===r.id?(this.set({timestamp:r.timestamp,connected:r.connected}),this.save_changes(),this.get("buttons").forEach(function(n,s){n.set({value:r.buttons[s].value,pressed:r.buttons[s].pressed}),n.save_changes()}),this.get("axes").forEach(function(n,s){n.set("value",r.axes[s]),n.save_changes()}),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach(function(e){e.close()}),this.get("axes").forEach(function(e){e.close()}),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(i){return i.set("description",e),i})}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(i){return i.set("description",e),i})}};vx.serializers=Object.assign(Object.assign({},ri.serializers),{buttons:{deserialize:is},axes:{deserialize:is}});VI=class extends Tt{_createElement(e){return this.luminoWidget=new Qo({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,gF.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new po(this.add_button,null,this),this.listenTo(this.model,"change:buttons",(i,r)=>{this.button_views.update(r)}),this.axis_views=new po(this.add_axis,null,this),this.listenTo(this.model,"change:axes",(i,r)=>{this.axis_views.update(r)}),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new bs,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new bs,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){let i=new or;return this.button_box.addWidget(i),this.create_child_view(e).then(r=>{let n=Pn.firstIndexOf(this.button_box.widgets,i);return this.button_box.insertWidget(n,r.luminoWidget),i.dispose(),r}).catch(Xr("Could not add child button view to controller",!0))}add_axis(e){let i=new or;return this.axis_box.addWidget(i),this.create_child_view(e).then(r=>{let n=Pn.firstIndexOf(this.axis_box.widgets,i);return this.axis_box.insertWidget(n,r.luminoWidget),i.dispose(),r}).catch(Xr("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}});var vF,cl,pg,GI,YI,XI,bx,KI,JI,xx,ZI,ll,QI,yx,gg,eM,tM,iM,rM,bF=F(()=>{mr();go();Fs();vF=H(fx());Fs();cl=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}},pg=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;let e=this.model.get("tabbable");e===!0?this.listbox.setAttribute("tabIndex","0"):e===!1?this.listbox.setAttribute("tabIndex","-1"):e===null&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}},GI=class extends cl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}},YI=class extends pg{render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=Xt(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){e?.updated_view!==this&&this.model.hasChanged("_options_labels")&&this._updateOptions();let i=this.model.get("index");return this.listbox.selectedIndex=i===null?-1:i,super.update()}_updateOptions(){this.listbox.textContent="";let e=this.model.get("_options_labels");for(let i=0;i<e.length;i++){let r=e[i],n=document.createElement("option");n.textContent=r.replace(/ /g,"\xA0"),n.setAttribute("data-value",encodeURIComponent(r)),n.value=r,this.listbox.appendChild(n)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex===-1?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.listbox.focus():e.do==="blur"&&this.listbox.blur()}},XI=class extends cl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}},bx=class extends pg{initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=Xt(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if(e?.updated_view!==this){let r=this.model.hasChanged("_options_labels"),n=this.model.hasChanged("index");if(r||n){let s=this.model.get("index");r&&this._updateOptions(),this.updateSelection(s)}}super.update();let i=this.model.get("rows");i===null&&(i=""),this.listbox.setAttribute("size",i)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=e===null?-1:e}_updateOptions(){this.listbox.textContent="";let e=this.model.get("_options_labels");for(let i=0;i<e.length;i++){let r=e[i],n=document.createElement("option");n.textContent=r.replace(/ /g,"\xA0"),n.setAttribute("data-value",encodeURIComponent(r)),n.value=r,this.listbox.appendChild(n)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do=="focus"?this.listbox.focus():e.do=="blur"&&this.listbox.blur()}},KI=class extends cl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:"",orientation:"vertical"})}},JI=class extends ii{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){this.model.get("orientation")==="vertical"?(this.container.classList.remove("widget-radio-box-horizontal"),this.container.classList.add("widget-radio-box-vertical")):(this.container.classList.remove("widget-radio-box-vertical"),this.container.classList.add("widget-radio-box-horizontal"));let i=this.model.get("_options_labels"),r=Array.from(this.container.querySelectorAll('input[type="radio"]')).map(s=>s.value),n=i.length!==r.length;if(!n){for(let s=0,o=i.length;s<o;++s)if(r[s]!==i[s]){n=!0;break}}return n&&(e===void 0||e.updated_view!==this)&&(this.container.textContent="",i.forEach((s,o)=>{let a=document.createElement("label");a.textContent=s,this.container.appendChild(a);let l=document.createElement("input");l.setAttribute("type","radio"),l.value=o.toString(),l.setAttribute("data-value",encodeURIComponent(s)),a.appendChild(l)})),i.forEach((s,o)=>{let a='input[data-value="'+encodeURIComponent(s)+'"]',l=this.container.querySelectorAll(a);if(l.length>0){let c=l[0];c.checked=this.model.get("index")===o,c.disabled=this.model.get("disabled")}}),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){let i=window.getComputedStyle(e.el),r=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),n=e.label.offsetHeight+r,s=window.getComputedStyle(e.container),o=parseInt(s.marginBottom,10),a=(e.el.offsetHeight+r-o)%n,l=a===0?0:n-a;e.container.style.marginBottom=l+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){let i=e.target;this.model.set("index",parseInt(i.value,10),{updated_view:this}),this.touch()}handle_message(e){if(e.do=="focus")this.container.firstElementChild.focus();else if(e.do=="blur")for(let i=0;i<this.container.children.length;i++)this.container.children[i].blur()}},xx=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}};xx.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});ZI=class extends cl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}},ll=class extends ii{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){let i=this.model.get("_options_labels"),r=this.model.get("icons")||[],n=this.model.previous("icons")||[],s=ll.classMap[this.model.previous("button_style")]||"",o=this.model.get("tooltips")||[],a=this.model.get("disabled"),l=this.buttongroup.querySelectorAll("button"),c=Array.from(l).map(d=>d.value),u=!1;for(let d=0,f=i.length;d<f;++d)if(c[d]!==i[d]||r[d]!==n[d]){u=!0;break}return u&&(e===void 0||e.updated_view!==this)&&(this.buttongroup.textContent="",i.forEach((d,f)=>{let h;d.trim().length===0&&(!r[f]||r[f].trim().length===0)?h="&nbsp;":h=QE(d);let p=document.createElement("i"),_=document.createElement("button");r[f]&&(p.className="fa fa-"+r[f]),_.setAttribute("type","button"),_.className="widget-toggle-button jupyter-button",s&&_.classList.add(s),_.innerHTML=h,_.setAttribute("data-value",encodeURIComponent(d)),_.setAttribute("value",f.toString()),_.appendChild(p),_.disabled=a,o[f]&&_.setAttribute("title",o[f]),this.update_style_traits(_),this.buttongroup.appendChild(_)})),i.forEach((d,f)=>{let h='[data-value="'+encodeURIComponent(d)+'"]',m=this.buttongroup.querySelector(h);this.model.get("index")===f?m.classList.add("mod-active"):m.classList.remove("mod-active")}),this.stylePromise.then(function(d){d&&d.style()}),super.update(e)}update_style_traits(e){for(let i in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name")){if(i==="margin")this.buttongroup.style[i]=this._css_state[i];else if(i!=="width")if(e)e.style[i]=this._css_state[i];else{let r=this.buttongroup.querySelectorAll("button");r.length&&(r[0].style[i]=this._css_state[i])}}}update_button_style(){let e=this.buttongroup.querySelectorAll("button");for(let i=0;i<e.length;i++)this.update_mapped_classes(ll.classMap,"button_style",e[i])}set_button_style(){let e=this.buttongroup.querySelectorAll("button");for(let i=0;i<e.length;i++)this.set_mapped_classes(ll.classMap,"button_style",e[i])}events(){return{"click button":"_handle_click"}}_handle_click(e){let i=e.target;this.model.set("index",parseInt(i.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}};(function(t){t.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}})(ll||(ll={}));QI=class extends cl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}},yx=class extends ii{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if(e?.updated_view!==this){this.updateSliderOptions(this.model);let i=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),i==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?this.readout.style.display="":this.readout.style.display="none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){let e=this.model.get("_options_labels"),i=0,r=e.length-1,n=this.model.get("orientation"),s=this.model.get("behavior");vF.default.create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:s,range:{min:i,max:r},step:1,animate:!1,orientation:n,direction:n==="horizontal"?"ltr":"rtl",format:{from:o=>Number(o),to:o=>Math.round(o)}}),this.$slider.noUiSlider.on("update",(o,a)=>{this.handleSliderUpdateEvent(o,a)}),this.$slider.noUiSlider.on("change",(o,a)=>{this.handleSliderChangeEvent(o,a)})}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){let e=this.model.get("index");this.updateReadout(e)}updateReadout(e){let i=this.model.get("_options_labels")[e];this.readout.textContent=i}handleSliderUpdateEvent(e,i){let r=e[0];this.updateReadout(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChangeEvent(e,i){let r=e[0];this.updateReadout(r),this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let r=e[0];this.updateReadout(r),this.model.set("index",r,{updated_view:this}),this.touch()}updateSliderOptions(e){let i=this.model.get("_options_labels"),r=0,n=i.length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:r,max:n},step:1})}updateSliderValue(e,i,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get(),s=this.model.get("index");n!==s&&this.$slider.noUiSlider.set(s)}},gg=class extends cl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}},eM=class extends gg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}},tM=class extends bx{initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){let e=this.model.get("index")||[],i=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach(r=>{i[r].selected=!0})}_handle_change(){let e=Array.prototype.map.call(this.listbox.selectedOptions||[],function(i){return i.index});this.model.set("index",e,{updated_view:this}),this.touch()}},iM=class extends gg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}},rM=class extends yx{render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){let i=this.model.get("_options_labels"),r=i[e[0]],n=i[e[1]];this.readout.textContent=`${r}-${n}`}handleSliderUpdateEvent(e,i){let r=e.map(Math.trunc);this.updateReadout(r),this.model.get("continuous_update")&&this.handleSliderChanged(e,i)}handleSliderChanged(e,i){let r=e.map(Math.round);this.updateReadout(r),this.model.set("index",r.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,i,r){if(r.updated_view===this)return;let n=this.$slider.noUiSlider.get().map(Math.round),s=this.model.get("index").map(Math.round);(n[0]!==s[0]||n[1]!==s[1])&&this.$slider.noUiSlider.set(s)}}});var xF,yF,_g,wF,_o,CF=F(()=>{(function(t){function e(i){var r=document.body,n=function(s){s.preventDefault(),s.stopPropagation(),s.clipboardData.setData("text",i),r.removeEventListener("copy",n,!0)};r.addEventListener("copy",n,!0),document.execCommand("copy")}t.copyText=e})(xF||(xF={}));(function(t){function e(s){var o=window.getComputedStyle(s),a=parseFloat(o.borderTopWidth)||0,l=parseFloat(o.borderLeftWidth)||0,c=parseFloat(o.borderRightWidth)||0,u=parseFloat(o.borderBottomWidth)||0,d=parseFloat(o.paddingTop)||0,f=parseFloat(o.paddingLeft)||0,h=parseFloat(o.paddingRight)||0,m=parseFloat(o.paddingBottom)||0,p=l+f+h+c,_=a+d+m+u;return{borderTop:a,borderLeft:l,borderRight:c,borderBottom:u,paddingTop:d,paddingLeft:f,paddingRight:h,paddingBottom:m,horizontalSum:p,verticalSum:_}}t.boxSizing=e;function i(s){var o=window.getComputedStyle(s),a=parseFloat(o.minWidth)||0,l=parseFloat(o.minHeight)||0,c=parseFloat(o.maxWidth)||1/0,u=parseFloat(o.maxHeight)||1/0;return c=Math.max(a,c),u=Math.max(l,u),{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u}}t.sizeLimits=i;function r(s,o,a){var l=s.getBoundingClientRect();return o>=l.left&&o<l.right&&a>=l.top&&a<l.bottom}t.hitTest=r;function n(s,o){var a=s.getBoundingClientRect(),l=o.getBoundingClientRect();if(!(l.top<=a.top&&l.bottom>=a.bottom)){if(l.top<a.top&&l.height<=a.height){s.scrollTop-=a.top-l.top;return}if(l.bottom>a.bottom&&l.height>=a.height){s.scrollTop-=a.top-l.top;return}if(l.top<a.top&&l.height>a.height){s.scrollTop-=a.bottom-l.bottom;return}if(l.bottom>a.bottom&&l.height<a.height){s.scrollTop-=a.bottom-l.bottom;return}}}t.scrollIntoViewIfNeeded=n})(yF||(yF={}));(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(i){return t.IS_MAC?i.metaKey:i.ctrlKey}t.accelKey=e})(_g||(_g={}));(function(t){function e(n){if(n in _o.specificityCache)return _o.specificityCache[n];var s=_o.calculateSingle(n);return _o.specificityCache[n]=s}t.calculateSpecificity=e;function i(n){if(n in _o.validityCache)return _o.validityCache[n];var s=!0;try{_o.testElem.querySelector(n)}catch{s=!1}return _o.validityCache[n]=s}t.isValid=i;function r(n,s){return _o.protoMatchFunc.call(n,s)}t.matches=r})(wF||(wF={}));(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=function(){var u=Element.prototype;return u.matches||u.matchesSelector||u.mozMatchesSelector||u.msMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector||function(d){var f=this,h=f.ownerDocument?f.ownerDocument.querySelectorAll(d):[];return Array.prototype.indexOf.call(h,f)!==-1}}();function e(u){u=u.split(",",1)[0];var d=0,f=0,h=0;function m(p){var _=u.match(p);return _===null?!1:(u=u.slice(_[0].length),!0)}for(u=u.replace(c," $1 ");u.length>0;){if(m(i)){d++;continue}if(m(r)){f++;continue}if(m(n)){f++;continue}if(m(o)){h++;continue}if(m(a)){f++;continue}if(m(s)){h++;continue}if(!m(l))return 0}return d=Math.min(d,255),f=Math.min(f,255),h=Math.min(h,255),d<<16|f<<8|h}t.calculateSingle=e;var i=/^#[^\s\+>~#\.\[:]+/,r=/^\.[^\s\+>~#\.\[:]+/,n=/^\[[^\]]+\]/,s=/^[^\s\+>~#\.\[:]+/,o=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g})(_o||(_o={}))});var nM,wx,SF=F(()=>{d_();gs();CF();Pc();nM=class extends bs{constructor(){super(...arguments),this._widgetRemoved=new Te(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}},wx=class extends or{constructor(e={}){super(),this._currentChanged=new Te(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new rT(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new nM,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);let i=new u_;i.addWidget(this.tabBar),i.addWidget(this.tabContents),this.layout=i}get currentChanged(){return this._currentChanged}get currentIndex(){let e=this.tabBar.currentIndex;return e===-1?null:e}set currentIndex(e){this.tabBar.currentIndex=e===null?-1:e}get currentWidget(){let e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,i){i!==this.currentWidget&&i.hide(),this.tabContents.insertWidget(e,i),this.tabBar.insertTab(e,i.title)}_onCurrentChanged(e,i){let{previousIndex:r,previousTitle:n,currentIndex:s,currentTitle:o}=i,a=n?n.owner:null,l=o?o.owner:null;a&&a.hide(),l&&l.show(),this._currentChanged.emit({previousIndex:r,previousWidget:a,currentIndex:s,currentWidget:l}),(_g.IS_EDGE||_g.IS_IE)&&Ao.flush()}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabMoved(e,i){this.tabContents.insertWidget(i.toIndex,i.title.owner)}_onWidgetRemoved(e,i){this.tabBar.removeTab(i.title)}}});var Cx,EF=F(()=>{Df();gs();Cx=class{constructor(e,i={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new Te(this),this._array=e,this._insertBehavior=i.insertBehavior||"select-item-if-needed",this._removeBehavior=i.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){let i=this.index,r=this.value;if(e!==i)return;this._updateSelectedValue();let n=this.value;this._previousValue=null,r!==n&&this._selectionChanged.emit({previousIndex:i,previousValue:r,currentIndex:i,currentValue:n})}get value(){return this._value}set value(e){e===null||this._array===null?this.index=null:this.index=Pn.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let i;if(e!==null&&this._array!==null?(i=Math.floor(e),(i<0||i>=this._array.length)&&(i=null)):i=null,this._index===i)return;let r=this._index,n=this._value;this._index=i,this._updateSelectedValue(),this._previousValue=n,this._selectionChanged.emit({previousIndex:r,previousValue:n,currentIndex:i,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,i){let r=this._value,n=this._index,s=this._insertBehavior;if(s==="select-item"||s==="select-item-if-needed"&&n===null){this._index=e,this._value=i,this._previousValue=r,this._selectionChanged.emit({previousIndex:n,previousValue:r,currentIndex:e,currentValue:i});return}n!==null&&n>=e&&this._index++}clearSelection(){let e=this._index,i=this._value;this._index=null,this._value=null,this._previousValue=null,e!==null&&this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,i){if(this._index===null)return;let r=this._index,n=this._removeBehavior;if(r!==e){r>e&&this._index--;return}if(!this._array||this._array.length===0){this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value});return}if(n==="select-item-after"){this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value});return}if(n==="select-item-before"){this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value});return}if(n==="select-previous-item"){this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this.value});return}this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:i,currentIndex:this._index,currentValue:this._value})}_updateSelectedValue(){let e=this._index;this._value=e!==null&&this._array?this._array[e]:null}}});var ZK,QK,eJ,IF,sM,tJ,iJ,MF,Sx,kF=F(()=>{Df();gs();Pc();EF();ZK="jupyter-widget-Collapse",QK="jupyter-widget-Collapse-header",eJ="jupyter-widget-Collapse-contents",IF="jupyter-widget-Collapse-open",sM=class extends or{constructor(e){super(e),this._collapseChanged=new Te(this),this.addClass(ZK),this._header=new or,this._header.addClass(QK),this._header.node.addEventListener("click",this);let i=document.createElement("i");i.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(i),this._header.node.appendChild(document.createElement("span")),this._content=new bs,this._content.addClass(eJ);let r=new u_;this.layout=r,r.addWidget(this._header),r.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){let i=this._widget;i&&(i.disposed.disconnect(this._onChildDisposed,this),i.title.changed.disconnect(this._onTitleChanged,this),i.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(IF),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(IF),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:break}}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}},tJ="jupyter-widget-Accordion",iJ="jupyter-widget-Accordion-child",MF="jupyter-widget-Accordion-child-active",Sx=class extends bs{constructor(e){super(e),this._selection=new Cx(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass(tJ)}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return Pn.findFirstIndex(this.collapseWidgets,i=>i.widget===e)}addWidget(e){let i=this._wrapWidget(e);return i.collapsed=!0,super.addWidget(i),this._selection.adjustSelectionForInsert(this.widgets.length-1,i),i}insertWidget(e,i){let r=this._wrapWidget(i);r.collapsed=!0,super.insertWidget(e,r),this._selection.adjustSelectionForInsert(e,r)}removeWidget(e){let i=this.indexOf(e);if(i>=0){let r=this.collapseWidgets[i];e.parent=null,r.dispose(),this._selection.adjustSelectionForRemove(i,null)}}_wrapWidget(e){let i=new sM({widget:e});return i.addClass(iJ),i.collapseChanged.connect(this._onCollapseChange,this),i}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,i){let r=i.previousValue,n=i.currentValue;r&&(r.collapsed=!0,r.removeClass(MF)),n&&(n.collapsed=!1,n.addClass(MF))}}});var hM,Of,oM,Ex,aM,lM,Ix,cM,dM,uM,TF=F(()=>{Li();gI();SF();kF();Pc();Df();d_();hM=H(Pd()),Of=class extends ol{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}},oM=class extends Of{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}},Ex=class extends Sx{constructor(e){let i=e.view;delete e.view,super(e),this._view=i}processMessage(e){var i;super.processMessage(e),(i=this._view)===null||i===void 0||i.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}},aM=class extends Tt{_createElement(e){return this.luminoWidget=new Ex({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,hM.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new po(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",()=>this.updateChildren()),this.listenTo(this.model,"change:selected_index",()=>this.update_selected_index()),this.listenTo(this.model,"change:titles",()=>this.update_titles())}render(){var e;super.render();let i=this.luminoWidget;i.addClass("jupyter-widgets"),i.addClass("widget-accordion"),i.addClass("widget-container"),i.selection.selectionChanged.connect(r=>{this.updatingChildren||(this.model.set("selected_index",i.selection.index),this.touch())}),(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){let e=this.luminoWidget.collapseWidgets,i=this.model.get("titles");for(let r=0;r<e.length;r++)i[r]!==void 0&&(e[r].widget.title.label=i[r])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,i){let r=this.luminoWidget,n=new or;return n.title.label=this.model.get("titles")[i]||"",r.addWidget(n),this.create_child_view(e).then(s=>{let o=s.luminoWidget;o.title.label=n.title.label;let a=r.collapseWidgets[r.indexOf(n)];return a.widget=o,n.dispose(),s}).catch(Xr("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}},lM=class extends Of{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}},Ix=class extends wx{constructor(e){let i=e.view;delete e.view,super(e),this._view=i,Ao.installMessageHook(this.tabContents,(r,n)=>(this._view.processLuminoMessage(n),!0))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}},cM=class extends Tt{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new Ix({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=(0,hM.default)(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new po(this.addChildView,i=>{i.remove()},this),this.listenTo(this.model,"change:children",()=>this.updateTabs()),this.listenTo(this.model,"change:titles",()=>this.updateTitles())}render(){super.render();let e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("jupyter-widget-tab"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,(e=this.childrenViews)===null||e===void 0||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,i){let r=this.model.get("titles")[i]||"",n=this.luminoWidget,s=new or;return s.title.label=r,n.addWidget(s),this.create_child_view(e).then(o=>{let a=o.luminoWidget;a.title.label=s.title.label,a.title.closable=!1;let l=Pn.firstIndexOf(n.widgets,s);return n.insertWidget(l+1,a),s.dispose(),o}).catch(Xr("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){let e=this.model.get("titles")||[];Kj(this.luminoWidget.widgets,(i,r)=>{i.title.label=e[r]||""})}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,i){if(!this.updatingTabs){let r=i.currentIndex;this.model.set("selected_index",r===-1?null:r),this.touch()}}_onTabMoved(e,i){let r=this.model.get("children").slice();Pn.move(r,i.fromIndex,i.toIndex),this.model.set("children",r),this.touch()}},dM=class extends Of{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}},uM=class extends $s{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let i;this.model.get("selected_index")===null?i=[]:i=[this.model.get("children")[this.model.get("selected_index")]],(e=this.children_views)===null||e===void 0||e.update(i).then(r=>{r.forEach(n=>{Ao.postMessage(n.luminoWidget,or.ResizeMessage.UnknownSize)})})}}});function rJ(t){return t.replace(/^\s+|\s+$/g,"")}function nJ(t,e,i){return Math.min(Math.max(t,e),i)}function AF(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var fM,Mx,kx,Tx,Gd,mM,pM,Ax,Rx,gM,_M,vM,bM,RF=F(()=>{u$();Wy();mr();Li();fM=class{constructor(e,i,r){this.start=e,this.dx=i,this.max=r}isSelected(e){let i,r;return this.dx>=0?(i=this.start,r=this.start+this.dx):(i=this.start+this.dx,r=this.start),i<=e&&e<r}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}},Mx=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"\u200B",allowed_tags:null,allow_duplicates:!0})}},kx=class extends Tt{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=Xt(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{let i=this.hoveredTagIndex==null?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,i)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,AF(this.el),this.tags=[];let e=this.model.get("value");this.inputIndex=e.length;for(let i in e){let r=parseInt(i),n=this.createTag(e[r],r,this.selection!=null&&this.selection.isSelected(r));n.draggable=!0,n.ondragstart=((s,o)=>a=>{this.ondragstart(a,s,o,this.model.model_id)})(r,e[r]),n.ondrop=(s=>o=>{this.ondrop(o,s)})(r),n.ondragover=this.ondragover.bind(this),n.ondragenter=(s=>o=>{this.ondragenter(o,s)})(r),n.ondragend=this.ondragend.bind(this),this.tags.push(n),this.el.appendChild(n)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){AF(this.autocompleteList);let e=this.model.get("allowed_tags");for(let i of e){let r=document.createElement("option");r.value=i,this.autocompleteList.appendChild(r)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){let e=this.model.get("value");for(let i in this.tags){let r=parseInt(i);this.updateTag(this.tags[r],e[r],r,this.selection!=null&&this.selection.isSelected(r))}}handleValueAdded(e){let i=rJ(this.taginput.value),r=this.inputIndex;if(i=="")return;this.inputIndex++,this.addTag(r,i)&&(this.taginput.value="",this.resizeInput(),this.focus())}addTag(e,i){let r=this.model.get("value"),n;try{n=this.validateValue(i)}catch{return!1}let s=this.model.get("allowed_tags");if(s.length&&!s.includes(n)||!this.model.get("allow_duplicates")&&r.includes(n))return!1;this.selection=null;let o=[...r];return o.splice(e,0,n),this.model.set("value",o),this.model.save_changes(),!0}resizeInput(){let e;this.taginput.value.length!=0?e=this.taginput.value:e=this.model.get("placeholder");let i=e.length+1;this.taginput.setAttribute("size",String(i))}handleKeyEvent(e){let i=this.model.get("value").length;if(this.taginput.value.length)return;let r=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(r,-r),!e.ctrlKey&&e.shiftKey&&this.select(r,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(r,i-r),!e.ctrlKey&&e.shiftKey&&this.select(r,1),e.ctrlKey?this.inputIndex=i:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}e.shiftKey||(this.selection=null),this.inputIndex=nJ(this.inputIndex,0,i),this.update(),this.focus()}ondragstart(e,i,r,n){e.dataTransfer!=null&&(e.dataTransfer.setData("index",String(i)),e.dataTransfer.setData("tagValue",String(r)),e.dataTransfer.setData("origin",n))}ondrop(e,i){if(e.dataTransfer==null)return;e.preventDefault(),e.stopPropagation();let r=e.dataTransfer.getData("tagValue"),n=parseInt(e.dataTransfer.getData("index")),s=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(n)){if(s){let a=[...this.model.get("value")];n<i&&i--,a.splice(n,1),a.splice(i,0,r),this.model.set("value",a),this.model.save_changes();return}this.addTag(i,r)}}ondragover(e){e.preventDefault()}ondragenter(e,i){this.hoveredTag!=null&&this.hoveredTag!=this.tags[i]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[i],this.hoveredTagIndex=i,this.hoveredTag.style.marginLeft="30px"}ondragend(){this.hoveredTag!=null&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,i){let r=this.model.get("value").length;this.selection?this.selection.updateSelection(i):this.selection=new fM(e,i,r)}removeSelectedTags(){let e=[...this.model.get("value")],i=e.length;for(let r=i-1;r>=0;r--)this.selection!=null&&this.selection.isSelected(r)&&(e.splice(r,1),r<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){let i=[...this.model.get("value")];i.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",i),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}},Tx=class extends Mx{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}},Gd=class extends kx{createTag(e,i,r){let n=document.createElement("div"),s=this.model.get("tag_style");n.classList.add("jupyter-widget-tag"),n.classList.add(Gd.class_map[s]),r&&n.classList.add("mod-active"),n.appendChild(document.createTextNode(this.getTagText(e)));let o=document.createElement("i");return o.classList.add("fa"),o.classList.add("fa-times"),o.classList.add("jupyter-widget-tag-close"),n.appendChild(o),o.onmousedown=(a=>()=>{this.removeTag(a),this.loseFocus()})(i),n}getTagText(e){return e}updateTag(e,i,r,n){n?e.classList.add("mod-active"):e.classList.remove("mod-active")}};Gd.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};mM=class extends Mx{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}},pM=class extends kx{createTag(e,i,r){let n=document.createElement("div"),s=e,o=h_(e).darker().toString();n.classList.add("jupyter-widget-tag"),n.classList.add("jupyter-widget-colortag"),r?(n.classList.add("mod-active"),n.style.backgroundColor=o):n.style.backgroundColor=s;let a=document.createElement("i");return a.classList.add("fa"),a.classList.add("fa-times"),a.classList.add("jupyter-widget-tag-close"),n.appendChild(a),a.onmousedown=(l=>()=>{this.removeTag(l),this.loseFocus()})(i),n}updateTag(e,i,r,n){let s=i,o=h_(i).darker().toString();n?(e.classList.add("mod-active"),e.style.backgroundColor=o):(e.classList.remove("mod-active"),e.style.backgroundColor=s)}validateValue(e){if(h_(e)==null)throw e+" is not a valid Color";return e}},Ax=class extends Tx{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}},Rx=class extends Gd{render(){this.model.on("change:format",()=>{this.formatter=Rl(this.model.get("format")),this.update()}),this.formatter=Rl(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){let i=this.parseNumber(e),r=this.model.get("min"),n=this.model.get("max");if(isNaN(i)||r!=null&&i<r||n!=null&&i>n)throw e+" is not a valid number, it should be in the range ["+r+", "+n+"]";return i}},gM=class extends Ax{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}},_M=class extends Rx{parseNumber(e){return parseFloat(e)}},vM=class extends Ax{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}},bM=class extends Rx{parseNumber(e){let i=parseInt(e);if(i!=parseFloat(e))throw e+" should be an integer";return i}}});var sJ,dl,Lx,Nx,Dx,Ox,bc,xc,xM,yM,wM,CM,SM,EM,IM,MM,vg,bg,kM,TM,AM,RM,LF=F(()=>{mr();go();Fs();Lf();sJ="jpwidgets-invalidComboValue",dl=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};dl.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});Lx=class extends dl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};Lx.styleProperties=Object.assign({},dl.styleProperties);Nx=class extends dl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};Nx.styleProperties=Object.assign({},dl.styleProperties);Dx=class extends dl{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};Dx.styleProperties=Object.assign(Object.assign({},dl.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});Ox=class extends Di{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:Ni})}};Ox.styleProperties=Object.assign(Object.assign({},Di.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});bc=class extends ci{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"\u200B",_model_name:"StringModel"})}},xc=class extends ii{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}},xM=class extends bc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}},yM=class extends xc{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}},wM=class extends bc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}},CM=class extends xc{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}},SM=class extends bc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}},EM=class extends xc{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}},IM=class extends bc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}},MM=class extends xc{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=Xt(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,i,r)=>{this.update_placeholder(i)}),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){let i=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",i.toString())}update(e){if(e===void 0||e.updated_view!==this){this.textbox.value=this.model.get("value");let i=this.model.get("rows");i===null&&(i=""),this.textbox.setAttribute("rows",i),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;let e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let i=e.target;this.model.set("value",i.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}},vg=class extends bc{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}},bg=class extends xc{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=Xt(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,i,r)=>{this.update_placeholder(i)}),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;let e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;let e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return(e===void 0||e.updated_view!==this)&&(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),e.keyCode===13&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){let i=e.target;this.model.set("value",i.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}},kM=class extends vg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}},TM=class extends bg{constructor(){super(...arguments),this.inputType="password"}},AM=class extends vg{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}},RM=class extends bg{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=Xt(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;let i=this.isValid(this.model.get("value"));if(this.highlightValidState(i),e!==void 0&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;let r=this.model.get("options"),n=document.createDocumentFragment();for(let s of r){let o=document.createElement("option");o.value=s,n.appendChild(o)}this.datalist.replaceChildren(...n.children)}isValid(e){return!(this.model.get("ensure_option")===!0&&this.model.get("options").indexOf(e)===-1)}handleChanging(e){let i=e.target,r=this.isValid(i.value);this.highlightValidState(r),r&&super.handleChanging(e)}handleChanged(e){let i=e.target,r=this.isValid(i.value);this.highlightValidState(r),r&&super.handleChanged(e)}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle(sJ,!e)}}});var zx,Yd,NF=F(()=>{mr();Li();zx=class extends ri{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}};zx.serializers=Object.assign(Object.assign({},ri.serializers),{value:{serialize:t=>t}});Yd=class extends Tt{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",()=>{this.fileInput.click()}),this.fileInput.addEventListener("click",()=>{this.fileInput.value=""}),this.fileInput.addEventListener("change",()=>{var e;let i=[];Array.from((e=this.fileInput.files)!==null&&e!==void 0?e:[]).forEach(r=>{i.push(new Promise((n,s)=>{let o=new FileReader;o.onload=()=>{let a=o.result;n({content:a,name:r.name,type:r.type,size:r.size,last_modified:r.lastModified})},o.onerror=()=>{s()},o.onabort=o.onerror,o.readAsArrayBuffer(r)}))}),Promise.all(i).then(r=>{this.model.set({value:r,error:""}),this.touch()}).catch(r=>{console.error("error in file upload: %o",r),this.model.set({error:r}),this.touch()})}),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));let e=this.model.get("value"),i=`${this.model.get("description")} (${e.length})`,r=this.model.get("icon");if(i.length||r.length){if(this.el.textContent="",r.length){let n=document.createElement("i");n.classList.add("fa"),n.classList.add("fa-"+r),i.length===0&&n.classList.add("center"),this.el.appendChild(n)}this.el.appendChild(document.createTextNode(i))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(Yd.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(Yd.class_map,"button_style",this.el)}};Yd.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}});var DF=qe((K1e,oJ)=>{oJ.exports={name:"@jupyter-widgets/controls",version:"5.0.11",description:"Jupyter interactive widgets",repository:{type:"git",url:"https://github.com/jupyter-widgets/ipywidgets.git"},license:"BSD-3-Clause",author:"Project Jupyter",main:"lib/index.js",typings:"lib/index.d.ts",files:["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],scripts:{build:"npm run build:src && npm run build:css","build:css":"lessc css/nouislider.less css/nouislider.css && postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js",clean:"npm run clean:src","clean:src":"rimraf lib && rimraf tsconfig.tsbuildinfo",prepublish:"npm run clean && npm run build",test:"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},dependencies:{"@jupyter-widgets/base":"^6.0.10","@lumino/algorithm":"^1.9.1 || ^2.1","@lumino/domutils":"^1.8.1 || ^2.1","@lumino/messaging":"^1.10.1 || ^2.1","@lumino/signaling":"^1.10.1 || ^2.1","@lumino/widgets":"^1.30.0 || ^2.1","d3-color":"^3.0.1","d3-format":"^3.0.1",jquery:"^3.1.1",nouislider:"15.4.0"},devDependencies:{"@jupyterlab/services":"^6.0.0 || ^7.0.0","@types/d3-color":"^3.0.2","@types/d3-format":"^3.0.1","@types/expect.js":"^0.3.29","@types/jquery":"^3.5.16","@types/mathjax":"^0.0.37","@types/mocha":"^9.0.0","@types/node":"^17.0.2",chai:"^4.0.0","css-loader":"^6.5.1","expect.js":"^0.3.1","istanbul-instrumenter-loader":"^3.0.1",karma:"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0",less:"^4.1.2",mocha:"^9.0.0","npm-run-all":"^4.1.5",postcss:"^8.3.2","postcss-cli":"^9.1.0","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0",rimraf:"^3.0.2",sinon:"^12.0.1","sinon-chai":"^3.3.0","style-loader":"^3.3.1",typescript:"~4.9.4",webpack:"^5.65.0"},gitHead:"35229eff5d87e4abf639d6b3c34ccc24845a44d4"}});var Px={};Oc(Px,{AccordionModel:()=>oM,AccordionView:()=>aM,AudioModel:()=>sx,AudioView:()=>bI,BaseIntSliderView:()=>qd,BoolModel:()=>lg,BoundedFloatModel:()=>Vd,BoundedFloatTextModel:()=>HI,BoundedIntModel:()=>Wd,BoundedIntTextModel:()=>kI,BoxModel:()=>ol,BoxView:()=>$s,ButtonModel:()=>lI,ButtonStyleModel:()=>ix,ButtonView:()=>$d,CheckboxModel:()=>rI,CheckboxStyleModel:()=>ex,CheckboxView:()=>nI,ColorPickerModel:()=>xI,ColorPickerView:()=>yI,ColorsInputModel:()=>mM,ColorsInputView:()=>pM,ComboboxModel:()=>AM,ComboboxView:()=>RM,ControllerAxisModel:()=>qI,ControllerAxisView:()=>UI,ControllerButtonModel:()=>$I,ControllerButtonView:()=>WI,ControllerModel:()=>vx,ControllerView:()=>VI,DatePickerModel:()=>ox,DatePickerView:()=>wI,DatetimeModel:()=>cg,DatetimeView:()=>EI,DescriptionModel:()=>Nf,DescriptionStyleModel:()=>Di,DescriptionView:()=>ii,DirectionalLinkModel:()=>ag,DropdownModel:()=>GI,DropdownView:()=>YI,FileUploadModel:()=>zx,FileUploadView:()=>Yd,FloatLogSliderModel:()=>NI,FloatLogSliderView:()=>zI,FloatModel:()=>mg,FloatProgressModel:()=>FI,FloatRangeSliderModel:()=>DI,FloatRangeSliderView:()=>PI,FloatSliderModel:()=>_x,FloatSliderView:()=>OI,FloatTextModel:()=>BI,FloatTextView:()=>jI,FloatsInputModel:()=>gM,FloatsInputView:()=>_M,GridBoxModel:()=>pI,GridBoxView:()=>mI,HBoxModel:()=>dI,HBoxView:()=>hI,HTMLMathModel:()=>wM,HTMLMathStyleModel:()=>Nx,HTMLMathView:()=>CM,HTMLModel:()=>xM,HTMLStyleModel:()=>Lx,HTMLView:()=>yM,ImageModel:()=>rx,ImageView:()=>_I,IntModel:()=>dg,IntProgressModel:()=>TI,IntRangeSliderModel:()=>II,IntRangeSliderView:()=>ug,IntSliderModel:()=>px,IntSliderView:()=>hg,IntTextModel:()=>MI,IntTextView:()=>fg,IntsInputModel:()=>vM,IntsInputView:()=>bM,JUPYTER_CONTROLS_VERSION:()=>Ni,JupyterLuminoAccordionWidget:()=>Ex,JupyterLuminoTabPanelWidget:()=>Ix,LabelModel:()=>SM,LabelStyleModel:()=>Dx,LabelView:()=>EM,LabeledDOMWidgetModel:()=>eI,LabeledDOMWidgetView:()=>tI,LinkModel:()=>iI,MultipleSelectionModel:()=>gg,NaiveDatetimeModel:()=>ux,PasswordModel:()=>kM,PasswordView:()=>TM,PlayModel:()=>AI,PlayView:()=>RI,ProgressStyleModel:()=>gx,ProgressView:()=>Ud,RadioButtonsModel:()=>KI,RadioButtonsView:()=>JI,SelectModel:()=>XI,SelectMultipleModel:()=>eM,SelectMultipleView:()=>tM,SelectView:()=>bx,SelectionContainerModel:()=>Of,SelectionModel:()=>cl,SelectionRangeSliderModel:()=>iM,SelectionRangeSliderView:()=>rM,SelectionSliderModel:()=>QI,SelectionSliderView:()=>yx,SelectionView:()=>pg,SliderStyleModel:()=>mx,StackModel:()=>dM,StackView:()=>uM,StringModel:()=>bc,StringView:()=>xc,TabModel:()=>lM,TabView:()=>cM,TagsInputModel:()=>Tx,TagsInputView:()=>Gd,TextModel:()=>vg,TextStyleModel:()=>Ox,TextView:()=>bg,TextareaModel:()=>IM,TextareaView:()=>MM,TimeModel:()=>al,TimeView:()=>CI,ToggleButtonModel:()=>sI,ToggleButtonStyleModel:()=>tx,ToggleButtonView:()=>Fd,ToggleButtonsModel:()=>ZI,ToggleButtonsStyleModel:()=>xx,ToggleButtonsView:()=>ll,VBoxModel:()=>uI,VBoxView:()=>fI,ValidModel:()=>oI,ValidView:()=>aI,VideoModel:()=>nx,VideoView:()=>vI,datetime_serializers:()=>cx,deserialize_date:()=>nF,deserialize_datetime:()=>lF,deserialize_naive:()=>dF,deserialize_time:()=>oF,escape_html:()=>QE,naive_serializers:()=>dx,reject:()=>VK,resolvePromisesDict:()=>Jo,serialize_date:()=>rF,serialize_datetime:()=>aF,serialize_naive:()=>cF,serialize_time:()=>lx,time_serializers:()=>ax,typeset:()=>ZE,uuid:()=>Xt,version:()=>aJ});var aJ,OF=F(()=>{Fs();Lf();Vj();Gj();Yj();gI();Zj();Qj();eF();iF();sF();uF();SI();LI();pF();_F();bF();TF();RF();LF();go();NF();aJ=DF().version});var zF=F(()=>{});var lJ,cJ,PF,BF=F(()=>{zF();lJ=t=>crypto.getRandomValues(new Uint8Array(t)),cJ=(t,e,i)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,n=-~(1.6*r*e/t.length);return(s=e)=>{let o="";for(;;){let a=i(n),l=n|0;for(;l--;)if(o+=t[a[l]&r]||"",o.length===s)return o}}},PF=(t,e=21)=>cJ(t,e,lJ)});function Bn(){return dJ()}function zf(t){return Array.isArray(t)?t.join(`
`):t}function HF({output_type:t}){return t==="display_data"||t==="execute_result"}function jF(t){return`
<div class="thebe-ipywidgets-placeholder">
  <div class="thebe-ipywidgets-placeholder-image"></div>
  <div class="thebe-ipywidgets-placeholder-message"><code>ipywidgets</code> - a Jupyter kernel connection is required to fully display this output.</div>
  ${t&&`<pre>${t}</pre>`}
</div>
`}function uJ(t,e=!0,i=jF){return t.map(r=>{if(!HF(r))return r;let n=r.data,s=xg,o=n[s],a=Cu(n,[typeof s=="symbol"?s:s+""]);if(!o)return r;let l=r.data;return e&&(l=Object.assign({},a)),i&&!("text/html"in l)&&(l["text/html"]=i(zf(l["text/plain"]))),Object.assign(Object.assign({},r),{data:l})})}var dJ,yc=F(()=>{Ii();BF();Bx();dJ=PF("1234567890abcdef",8)});function mJ(t){return dt(this,void 0,void 0,function*(){if(typeof document>"u")throw new Error("Cannot load requirejs outside of the browser");let e=yield fetch(fJ);if(!e.ok)throw new Error(`Could not fetch requirejs ${e.status} ${e.statusText}`);let i=yield e.text();return new Promise((r,n)=>{let s=document.createElement("iframe");s.style.display="none",s.onload=()=>{let o=s.contentWindow;if(!o)return n("Cannot load in isolated: no contentWindow, origin error?");o.window.eval(i);let a={require:o.window.require,define:o.window.define};if(!a.require||!a.define)return n("Require.js loading did not result in `require` and `define` objects attachment to window");a.require.config({baseUrl:t}),r(a),s.onload=null},document.body.appendChild(s)})})}var hJ,fJ,Hx,FF=F(()=>{Ii();hJ="https://cdn.jsdelivr.net/npm/",fJ="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js";Hx=class{constructor(e){this.baseUrl=e??hJ,this.requested=!1,this.resolveFn=()=>({}),this.ready=new Promise(i=>this.resolveFn=i)}load(e){return dt(this,void 0,void 0,function*(){return this.requested||(this.requested=!0,this.requirejs=yield mJ(this.baseUrl),yield e?.(this.requirejs.require,this.requirejs.define),this.resolveFn(this.requirejs)),this.ready})}}});function qF(t,e){return new Promise((i,r)=>t.require([`${e}`],i,r))}function pJ(t,e){let i=t,r="index",n=t.indexOf("/");return n!==-1&&t[0]==="@"&&(n=t.indexOf("/",n+1)),n!==-1&&(r=t.substr(n+1),i=t.substr(0,n)),`${WF}${i}@${e}/dist/${r}`}function $F(t,e,i){return dt(this,void 0,void 0,function*(){let r=pJ(e,i),n={paths:{}};n.paths[e]=r,t.require.config(n);try{return yield qF(t,e)}catch(s){throw console.error("thebe:loader requirejs error on cdn require",s),s}})}function UF(t,e,i,r=!1){return dt(this,void 0,void 0,function*(){return console.debug(`thebe:loader loading ${e}@${i}`),r?$F(t,e,i):t.require.defined(e)?qF(t,e):(console.debug(`thebe:loader falling back to ${WF} for ${e}@${i}`),$F(t,e,i))})}var WF,VF=F(()=>{Ii();WF="https://cdn.jsdelivr.net/npm/"});var xg,yg,Bx=F(()=>{Ii();lS();Xv();qj();Li();OF();yc();FF();VF();xg="application/vnd.jupyter.widget-view+json",yg=class extends ng{constructor(e,i){super(e,i),this.id=Bn(),this.addWidgetFactories(),this._registerWidgets(),this._loader=new Hx}addWidgetFactories(){this.rendermime.addFactory({safe:!1,mimeTypes:[xg],createRenderer:e=>new up(e,this)},1)}removeWidgetFactories(){this.rendermime.removeMimeType(xg)}build_widgets(){return dt(this,void 0,void 0,function*(){throw new Error("ThebeManager:build_widgets not implmented")})}display_view(e,i,r){return dt(this,void 0,void 0,function*(){return r.el&&me.attach(i.luminoWidget,r.el),i.el&&(i.el.setAttribute("data-thebe-jupyter-widget",""),i.el.addEventListener("jupyterWidgetResize",()=>{Re.postMessage(i.luminoWidget,me.ResizeMessage.UnknownSize)})),i.luminoWidget})}loadClass(e,i,r){let n=Object.create(null,{loadClass:{get:()=>super.loadClass}});return dt(this,void 0,void 0,function*(){this._loader.requested||(console.debug(`thebe:manager:loadClass initial requirejs load ${this.id}`),this._loader.load((o,a)=>{a("@jupyter-widgets/base",Gp),a("@jupyter-widgets/controls",Px),a("@jupyter-widgets/output",Rf)})),console.debug(`thebe:manager:loadClass ${i}@${r}`);let s=yield this._loader.ready;if(i==="@jupyter-widgets/base"||i==="@jupyter-widgets/controls"||i==="@jupyter-widgets/output")return n.loadClass.call(this,e,i,r);{let o;try{o=yield UF(s,i,r)}catch(a){throw console.error("thebe:manager:loadClass loader error",a),a}if(o[e])return o[e];throw console.error(`thebe:manager:loadClass ${e} not found in module ${i}@${r}`),new Error(`Class ${e} not found in module ${i}@${r}`)}})}_registerWidgets(){this.register({name:"@jupyter-widgets/base",version:nl,exports:Gp}),this.register({name:"@jupyter-widgets/controls",version:Ni,exports:Px}),this.register({name:"@jupyter-widgets/output",version:Rf.OUTPUT_WIDGET_VERSION,exports:Rf})}}});var ia,wg=F(()=>{Oa();ia=class{constructor(e,i,r,n){this._id=e,this._config=i,this._subject=r,this._object=n}triggerStatus({status:e,message:i}){console.debug(`${e} ${i}`),this._config.events.trigger(Lh.status,{subject:this._subject,id:this._id,object:this._object,status:e,message:i})}triggerError({status:e,message:i}){console.debug(`Error [${this._subject}][${this._id}] ${i}`),this._config.events.trigger(Lh.error,{subject:this._subject,id:this._id,object:this._object,status:e,message:i})}}});var LM,Cg,NM=F(()=>{Ii();Oa();Bx();wg();LM=class{constructor(e,i,r){var n;if(this.server=e,this.connection=i,this.events=new ia(this.connection.id,e.config,oo.session,this),this.connection.kernel==null)throw Error("ThebeSession - kernel is null");this.manager=new yg(this.connection.kernel,r),this.connection.statusChanged.connect((s,o)=>{let a;switch(o){case"starting":case"restarting":case"autorestarting":a=Rs.starting;break;case"idle":case"busy":a=Rs.ready;break;case"terminating":case"dead":default:a=Rs.shutdown;break}this.events.triggerStatus({status:a,message:`kernel ${this.connection.name} status changed to ${a}[${o}]`}),o==="dead"&&(this.events.triggerError({status:Rr.session,message:`kernel ${this.connection.name} is dead`}),this.dispose())}),this.connection.disposed.connect(()=>{this.events.triggerStatus({status:Rs.shutdown,message:`kernel ${this.connection.name} disposed`})}),this.events.triggerStatus({status:Rs.ready,message:`ThebeSession created, kernel '${(n=this.connection.kernel)===null||n===void 0?void 0:n.name}' available`})}get id(){return this.connection.id}get kernel(){var e;return(e=this.connection)===null||e===void 0?void 0:e.kernel}get path(){return this.connection.path}get name(){return this.connection.name}restart(){var e,i;return dt(this,void 0,void 0,function*(){console.debug(`requesting restart for kernel ${this.id}`);let r=(e=this.connection.kernel)===null||e===void 0?void 0:e.restart();this.events.triggerStatus({status:Rs.starting,message:"Kernel restart requested"}),yield r,this.events.triggerStatus({status:Rs.ready,message:`session restarted, kernel '${(i=this.connection.kernel)===null||i===void 0?void 0:i.name}' available`})})}shutdown(){return dt(this,void 0,void 0,function*(){this.connection.isDisposed||(yield this.connection.shutdown(),this.events.triggerStatus({status:Rs.shutdown,message:`session ${this.name}`}),this.dispose())})}dispose(){this.connection.isDisposed||this.connection.dispose()}},Cg=LM});function Sg(t){return dt(this,void 0,void 0,function*(){if(!t.ok)throw Error(`${t.status} - ${t.statusText}`);return yield t.json()})}function DM(t){return typeof t=="string"?t:t.message?t.message:t.status&&t.statusText?`${t.status} - ${t.statusText}`:JSON.stringify(t)}var Dr,Pf,Xd,OM=F(()=>{Ii();ez();ZC();Dr=H(Hy());NM();yc();Oa();wg();Pf=class{constructor(e){this.id=Bn(),this.config=e,this.events=new ia(this.id,e,oo.server,this),this.ready=new Promise((i,r)=>{this.resolveReadyFn=i,this.rejectReadyFn=r}),this._isDisposed=!1}get isBinder(){return!!this.binderUrls}get isReady(){var e,i;return(i=(e=this.sessionManager)===null||e===void 0?void 0:e.isReady)!==null&&i!==void 0?i:!1}get isDisposed(){return this._isDisposed}get settings(){var e;return(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings}shutdownSession(e){var i;return dt(this,void 0,void 0,function*(){return(i=this.sessionManager)===null||i===void 0?void 0:i.shutdown(e)})}shutdownAllSessions(){var e;return dt(this,void 0,void 0,function*(){return(e=this.sessionManager)===null||e===void 0?void 0:e.shutdownAll()})}check(){var e,i;return dt(this,void 0,void 0,function*(){return(yield Pf.status((i=(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings)!==null&&i!==void 0?i:this.config.serverSettings)).ok})}dispose(){var e,i,r,n;this._isDisposed||(!((e=this.serviceManager)===null||e===void 0)&&e.isDisposed||(i=this.serviceManager)===null||i===void 0||i.dispose(),!((r=this.sessionManager)===null||r===void 0)&&r.isDisposed||(n=this.sessionManager)===null||n===void 0||n.dispose(),this._isDisposed=!0)}startNewSession(e,i){var r,n,s;return dt(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let o=(r=i?.path)!==null&&r!==void 0?r:this.config.kernels.path,a="thebe.ipynb",l=o.match(/\/*([a-zA-Z0-9-]+.ipynb)$/);l&&(a=l[1]);let c=(n=i?.kernelName)!==null&&n!==void 0?n:this.config.kernels.kernelName;console.debug("thebe:api:startNewSession server",this),console.debug("thebe:api:startNewSession",{name:a,path:o,kernelName:c}),this.serviceManager&&(o=o.slice(1).replace(/\//g,"-"));let u=yield(s=this.sessionManager)===null||s===void 0?void 0:s.startNew({name:a,path:o,type:"notebook",kernel:{name:c}});return new Cg(this,u,e)})}listRunningSessions(){var e;return dt(this,void 0,void 0,function*(){yield this.ready;let i=(e=this.sessionManager)===null||e===void 0?void 0:e.running(),r=[],n=i?.next();for(;n&&!n.done;)r.push(n.value),n=i?.next();return r})}refreshRunningSessions(){var e;return dt(this,void 0,void 0,function*(){return yield this.ready,yield(e=this.sessionManager)===null||e===void 0?void 0:e.refreshRunning(),this.listRunningSessions()})}connectToExistingSession(e,i){var r;return dt(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let n=(r=this.sessionManager)===null||r===void 0?void 0:r.connectTo({model:e});return new Cg(this,n,i)})}clearSavedBinderSessions(){return dt(this,void 0,void 0,function*(){let e=this.makeBinderUrls();window.localStorage.removeItem(e.storageKey)})}connectToJupyterServer(){var e;return dt(this,void 0,void 0,function*(){console.debug("thebe:api:connectToJupyterServer:serverSettings:",this.config.serverSettings);let i=Dr.ServerConnection.makeSettings(this.config.serverSettings);try{this.events.triggerStatus({status:Pi.launching,message:"Checking server url"}),yield Pf.status(i),this.events.triggerStatus({status:Pi.launching,message:"Server reachable"})}catch(n){let s=`Server not reachable (${i.baseUrl}) - ${n}`;this.events.triggerError({status:Rr.error,message:s}),(e=this.rejectReadyFn)===null||e===void 0||e.call(this,s);return}let r=new Dr.KernelManager({serverSettings:i});return this.events.triggerStatus({status:Pi.launching,message:"Created KernelManager"}),this.sessionManager=new Dr.SessionManager({kernelManager:r,serverSettings:i}),this.sessionManager.connectionFailure.connect((n,s)=>{this.events.triggerError({status:Rr.server,message:`connection failure: ${s}`})}),this.sessionManager.runningChanged.connect((n,s)=>{this.events.triggerStatus({status:Pi.ready,message:`${s.length} running sessions changed: ${s.map(o=>o.name).join(",")}`})}),this.events.triggerStatus({status:Pi.ready,message:"Created SessionManager"}),this.sessionManager.ready.then(()=>{var n;this.userServerUrl=`${i.baseUrl}?token=${i.token}`,this.events.triggerStatus({status:Pi.ready,message:"Server connection ready"}),(n=this.resolveReadyFn)===null||n===void 0||n.call(this,this)},n=>{var s;return(s=this.rejectReadyFn)===null||s===void 0?void 0:s.call(this,DM(n))})})}connectToJupyterLiteServer(e){var i;return dt(this,void 0,void 0,function*(){if(this.events.triggerStatus({status:Pi.launching,message:"Connecting to JupyterLite"}),!window.thebeLite)throw new Error("thebe-lite is not available at window.thebeLite - load this onto your page before loading thebe or thebe-core.");return this.serviceManager=yield window.thebeLite.startJupyterLiteServer(e),this.events.triggerStatus({status:Pi.launching,message:"Started JupyterLite server"}),console.debug("thebe:api:connectToJupyterLiteServer:serverSettings:",this.serviceManager.serverSettings),this.sessionManager=this.serviceManager.sessions,this.events.triggerStatus({status:Pi.launching,message:"Received SessionMananger from JupyterLite"}),(i=this.sessionManager)===null||i===void 0?void 0:i.ready.then(()=>{var r;this.userServerUrl="/",this.events.triggerStatus({status:Pi.ready,message:"Server connection established"}),(r=this.resolveReadyFn)===null||r===void 0||r.call(this,this)},r=>{var n;return(n=this.rejectReadyFn)===null||n===void 0?void 0:n.call(this,DM(r))})})}makeBinderUrls(){var e;return Vv(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:Uv)}checkForSavedBinderSession(){var e;return dt(this,void 0,void 0,function*(){try{let{storageKey:i}=Vv(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:Uv);return iz(this.config.savedSessions,i)}catch(i){return this.events.triggerError({status:Rr.error,message:`${i} - Failed to check for saved session.`}),null}})}connectToServerViaBinder(e){return dt(this,void 0,void 0,function*(){this.events.triggerStatus({status:Pi.launching,message:`Connecting to binderhub at ${this.config.binder.binderUrl}`}),this.repoProviders=[...Uv,...e??[]];try{this.binderUrls=Vv(this.config,this.repoProviders)}catch(s){this.events.triggerError({status:Rr.error,message:`${s} - Failed to connect to binderhub at ${this.config.binder.binderUrl}`});return}let i=this.binderUrls;if(this.events.triggerStatus({status:Pi.launching,message:`Binder build url is ${i.build}`}),this.config.savedSessions.enabled){console.debug("thebe:server:connectToServerViaBinder Checking for saved session...");let s=yield this.checkForSavedBinderSession();if(s){let o=Dr.ServerConnection.makeSettings(s),a=new Dr.KernelManager({serverSettings:o});return this.events.triggerStatus({status:Pi.launching,message:"Created KernelManager"}),this.sessionManager=new Dr.SessionManager({kernelManager:a,serverSettings:o}),this.events.triggerStatus({status:Pi.launching,message:"Created KernelManager"}),this.sessionManager.ready.then(()=>{var l;this.userServerUrl=`${o.baseUrl}?token=${o.token}`,this.events.triggerStatus({status:Pi.ready,message:"Re-connected to binder server"}),(l=this.resolveReadyFn)===null||l===void 0||l.call(this,this)},l=>{var c;return(c=this.rejectReadyFn)===null||c===void 0?void 0:c.call(this,DM(l))})}}let r={status:Pi.launching},n=new EventSource(i.build);this.events.triggerStatus({status:r.status,message:`Opened connection to binder: ${i.build}`}),n.onerror=s=>{var o;console.error(`Lost connection to binder: ${i.build}`,s),n?.close(),r.status=Rr.error;let a=s?.data,l=a?a.phase:"unknown",c=`Lost connection to binder: ${i.build}
phase: ${l} - ${a?a.message:"no message"}`;this.events.triggerError({status:Rr.error,message:c}),(o=this.rejectReadyFn)===null||o===void 0||o.call(this,c)},n.onmessage=s=>dt(this,void 0,void 0,function*(){var o,a,l,c;let u=JSON.parse(s.data),d=(a=(o=u.phase)===null||o===void 0?void 0:o.toLowerCase())!==null&&a!==void 0?a:"";switch(d){case"failed":n?.close(),r.status=Rr.error,this.events.triggerError({status:Rr.error,message:`Binder: failed to build - ${i.build} - ${u.message}`}),(l=this.rejectReadyFn)===null||l===void 0||l.call(this,u.message);break;case"ready":{n?.close();let f={baseUrl:u.url,wsUrl:"ws"+u.url.slice(4),token:u.token,appendToken:!0},h=Dr.ServerConnection.makeSettings(f),m=new Dr.KernelManager({serverSettings:h});this.sessionManager=new Dr.SessionManager({kernelManager:m,serverSettings:h}),this.config.savedSessions.enabled&&(tz(i.storageKey,this.id,h),console.debug(`thebe:server:connectToServerViaBinder Saved session for ${this.id} at ${i.build}`)),yield this.sessionManager.ready,this.userServerUrl=`${u.url}?token=${u.token}`,r.status=Pi.ready,this.events.triggerStatus({status:r.status,message:`Binder server is ready: ${u.message}`}),(c=this.resolveReadyFn)===null||c===void 0||c.call(this,this)}break;default:this.events.triggerStatus({status:r.status,message:`Binder is: ${d} - ${u.message}`})}})})}getFetchUrl(e){var i,r;if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");if(!(!((i=this.sessionManager)===null||i===void 0)&&i.serverSettings))throw new Error("No server settings available in session manager");let n=(r=this.sessionManager)===null||r===void 0?void 0:r.serverSettings,s=new URL(n.baseUrl),o=new URL(`${s.pathname}${e}`.replace("//","/"),s.origin);return o.searchParams.append("token",n.token),o}static status(e){return Dr.ServerConnection.makeRequest(`${e.baseUrl}api/status`,{},Dr.ServerConnection.makeSettings(e))}getKernelSpecs(){var e;return dt(this,void 0,void 0,function*(){if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");return Dr.KernelSpecAPI.getSpecs(Dr.ServerConnection.makeSettings((e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings))})}getContents(e){return dt(this,void 0,void 0,function*(){let i=this.getFetchUrl(`/api/contents/${e.path}`);return e.type&&i.searchParams.append("type",e.type),e.format&&i.searchParams.append("format",e.format),i.searchParams.append("content",e.returnContent?"1":"0"),Sg(yield fetch(i))})}duplicateFile(e){return dt(this,void 0,void 0,function*(){let i=this.getFetchUrl(`/api/contents/${e.path}`),{copy_from:r,ext:n,type:s}=e;return Sg(yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({copy_from:r,ext:n,type:s})}))})}createDirectory(e){return dt(this,void 0,void 0,function*(){let i=this.getFetchUrl(`/api/contents/${e.path}`);return Sg(yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"directory"})}))})}renameContents(e){return dt(this,void 0,void 0,function*(){let{path:i,newPath:r}=e,n=this.getFetchUrl(`/api/contents/${i}`);return Sg(yield fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r})}))})}uploadFile(e){return dt(this,void 0,void 0,function*(){let{path:i,content:r,format:n,type:s}=e,o=this.getFetchUrl(`/api/contents/${i}`);return console.debug("thebe:api:server:uploadFile",o),Sg(yield fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:i,content:r,format:n??"json",type:s??"notebook"})}))})}},Xd=Pf});var YF=qe((jx,GF)=>{(function(t,e){typeof jx=="object"&&typeof GF<"u"?e(jx):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.lumino_coreutils={}))})(jx,function(t){"use strict";t.JSONExt=void 0,function(o){o.emptyObject=Object.freeze({}),o.emptyArray=Object.freeze([]);function a(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"}o.isPrimitive=a;function l(_){return Array.isArray(_)}o.isArray=l;function c(_){return!a(_)&&!l(_)}o.isObject=c;function u(_,x){if(_===x)return!0;if(a(_)||a(x))return!1;var y=l(_),C=l(x);return y!==C?!1:y&&C?f(_,x):h(_,x)}o.deepEqual=u;function d(_){return a(_)?_:l(_)?m(_):p(_)}o.deepCopy=d;function f(_,x){if(_===x)return!0;if(_.length!==x.length)return!1;for(var y=0,C=_.length;y<C;++y)if(!u(_[y],x[y]))return!1;return!0}function h(_,x){if(_===x)return!0;for(var y in _)if(_[y]!==void 0&&!(y in x))return!1;for(var y in x)if(x[y]!==void 0&&!(y in _))return!1;for(var y in _){var C=_[y],k=x[y];if(!(C===void 0&&k===void 0)&&(C===void 0||k===void 0||!u(C,k)))return!1}return!0}function m(_){for(var x=new Array(_.length),y=0,C=_.length;y<C;++y)x[y]=d(_[y]);return x}function p(_){var x={};for(var y in _){var C=_[y];C!==void 0&&(x[y]=d(C))}return x}}(t.JSONExt||(t.JSONExt={}));var e=function(){function o(){this._types=[],this._values=[]}return o.prototype.types=function(){return this._types.slice()},o.prototype.hasData=function(a){return this._types.indexOf(a)!==-1},o.prototype.getData=function(a){var l=this._types.indexOf(a);return l!==-1?this._values[l]:void 0},o.prototype.setData=function(a,l){this.clearData(a),this._types.push(a),this._values.push(l)},o.prototype.clearData=function(a){var l=this._types.indexOf(a);l!==-1&&(this._types.splice(l,1),this._values.splice(l,1))},o.prototype.clear=function(){this._types.length=0,this._values.length=0},o}(),i=function(){function o(){var a=this;this.promise=new Promise(function(l,c){a._resolve=l,a._reject=c})}return o.prototype.resolve=function(a){var l=this._resolve;l(a)},o.prototype.reject=function(a){var l=this._reject;l(a)},o}(),r=function(){function o(a){this.name=a,this._tokenStructuralPropertyT=null}return o}();function n(o){for(var a=0,l=0,c=o.length;l<c;++l)l%4===0&&(a=Math.random()*4294967295>>>0),o[l]=a&255,a>>>=8}t.Random=void 0,function(o){o.getRandomValues=function(){var a=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return a&&typeof a.getRandomValues=="function"?function(c){return a.getRandomValues(c)}:n}()}(t.Random||(t.Random={}));function s(o){for(var a=new Uint8Array(16),l=new Array(256),c=0;c<16;++c)l[c]="0"+c.toString(16);for(var c=16;c<256;++c)l[c]=c.toString(16);return function(){return o(a),a[6]=64|a[6]&15,a[8]=128|a[8]&63,l[a[0]]+l[a[1]]+l[a[2]]+l[a[3]]+"-"+l[a[4]]+l[a[5]]+"-"+l[a[6]]+l[a[7]]+"-"+l[a[8]]+l[a[9]]+"-"+l[a[10]]+l[a[11]]+l[a[12]]+l[a[13]]+l[a[14]]+l[a[15]]}}t.UUID=void 0,function(o){o.uuid4=s(t.Random.getRandomValues)}(t.UUID||(t.UUID={})),t.MimeData=e,t.PromiseDelegate=i,t.Token=r,Object.defineProperty(t,"__esModule",{value:!0})})});var XF,Fx,KF=F(()=>{XF=H(YF()),Fx=class{constructor(e){this._initPromise=new XF.PromiseDelegate,this._initialized=!1,this._url=e.url,this._config=e.config}typeset(e){this._initialized||this._init(),this._initPromise.promise.then(()=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]);try{MathJax.Hub.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/TeX/AMSmath.js"],()=>{MathJax.InputJax.TeX.resetEquationNumbers()})}catch(i){console.error("Error queueing resetEquationNumbers:",i)}})}_init(){let e=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=`${this._url}?config=${this._config}&amp;delayStartupUntil=configured`,i.charset="utf-8",e.appendChild(i),i.addEventListener("load",()=>{this._onLoad()}),this._initialized=!0}_onLoad(){MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center",CommonHTML:{linebreaks:{automatic:!0}},"HTML-CSS":{availableFonts:[],imageFont:null,preferredFont:null,webFont:"STIX-Web",styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}},skipStartupTypeset:!0,messageStyle:"none"}),MathJax.Hub.Register.StartupHook("End Config",()=>{var e,i,r,n,s,o;(r=(i=(e=MathJax.Hub)===null||e===void 0?void 0:e.config)===null||i===void 0?void 0:i.MathEvents)===null||r===void 0||delete r.styles[".MathJax_Hover_Arrow:hover span"],(o=(s=(n=MathJax.Hub)===null||n===void 0?void 0:n.config)===null||s===void 0?void 0:s.MathMenu)===null||o===void 0||delete o.styles[".MathJax_MenuClose:hover span"]}),MathJax.Hub.Configured(),this._initPromise.resolve(void 0)}}});function vJ(code,element,document,window){return eval(code)}var gJ,_J,zM,PM,bJ,tIe,JF=F(()=>{bb();gJ="text/javascript",_J="application/javascript";zM=class extends op{render(e){let i=this.translator.load("jupyterlab"),r=()=>{try{let n=e.data[this.mimeType];return n&&vJ(n,this.node,document,window),Promise.resolve()}catch(n){return Promise.reject(n)}};if(!e.trusted){let n=document.createElement("pre");n.textContent=i.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");let s=document.createElement("button");return s.textContent=i.__("Run"),this.node.appendChild(n),this.node.appendChild(s),s.onclick=o=>{this.node.textContent="",r()},Promise.resolve()}return r()}},PM={safe:!1,mimeTypes:[gJ,_J],createRenderer:t=>new zM(t)},bJ={id:"@jupyterlab/javascript-extension:factory",description:"Adds renderer for JavaScript content.",rendererFactory:PM,rank:0,dataType:"string"},tIe=bJ});var Bf,ul,ZF=F(()=>{Bf=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(let i of e)this.addLast(i)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let i=new ul.LinkedListNode(this,e);return this._first?(i.next=this._first,this._first.prev=i,this._first=i):(this._first=i,this._last=i),this._size++,i}addLast(e){let i=new ul.LinkedListNode(this,e);return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._first=i,this._last=i),this._size++,i}insertBefore(e,i){if(!i||i===this._first)return this.addFirst(e);if(!(i instanceof ul.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new ul.LinkedListNode(this,e),n=i,s=n.prev;return r.next=n,r.prev=s,n.prev=r,s.next=r,this._size++,r}insertAfter(e,i){if(!i||i===this._last)return this.addLast(e);if(!(i instanceof ul.LinkedListNode)||i.list!==this)throw new Error("Reference node is not owned by the list.");let r=new ul.LinkedListNode(this,e),n=i,s=n.next;return r.next=s,r.prev=n,n.next=r,s.prev=r,this._size++,r}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof ul.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let i=e;i===this._first&&i===this._last?(this._first=null,this._last=null):i===this._first?(this._first=i.next,this._first.prev=null):i===this._last?(this._last=i.prev,this._last.next=null):(i.next.prev=i.prev,i.prev.next=i.next),i.list=null,i.next=null,i.prev=null,this._size--}clear(){let e=this._first;for(;e;){let i=e.next;e.list=null,e.prev=null,e.next=null,e=i}this._first=null,this._last=null,this._size=0}};(function(t){function e(i){let r=new t;return r.assign(i),r}t.from=e})(Bf||(Bf={}));(function(t){class e{constructor(r,n){this.list=null,this.next=null,this.prev=null,this.list=r,this.value=n}}t.LinkedListNode=e})(ul||(ul={}))});var bn,wc,ze,QF=F(()=>{_a();ZF();bn=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},wc=class extends bn{get isConflatable(){return!0}conflate(e){return!0}};(function(t){let e=null,i=(E=>T=>{let R=!1;return E.then(()=>!R&&T()),()=>{R=!0}})(Promise.resolve());function r(E,T){let R=f.get(E);if(!R||R.length===0){x(E,T);return}Ml(Tl(R),Y=>Y?_(Y,E,T):!0)&&x(E,T)}t.sendMessage=r;function n(E,T){if(!T.isConflatable){y(E,T);return}kl(d,P=>P.handler!==E||!P.msg||P.msg.type!==T.type||!P.msg.isConflatable?!1:P.msg.conflate(T))||y(E,T)}t.postMessage=n;function s(E,T){let R=f.get(E);R&&R.indexOf(T)!==-1||(R?R.push(T):f.set(E,[T]))}t.installMessageHook=s;function o(E,T){let R=f.get(E);if(!R)return;let P=R.indexOf(T);P!==-1&&(R[P]=null,k(R))}t.removeMessageHook=o;function a(E){let T=f.get(E);T&&T.length>0&&(B.fill(T,null),k(T));for(let R of d)R.handler===E&&(R.handler=null,R.msg=null)}t.clearData=a;function l(){p||e===null||(e(),e=null,p=!0,C(),p=!1)}t.flush=l;function c(){return m}t.getExceptionHandler=c;function u(E){let T=m;return m=E,T}t.setExceptionHandler=u;let d=new Bf,f=new WeakMap,h=new Set,m=E=>{console.error(E)},p=!1;function _(E,T,R){let P=!0;try{typeof E=="function"?P=E(T,R):P=E.messageHook(T,R)}catch(Y){m(Y)}return P}function x(E,T){try{E.processMessage(T)}catch(R){m(R)}}function y(E,T){d.addLast({handler:E,msg:T}),e===null&&(e=i(C))}function C(){if(e=null,d.isEmpty)return;let E={handler:null,msg:null};for(d.addLast(E);;){let T=d.removeFirst();if(T===E)return;T.handler&&T.msg&&r(T.handler,T.msg)}}function k(E){h.size===0&&i(M),h.add(E)}function M(){h.forEach(v),h.clear()}function v(E){B.removeAllWhere(E,I)}function I(E){return E===null}})(ze||(ze={}))});var tr,Qr,e3=F(()=>{Al();tr=class{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:i,edge:r,distance:n}=this._scrollTarget,s=Qr.SCROLL_EDGE_SIZE-n,o=Math.pow(s/Qr.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(o*Qr.SCROLL_EDGE_SIZE));switch(r){case"top":i.scrollTop-=a;break;case"left":i.scrollLeft-=a;break;case"right":i.scrollLeft+=a;break;case"bottom":i.scrollTop+=a;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Qr.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,i){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,i),this._promise=new Promise(n=>{this._resolve=n});let r=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:i});return document.dispatchEvent(r),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,i){if(!this.dragImage)return;let r=this.dragImage.style;r.transform=`translate(${e}px, ${i}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Qr.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let i=Qr.dispatchDrop(this,this._currentTarget,e);this._finalize(i)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let i=Qr.findScrollTarget(e);!this._scrollTarget&&!i||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=i)}_updateCurrentTarget(e){let i=this._currentTarget,r=this._currentTarget,n=this._currentElement,s=Qr.findElementBehindBackdrop(e,this.document);this._currentElement=s,s!==n&&s!==r&&Qr.dispatchDragExit(this,r,s,e),s!==n&&s!==r&&(r=Qr.dispatchDragEnter(this,s,r,e)),r!==i&&(this._currentTarget=r,Qr.dispatchDragLeave(this,i,r,e));let o=Qr.dispatchDragOver(this,r,e);this._setDropAction(o)}_attachDragImage(e,i){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let r=this.dragImage.style;r.pointerEvents="none",r.position="fixed",r.transform=`translate(${e}px, ${i}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Qr.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=tr.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=tr.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=tr.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=tr.overrideCursor("move",this.document);break}}_finalize(e){let i=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,i&&i(e)}};(function(t){class e extends DragEvent{constructor(n,s){super(s.type,{bubbles:!0,cancelable:!0,altKey:n.altKey,button:n.button,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,detail:0,metaKey:n.metaKey,relatedTarget:s.related,screenX:n.screenX,screenY:n.screenY,shiftKey:n.shiftKey,view:window});let{drag:o}=s;this.dropAction="none",this.mimeData=o.mimeData,this.proposedAction=o.proposedAction,this.supportedActions=o.supportedActions,this.source=o.source}}t.Event=e;function i(r,n=document){return Qr.overrideCursor(r,n)}t.overrideCursor=i})(tr||(tr={}));(function(t){t.SCROLL_EDGE_SIZE=20;function e(k,M){return d[k]&f[M]?k:"none"}t.validateAction=e;function i(k,M=document){if(k){if(r&&k==r.event)return r.element;t.cursorBackdrop.style.zIndex="-1000";let v=M.elementFromPoint(k.clientX,k.clientY);return t.cursorBackdrop.style.zIndex="",r={event:k,element:v},v}else{let v=t.cursorBackdrop.style.transform;if(n&&v===n.transform)return n.element;let I=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";let E=M.elementFromPoint(I.left+I.width/2,I.top+I.height/2);return t.cursorBackdrop.style.zIndex="",n={transform:v,element:E},E}}t.findElementBehindBackdrop=i;let r=null,n=null;function s(k){let M=k.clientX,v=k.clientY,I=i(k);for(;I;I=I.parentElement){if(!I.hasAttribute("data-lm-dragscroll"))continue;let E=0,T=0;I===document.body&&(E=window.pageXOffset,T=window.pageYOffset);let R=I.getBoundingClientRect(),P=R.top+T,Y=R.left+E,re=Y+R.width,de=P+R.height;if(M<Y||M>=re||v<P||v>=de)continue;let te=M-Y+1,G=v-P+1,X=re-M,Z=de-v,ye=Math.min(te,G,X,Z);if(ye>t.SCROLL_EDGE_SIZE)continue;let ue;switch(ye){case Z:ue="bottom";break;case G:ue="top";break;case X:ue="right";break;case te:ue="left";break;default:throw"unreachable"}let xe=I.scrollWidth-I.clientWidth,ke=I.scrollHeight-I.clientHeight,We;switch(ue){case"top":We=ke>0&&I.scrollTop>0;break;case"left":We=xe>0&&I.scrollLeft>0;break;case"right":We=xe>0&&I.scrollLeft<xe;break;case"bottom":We=ke>0&&I.scrollTop<ke;break;default:throw"unreachable"}if(We)return{element:I,edge:ue,distance:ye}}return null}t.findScrollTarget=s;function o(k,M,v,I){if(!M)return null;let E=new tr.Event(I,{drag:k,related:v,type:"lm-dragenter"});if(!M.dispatchEvent(E))return M;let R=k.document instanceof Document?k.document.body:k.document.firstElementChild;return M===R?v:(E=new tr.Event(I,{drag:k,related:v,type:"lm-dragenter"}),R.dispatchEvent(E),R)}t.dispatchDragEnter=o;function a(k,M,v,I){if(!M)return;let E=new tr.Event(I,{drag:k,related:v,type:"lm-dragexit"});M.dispatchEvent(E)}t.dispatchDragExit=a;function l(k,M,v,I){if(!M)return;let E=new tr.Event(I,{drag:k,related:v,type:"lm-dragleave"});M.dispatchEvent(E)}t.dispatchDragLeave=l;function c(k,M,v){if(!M)return"none";let I=new tr.Event(v,{drag:k,related:null,type:"lm-dragover"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDragOver=c;function u(k,M,v){if(!M)return"none";let I=new tr.Event(v,{drag:k,related:null,type:"lm-drop"});return M.dispatchEvent(I)?"none":I.dropAction}t.dispatchDrop=u;let d={none:0,copy:1,link:2,move:4},f={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function h(k,M=document){let v=++C,I=M instanceof Document?M.body:M.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",I.appendChild(t.cursorBackdrop),_(),document.addEventListener("pointermove",m,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",p,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=k,new _s(()=>{v===C&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",m,!0),t.cursorBackdrop.removeEventListener("scroll",p,!0),I.removeChild(t.cursorBackdrop))})}t.overrideCursor=h;function m(k){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${k.clientX}px, ${k.clientY}px)`)}function p(k){if(!t.cursorBackdrop)return;let M=i();if(!M)return;let v=M.closest("[data-lm-dragscroll]");v&&(v.scrollTop+=t.cursorBackdrop.scrollTop-x,v.scrollLeft+=t.cursorBackdrop.scrollLeft-x,_())}function _(){t.cursorBackdrop.scrollTop=x,t.cursorBackdrop.scrollLeft=x}let x=500;function y(){let k=document.createElement("div");return k.classList.add("lm-cursor-backdrop"),k}let C=0;t.cursorBackdrop=y()})(Qr||(Qr={}))});var pl,ra,ns,Eg,ge,$x,sa,Jd,Hf,jf,Ig,Mg,vo,fl,BM,Wx,qx,HM,Zd,jM,kg,FM,ss,Kd,Ux,$M,Ff,hl,na,xn,t3,xJ,Cc,Ws,WM,Fi,Qd,Oi,ml,pr,$f,Vx,i3,r3,qM,n3,s3,o3=F(()=>{_a();pl=H(Hr());s_();QF();_m();gs();e3();a_();l_();Al();o_();ra=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};(function(t){function e(s,o){let a=s.length;if(a===0)return o;let l=0,c=0,u=0,d=0,f=0;for(let p=0;p<a;++p){let _=s[p],x=_.minSize,y=_.maxSize,C=_.sizeHint;_.done=!1,_.size=Math.max(x,Math.min(C,y)),u+=_.size,l+=x,c+=y,_.stretch>0&&(d+=_.stretch,f++)}if(o===u)return 0;if(o<=l){for(let p=0;p<a;++p){let _=s[p];_.size=_.minSize}return o-l}if(o>=c){for(let p=0;p<a;++p){let _=s[p];_.size=_.maxSize}return o-c}let h=.01,m=a;if(o<u){let p=u-o;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size-k<=C.minSize?(p-=C.size-C.minSize,d-=C.stretch,C.size=C.minSize,C.done=!0,m--,f--):(p-=k,C.size-=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size-_<=y.minSize?(p-=y.size-y.minSize,y.size=y.minSize,y.done=!0,m--):(p-=_,y.size-=_))}}}else{let p=o-u;for(;f>0&&p>h;){let _=p,x=d;for(let y=0;y<a;++y){let C=s[y];if(C.done||C.stretch===0)continue;let k=C.stretch*_/x;C.size+k>=C.maxSize?(p-=C.maxSize-C.size,d-=C.stretch,C.size=C.maxSize,C.done=!0,m--,f--):(p-=k,C.size+=k)}}for(;m>0&&p>h;){let _=p/m;for(let x=0;x<a;++x){let y=s[x];y.done||(y.size+_>=y.maxSize?(p-=y.maxSize-y.size,y.size=y.maxSize,y.done=!0,m--):(p-=_,y.size+=_))}}}return 0}t.calc=e;function i(s,o,a){s.length===0||a===0||(a>0?r(s,o,a):n(s,o,-a))}t.adjust=i;function r(s,o,a){let l=0;for(let f=0;f<=o;++f){let h=s[f];l+=h.maxSize-h.size}let c=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];c+=m.size-m.minSize}a=Math.min(a,l,c);let u=a;for(let f=o;f>=0&&u>0;--f){let h=s[f],m=h.maxSize-h.size;m>=u?(h.sizeHint=h.size+u,u=0):(h.sizeHint=h.size+m,u-=m)}let d=a;for(let f=o+1,h=s.length;f<h&&d>0;++f){let m=s[f],p=m.size-m.minSize;p>=d?(m.sizeHint=m.size-d,d=0):(m.sizeHint=m.size-p,d-=p)}}function n(s,o,a){let l=0;for(let f=o+1,h=s.length;f<h;++f){let m=s[f];l+=m.maxSize-m.size}let c=0;for(let f=0;f<=o;++f){let h=s[f];c+=h.size-h.minSize}a=Math.min(a,l,c);let u=a;for(let f=o+1,h=s.length;f<h&&u>0;++f){let m=s[f],p=m.maxSize-m.size;p>=u?(m.sizeHint=m.size+u,u=0):(m.sizeHint=m.size+p,u-=p)}let d=a;for(let f=o;f>=0&&d>0;--f){let h=s[f],m=h.size-h.minSize;m>=d?(h.sizeHint=h.size-d,d=0):(h.sizeHint=h.size-m,d-=m)}}})(ns||(ns={}));Eg=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Te(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Te.clearData(this))}},ge=class{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Te(this),this._hiddenMode=ge.HiddenMode.Display,this.node=$x.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(ge.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&ge.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Te.clearData(this),ze.clearData(this),ut.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(ge.Flag.IsDisposed)}get isAttached(){return this.testFlag(ge.Flag.IsAttached)}get isHidden(){return this.testFlag(ge.Flag.IsHidden)}get isVisible(){return this.testFlag(ge.Flag.IsVisible)}get title(){return $x.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==ge.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let i=new ge.ChildMessage("child-removed",this);ze.sendMessage(this._parent,i)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let i=new ge.ChildMessage("child-added",this);ze.sendMessage(this._parent,i)}this.isDisposed||ze.sendMessage(this,ge.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(ge.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let i=e;i;i=i._parent)if(i===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,i){return i===!0?(this.node.classList.add(e),!0):i===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){ze.postMessage(this,ge.Msg.UpdateRequest)}fit(){ze.postMessage(this,ge.Msg.FitRequest)}activate(){ze.postMessage(this,ge.Msg.ActivateRequest)}close(){ze.sendMessage(this,ge.Msg.CloseRequest)}show(){if(this.testFlag(ge.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.BeforeShow),this.clearFlag(ge.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.AfterShow),this.parent)){let e=new ge.ChildMessage("child-shown",this);ze.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(ge.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.BeforeHide),this.setFlag(ge.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&ze.sendMessage(this,ge.Msg.AfterHide),this.parent)){let e=new ge.ChildMessage("child-hidden",this);ze.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(ge.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(ge.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(ge.Flag.IsVisible),this.setFlag(ge.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(ge.Flag.IsVisible),this.clearFlag(ge.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&ge.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case ge.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case ge.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case ge.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case ge.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case ge.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case ge.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(s){s[s.Display=0]="Display",s[s.Scale=1]="Scale",s[s.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),function(s){s[s.IsDisposed=1]="IsDisposed",s[s.IsAttached=2]="IsAttached",s[s.IsHidden=4]="IsHidden",s[s.IsVisible=8]="IsVisible",s[s.DisallowLayout=16]="DisallowLayout"}(t.Flag||(t.Flag={})),function(s){s.BeforeShow=new bn("before-show"),s.AfterShow=new bn("after-show"),s.BeforeHide=new bn("before-hide"),s.AfterHide=new bn("after-hide"),s.BeforeAttach=new bn("before-attach"),s.AfterAttach=new bn("after-attach"),s.BeforeDetach=new bn("before-detach"),s.AfterDetach=new bn("after-detach"),s.ParentChanged=new bn("parent-changed"),s.UpdateRequest=new wc("update-request"),s.FitRequest=new wc("fit-request"),s.ActivateRequest=new wc("activate-request"),s.CloseRequest=new wc("close-request")}(t.Msg||(t.Msg={}));class e extends bn{constructor(o,a){super(o),this.child=a}}t.ChildMessage=e;class i extends bn{constructor(o,a){super("resize"),this.width=o,this.height=a}}t.ResizeMessage=i,function(s){s.UnknownSize=new s(-1,-1)}(i=t.ResizeMessage||(t.ResizeMessage={}));function r(s,o,a=null){if(s.parent)throw new Error("Cannot attach a child widget.");if(s.isAttached||s.node.isConnected)throw new Error("Widget is already attached.");if(!o.isConnected)throw new Error("Host is not attached.");ze.sendMessage(s,t.Msg.BeforeAttach),o.insertBefore(s.node,a),ze.sendMessage(s,t.Msg.AfterAttach)}t.attach=r;function n(s){if(s.parent)throw new Error("Cannot detach a child widget.");if(!s.isAttached||!s.node.isConnected)throw new Error("Widget is not attached.");ze.sendMessage(s,t.Msg.BeforeDetach),s.node.parentNode.removeChild(s.node),ze.sendMessage(s,t.Msg.AfterDetach)}t.detach=n})(ge||(ge={}));(function(t){t.titleProperty=new ut({name:"title",create:i=>new Eg({owner:i})});function e(i){return i.node||document.createElement(i.tag||"div")}t.createNode=e})($x||($x={}));sa=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Te.clearData(this),ut.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let i=this._parent.node.style;i.minWidth="",i.minHeight="",i.maxWidth="",i.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(let e of this)e.parent=this.parent}onResize(e){for(let i of this)ze.sendMessage(i,ge.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(let i of this)ze.sendMessage(i,ge.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(let i of this)ze.sendMessage(i,e)}onAfterAttach(e){for(let i of this)ze.sendMessage(i,e)}onBeforeDetach(e){for(let i of this)ze.sendMessage(i,e)}onAfterDetach(e){for(let i of this)ze.sendMessage(i,e)}onBeforeShow(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onAfterShow(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onBeforeHide(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onAfterHide(e){for(let i of this)i.isHidden||ze.sendMessage(i,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(s){return Hf.horizontalAlignmentProperty.get(s)}t.getHorizontalAlignment=e;function i(s,o){Hf.horizontalAlignmentProperty.set(s,o)}t.setHorizontalAlignment=i;function r(s){return Hf.verticalAlignmentProperty.get(s)}t.getVerticalAlignment=r;function n(s,o){Hf.verticalAlignmentProperty.set(s,o)}t.setVerticalAlignment=n})(sa||(sa={}));Jd=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=Ie.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,i,r,n){let s=Math.max(this._minWidth,Math.min(r,this._maxWidth)),o=Math.max(this._minHeight,Math.min(n,this._maxHeight));if(s<r)switch(sa.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(r-s)/2;break;case"right":e+=r-s;break;default:throw"unreachable"}if(o<n)switch(sa.getVerticalAlignment(this.widget)){case"top":break;case"center":i+=(n-o)/2;break;case"bottom":i+=n-o;break;default:throw"unreachable"}let a=!1,l=this.widget.node.style;if(this._top!==i&&(this._top=i,l.top=`${i}px`),this._left!==e&&(this._left=e,l.left=`${e}px`),this._width!==s&&(a=!0,this._width=s,l.width=`${s}px`),this._height!==o&&(a=!0,this._height=o,l.height=`${o}px`),a){let c=new ge.ResizeMessage(s,o);ze.sendMessage(this.widget,c)}}};(function(t){t.horizontalAlignmentProperty=new ut({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new ut({name:"verticalAlignment",create:()=>"top",changed:e});function e(i){i.parent&&i.parent.layout&&i.parent.update()}})(Hf||(Hf={}));jf=class extends sa{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,i){i.parent=this.parent;let r=this._widgets.indexOf(i),n=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){B.insert(this._widgets,n,i),this.parent&&this.attachWidget(n,i);return}n===this._widgets.length&&n--,r!==n&&(B.move(this._widgets,r,n),this.parent&&this.moveWidget(r,n,i))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let i=B.removeAt(this._widgets,e);i&&this.parent&&this.detachWidget(e,i)}init(){super.init();let e=0;for(let i of this)this.attachWidget(e++,i)}attachWidget(e,i){let r=this.parent.node.children[e];this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,r),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach)}moveWidget(e,i,r){this.parent.isAttached&&ze.sendMessage(r,ge.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&ze.sendMessage(r,ge.Msg.AfterDetach);let n=this.parent.node.children[i];this.parent.isAttached&&ze.sendMessage(r,ge.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,n),this.parent.isAttached&&ze.sendMessage(r,ge.Msg.AfterAttach)}detachWidget(e,i){this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach)}};(function(t){function e(i){return Math.max(0,Math.floor(i))}t.clampDimension=e})(Ig||(Ig={}));Mg=Ig,vo=class extends jf{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Ig.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Ig.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return fl.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,i=!0){let r=this._sizers.length,n=e.slice(0,r);for(;n.length<r;)n.push(0);let s=fl.normalize(n);for(let o=0;o<r;++o){let a=this._sizers[o];a.sizeHint=s[o],a.size=s[o]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()}moveHandle(e,i){let r=this._handles[e];if(!r||r.classList.contains("lm-mod-hidden"))return;let n;if(this._orientation==="horizontal"?n=i-r.offsetLeft:n=i-r.offsetTop,n!==0){for(let s of this._sizers)s.size>0&&(s.sizeHint=s.size);ns.adjust(this._sizers,e,n),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){let r=new Jd(i),n=fl.createHandle(this.renderer),s=fl.averageSize(this._sizers),o=fl.createSizer(s);B.insert(this._items,e,r),B.insert(this._sizers,e,o),B.insert(this._handles,e,n),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(n),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),B.move(this._handles,e,i),this.parent.fit()}detachWidget(e,i){let r=B.removeAt(this._items,e),n=B.removeAt(this._handles,e);B.removeAt(this._sizers,e),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(n),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,i,r,n,s,o,a){let l=this._items[e];if(l.isHidden)return;let c=this._handles[e].style;i?(r+=this.widgetOffset,l.update(r,n,a,s),r+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${this._spacing}px`,c.height=`${s}px`):(n+=this.widgetOffset,l.update(r,n,o,a),n+=a,c.top=`${n}px`,c.left=`${r}px`,c.width=`${o}px`,c.height=`${this._spacing}px`)}_fit(){let e=0,i=-1;for(let l=0,c=this._items.length;l<c;++l)this._items[l].isHidden?this._handles[l].classList.add("lm-mod-hidden"):(this._handles[l].classList.remove("lm-mod-hidden"),i=l,e++);i!==-1&&this._handles[i].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let r=this._orientation==="horizontal",n=r?this._fixed:0,s=r?0:this._fixed;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l],d=this._sizers[l];if(d.size>0&&(d.sizeHint=d.size),u.isHidden){d.minSize=0,d.maxSize=0;continue}u.fit(),d.stretch=vo.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,n+=u.minWidth,s=Math.max(s,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,s+=u.minHeight,n=Math.max(n,u.minWidth))}let o=this._box=Ie.boxSizing(this.parent.node);n+=o.horizontalSum,s+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${n}px`,a.minHeight=`${s}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l=0,c=0,u=this._orientation==="horizontal";if(r>0){let d;if(u?d=Math.max(0,o-this._fixed):d=Math.max(0,a-this._fixed),this._hasNormedSizes){for(let h of this._sizers)h.sizeHint*=d;this._hasNormedSizes=!1}let f=ns.calc(this._sizers,d);if(f>0)switch(this._alignment){case"start":break;case"center":l=0,c=f/2;break;case"end":l=0,c=f;break;case"justify":l=f/r,c=0;break;default:throw"unreachable"}}for(let d=0,f=this._items.length;d<f;++d){let m=this._items[d].isHidden?0:this._sizers[d].size+l;this.updateItemPosition(d,u,u?s+c:s,u?n:n+c,a,o,m);let p=this.widgetOffset+(this._handles[d].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=m+p:n+=m+p}}};(function(t){function e(r){return fl.stretchProperty.get(r)}t.getStretch=e;function i(r,n){fl.stretchProperty.set(r,n)}t.setStretch=i})(vo||(vo={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(o,a)=>Math.max(0,Math.floor(a)),changed:s});function e(o){let a=new ra;return a.sizeHint=Math.floor(o),a}t.createSizer=e;function i(o){let a=o.createHandle();return a.style.position="absolute",a.style.contain="style",a}t.createHandle=i;function r(o){return o.reduce((a,l)=>a+l.size,0)/o.length||0}t.averageSize=r;function n(o){let a=o.length;if(a===0)return[];let l=o.reduce((c,u)=>c+Math.abs(u),0);return l===0?o.map(c=>1/a):o.map(c=>c/l)}t.normalize=n;function s(o){o.parent&&o.parent.layout instanceof vo&&o.parent.fit()}})(fl||(fl={}));BM=class extends vo{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Mg.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,i){let r=this._titles[e],n=r.classList.contains("lm-mod-expanded"),s=Wx.createTitle(this.renderer,i.title,n);this._titles[e]=s,this.parent.node.replaceChild(s,r)}insertWidget(e,i){i.id||(i.id=`id-${pl.UUID.uuid4()}`),super.insertWidget(e,i)}attachWidget(e,i){let r=Wx.createTitle(this.renderer,i.title);B.insert(this._titles,e,r),this.parent.node.appendChild(r),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",r.id),super.attachWidget(e,i)}moveWidget(e,i,r){B.move(this._titles,e,i),super.moveWidget(e,i,r)}detachWidget(e,i){let r=B.removeAt(this._titles,e);this.parent.node.removeChild(r),super.detachWidget(e,i)}updateItemPosition(e,i,r,n,s,o,a){let l=this._titles[e].style;l.top=`${n}px`,l.left=`${r}px`,l.height=`${this.widgetOffset}px`,i?l.width=`${s}px`:l.width=`${o}px`,super.updateItemPosition(e,i,r,n,s,o,a)}};(function(t){function e(i,r,n=!0){let s=i.createSectionTitle(r);return s.style.position="absolute",s.style.contain="strict",s.setAttribute("aria-label",`${r.label} Section`),s.setAttribute("aria-expanded",n?"true":"false"),s.setAttribute("aria-controls",r.owner.id),n&&s.classList.add("lm-mod-expanded"),s}t.createTitle=e})(Wx||(Wx={}));qx=class extends ge{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=HM.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,i){this.layout.insertWidget(e,i)}};(function(t){function e(i){return i.layout||new jf}t.createLayout=e})(HM||(HM={}));Zd=class extends qx{constructor(e={}){super({layout:jM.createLayout(e)}),this._handleMoved=new Te(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,i=!0){this.layout.setRelativeSizes(e,i)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=B.findFirstIndex(i.handles,c=>c.contains(e.target));if(r===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let n,s=i.handles[r],o=s.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left:n=e.clientY-o.top;let a=window.getComputedStyle(s),l=tr.overrideCursor(a.cursor);this._pressData={index:r,delta:n,override:l}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let i,r=this.layout,n=this.node.getBoundingClientRect();r.orientation==="horizontal"?i=e.clientX-n.left-this._pressData.delta:i=e.clientY-n.top-this._pressData.delta,r.moveHandle(this._pressData.index,i)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let s=document.createElement("div");return s.className="lm-SplitPanel-handle",s}}t.Renderer=e,t.defaultRenderer=new e;function i(n){return vo.getStretch(n)}t.getStretch=i;function r(n,s){vo.setStretch(n,s)}t.setStretch=r})(Zd||(Zd={}));(function(t){function e(i){return i.layout||new vo({renderer:i.renderer||Zd.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing})}t.createLayout=e})(jM||(jM={}));kg=class extends Zd{constructor(e={}){super({...e,layout:FM.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Te(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){let i=this.layout.widgets[e];i&&!i.isHidden&&this._toggleExpansion(e)}expand(e){let i=this.layout.widgets[e];i&&i.isHidden&&this._toggleExpansion(e)}insertWidget(e,i){super.insertWidget(e,i),i.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){let i=B.findFirstIndex(this.widgets,r=>r.contains(e.owner));i>=0&&(this.layout.updateTitle(i,e.owner),this.update())}_computeWidgetSize(e){let i=this.layout,r=i.widgets[e];if(!r)return;let n=r.isHidden,s=i.absoluteSizes(),o=(n?-1:1)*this.spacing,a=s.reduce((c,u)=>c+u),l=[...s];if(n){let c=this._widgetSizesCache.get(r);if(!c)return;l[e]+=c;let u=l.map(d=>d-c>0).lastIndexOf(!0);u===-1?l.forEach((d,f)=>{f!==e&&(l[f]-=s[f]/a*(c-o))}):l[u]-=c-o}else{let c=s[e];this._widgetSizesCache.set(r,c),l[e]=0;let u=l.map(d=>d>0).lastIndexOf(!0);if(u===-1)return;l[u]=s[u]+c+o}return l.map(c=>c/(a+o))}_evtClick(e){let i=e.target;if(i){let r=B.findFirstIndex(this.titles,n=>n.contains(i));r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}}_eventKeyDown(e){if(e.defaultPrevented)return;let i=e.target,r=!1;if(i){let n=B.findFirstIndex(this.titles,s=>s.contains(i));if(n>=0){let s=e.keyCode.toString();if(e.key.match(/Space|Enter/)||s.match(/13|32/))i.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||s.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||s.match(/38|40/)){let o=e.key.match(/ArrowLeft|ArrowUp/)||s.match(/37|38/)?-1:1,a=this.titles.length,l=(n+a+o)%a;this.titles[l].focus(),r=!0}else e.key==="End"||s==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||s==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}_toggleExpansion(e){let i=this.titles[e],r=this.layout.widgets[e],n=this._computeWidgetSize(e);n&&this.setRelativeSizes(n,!1),r.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),r.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),r.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends Zd.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(r){return document.createElement("span")}createSectionTitle(r){let n=document.createElement("h3");n.setAttribute("tabindex","0"),n.id=this.createTitleKey(r),n.className=this.titleClassName;for(let a in r.dataset)n.dataset[a]=r.dataset[a];let s=n.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";let o=n.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=r.label,o.title=r.caption||r.label,n}createTitleKey(r){let n=this._titleKeys.get(r);return n===void 0&&(n=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(r,n)),n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(kg||(kg={}));(function(t){function e(i){return i.layout||new BM({renderer:i.renderer||kg.defaultRenderer,orientation:i.orientation,alignment:i.alignment,spacing:i.spacing,titleSpace:i.titleSpace})}t.createLayout=e})(FM||(FM={}));ss=class extends jf{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Mg.clampDimension(e.spacing))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Mg.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,i){B.insert(this._items,e,new Jd(i)),B.insert(this._sizers,e,new ra),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),B.move(this._sizers,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);B.removeAt(this._sizers,e),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let a=0,l=this._items.length;a<l;++a)e+=+!this._items[a].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let i=Kd.isHorizontal(this._direction),r=i?this._fixed:0,n=i?0:this._fixed;for(let a=0,l=this._items.length;a<l;++a){let c=this._items[a],u=this._sizers[a];if(c.isHidden){u.minSize=0,u.maxSize=0;continue}c.fit(),u.sizeHint=ss.getSizeBasis(c.widget),u.stretch=ss.getStretch(c.widget),i?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,r+=c.minWidth,n=Math.max(n,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,n+=c.minHeight,r=Math.max(r,c.minWidth))}let s=this._box=Ie.boxSizing(this.parent.node);r+=s.horizontalSum,n+=s.verticalSum;let o=this.parent.node.style;o.minWidth=`${r}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let d=0,f=this._items.length;d<f;++d)r+=+!this._items[d].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum,l;switch(this._direction){case"left-to-right":l=ns.calc(this._sizers,Math.max(0,o-this._fixed));break;case"top-to-bottom":l=ns.calc(this._sizers,Math.max(0,a-this._fixed));break;case"right-to-left":l=ns.calc(this._sizers,Math.max(0,o-this._fixed)),s+=o;break;case"bottom-to-top":l=ns.calc(this._sizers,Math.max(0,a-this._fixed)),n+=a;break;default:throw"unreachable"}let c=0,u=0;if(l>0)switch(this._alignment){case"start":break;case"center":c=0,u=l/2;break;case"end":c=0,u=l;break;case"justify":c=l/r,u=0;break;default:throw"unreachable"}for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=this._sizers[d].size;switch(this._direction){case"left-to-right":h.update(s+u,n,m+c,a),s+=m+c+this._spacing;break;case"top-to-bottom":h.update(s,n+u,o,m+c),n+=m+c+this._spacing;break;case"right-to-left":h.update(s-u-m-c,n,m+c,a),s-=m+c+this._spacing;break;case"bottom-to-top":h.update(s,n-u-m-c,o,m+c),n-=m+c+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(s){return Kd.stretchProperty.get(s)}t.getStretch=e;function i(s,o){Kd.stretchProperty.set(s,o)}t.setStretch=i;function r(s){return Kd.sizeBasisProperty.get(s)}t.getSizeBasis=r;function n(s,o){Kd.sizeBasisProperty.set(s,o)}t.setSizeBasis=n})(ss||(ss={}));(function(t){t.stretchProperty=new ut({name:"stretch",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r}),t.sizeBasisProperty=new ut({name:"sizeBasis",create:()=>0,coerce:(n,s)=>Math.max(0,Math.floor(s)),changed:r});function e(n){return n==="left-to-right"||n==="right-to-left"}t.isHorizontal=e;function i(n){return Math.max(0,Math.floor(n))}t.clampSpacing=i;function r(n){n.parent&&n.parent.layout instanceof ss&&n.parent.fit()}})(Kd||(Kd={}));Ux=class extends qx{constructor(e={}){super({layout:$M.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(s){return ss.getStretch(s)}t.getStretch=e;function i(s,o){ss.setStretch(s,o)}t.setStretch=i;function r(s){return ss.getSizeBasis(s)}t.getSizeBasis=r;function n(s,o){ss.setSizeBasis(s,o)}t.setSizeBasis=n})(Ux||(Ux={}));(function(t){function e(i){return i.layout||new ss(i)}t.createLayout=e})($M||($M={}));Ff=class extends ge{constructor(e){super({node:hl.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(ge.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Ff.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let i=hl.createItem(this.commands,e);return this._items.push(i),this.refresh(),i}addItems(e){let i=e.map(r=>hl.createItem(this.commands,r));return i.forEach(r=>this._items.push(r)),this.refresh(),i}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){B.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let i=this.inputNode;i.focus(),i.select()}}onUpdateRequest(e){if(this.isHidden)return;let i=this.inputNode.value,r=this.contentNode,n=this._results;if(n||(n=this._results=hl.search(this._items,i),this._activeIndex=i?B.findFirstIndex(n,hl.canActivate):-1),!i&&n.length===0){Vt.render(null,r);return}if(i&&n.length===0){let l=this.renderer.renderEmptyMessage({query:i});Vt.render(l,r);return}let s=this.renderer,o=this._activeIndex,a=new Array(n.length);for(let l=0,c=n.length;l<c;++l){let u=n[l];if(u.type==="header"){let d=u.indices,f=u.category;a[l]=s.renderHeader({category:f,indices:d})}else{let d=u.item,f=u.indices,h=l===o;a[l]=s.renderItem({item:d,indices:f,active:h})}}if(Vt.render(a,r),o<0||o>=n.length)r.scrollTop=0;else{let l=r.children[o];Ie.scrollIntoViewIfNeeded(r,l)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let i=B.findFirstIndex(this.contentNode.children,r=>r.contains(e.target));i!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(i))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<i-1?e+1:0,n=r===0?i-1:r-1;this._activeIndex=B.findFirstIndex(this._results,hl.canActivate,r,n),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,i=this._results.length,r=e<=0?i-1:e-1,n=r===i-1?0:r+1;this._activeIndex=B.findLastIndex(this._results,hl.canActivate,r,n),this.update()}_execute(e){if(!this._results)return;let i=this._results[e];if(i){if(i.type==="header"){let r=this.inputNode;r.value=`${i.category.toLowerCase()} `,r.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(r){let n=this.formatHeader(r);return Se.li({className:"lm-CommandPalette-header"},n)}renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r);return r.item.isToggleable?Se.li({className:n,dataset:s,role:"menuitemcheckbox","aria-checked":`${r.item.isToggled}`},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r)):Se.li({className:n,dataset:s,role:"menuitem"},this.renderItemIcon(r),this.renderItemContent(r),this.renderItemShortcut(r))}renderEmptyMessage(r){let n=this.formatEmptyMessage(r);return Se.li({className:"lm-CommandPalette-emptyMessage"},n)}renderItemIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderItemContent(r){return Se.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(r),this.renderItemCaption(r))}renderItemLabel(r){let n=this.formatItemLabel(r);return Se.div({className:"lm-CommandPalette-itemLabel"},n)}renderItemCaption(r){let n=this.formatItemCaption(r);return Se.div({className:"lm-CommandPalette-itemCaption"},n)}renderItemShortcut(r){let n=this.formatItemShortcut(r);return Se.div({className:"lm-CommandPalette-itemShortcut"},n)}createItemClass(r){let n="lm-CommandPalette-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.active&&(n+=" lm-mod-active");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){return{...r.item.dataset,command:r.item.command}}createIconClass(r){let n="lm-CommandPalette-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}formatHeader(r){return!r.indices||r.indices.length===0?r.category:Br.highlight(r.category,r.indices,Se.mark)}formatEmptyMessage(r){return`No commands found that match '${r.query}'`}formatItemShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}formatItemLabel(r){return!r.indices||r.indices.length===0?r.item.label:Br.highlight(r.item.label,r.indices,Se.mark)}formatItemCaption(r){return r.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(Ff||(Ff={}));(function(t){function e(){let f=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("input"),_=document.createElement("ul"),x=document.createElement("button");return h.className="lm-CommandPalette-search",m.className="lm-CommandPalette-wrapper",p.className="lm-CommandPalette-input",x.className="lm-close-icon",_.className="lm-CommandPalette-content",_.setAttribute("role","menu"),p.spellcheck=!1,m.appendChild(p),m.appendChild(x),h.appendChild(m),f.appendChild(h),f.appendChild(_),f}t.createNode=e;function i(f,h){return new d(f,h)}t.createItem=i;function r(f,h){let m=a(f,h);return m.sort(c),u(m)}t.search=r;function n(f){return f.type==="item"&&f.item.isEnabled}t.canActivate=n;function s(f){return f.trim().replace(/\s+/g," ")}function o(f){return f.replace(/\s+/g,"").toLowerCase()}function a(f,h){h=o(h);let m=[];for(let p=0,_=f.length;p<_;++p){let x=f[p];if(!x.isVisible)continue;if(!h){m.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}let y=l(x,h);y&&(x.isEnabled||(y.score+=1e3),m.push(y))}return m}function l(f,h){let m=f.category.toLowerCase(),p=f.label.toLowerCase(),_=`${m} ${p}`,x=1/0,y=null,C=/\b\w/g;for(;;){let E=C.exec(_);if(!E)break;let T=Br.matchSumOfDeltas(_,h,E.index);if(!T)break;T.score<=x&&(x=T.score,y=T.indices)}if(!y||x===1/0)return null;let k=m.length+1,M=B.lowerBound(y,k,(E,T)=>E-T),v=y.slice(0,M),I=y.slice(M);for(let E=0,T=I.length;E<T;++E)I[E]-=k;return v.length===0?{matchType:0,categoryIndices:null,labelIndices:I,score:x,item:f}:I.length===0?{matchType:1,categoryIndices:v,labelIndices:null,score:x,item:f}:{matchType:2,categoryIndices:v,labelIndices:I,score:x,item:f}}function c(f,h){let m=f.matchType-h.matchType;if(m!==0)return m;let p=f.score-h.score;if(p!==0)return p;let _=0,x=0;switch(f.matchType){case 0:_=f.labelIndices[0],x=h.labelIndices[0];break;case 1:case 2:_=f.categoryIndices[0],x=h.categoryIndices[0];break}if(_!==x)return _-x;let y=f.item.category.localeCompare(h.item.category);if(y!==0)return y;let C=f.item.rank,k=h.item.rank;return C!==k?C<k?-1:1:f.item.label.localeCompare(h.item.label)}function u(f){let h=[];for(let m=0,p=f.length;m<p;++m){let{item:_,categoryIndices:x,labelIndices:y}=f[m],C=_.category;(m===0||C!==f[m-1].item.category)&&h.push({type:"header",category:C,indices:x}),h.push({type:"item",item:_,indices:y})}return h}class d{constructor(h,m){this._commands=h,this.category=s(m.category),this.command=m.command,this.args=m.args||pl.JSONExt.emptyObject,this.rank=m.rank!==void 0?m.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:h,args:m}=this;return B.findLastValue(this._commands.keyBindings,p=>p.command===h&&pl.JSONExt.deepEqual(p.args,m))||null}}})(hl||(hl={}));na=class extends ge{constructor(e){super({node:xn.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Te(this),this._menuRequested=new Te(this),this.addClass("lm-Menu"),this.setFlag(ge.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||na.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!xn.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,i=this._activeIndex,r=i<e-1?i+1:0,n=r===0?e-1:r-1;this.activeIndex=B.findFirstIndex(this._items,xn.canActivate,r,n)}activatePreviousItem(){let e=this._items.length,i=this._activeIndex,r=i<=0?e-1:i-1,n=r===e-1?0:r+1;this.activeIndex=B.findLastIndex(this._items,xn.canActivate,r,n)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:i,args:r}=e;this.commands.isEnabled(i,r)?this.commands.execute(i,r):console.log(`Command '${i}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,i){this.isAttached&&this.close(),this.activeIndex=-1;let r=Math.max(0,Math.min(e,this._items.length)),n=xn.createItem(this,i);return B.insert(this._items,r,n),this.update(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,B.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,i,r={}){var n,s,o;if(this.isAttached)return;let a=r.forceX||!1,l=r.forceY||!1,c=(n=r.host)!==null&&n!==void 0?n:null,u=(s=r.ref)!==null&&s!==void 0?s:null,d=(o=r.horizontalAlignment)!==null&&o!==void 0?o:document.documentElement.dir==="rtl"?"right":"left";xn.openRootMenu(this,e,i,a,l,d,c,u),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let i=this._items,r=this.renderer,n=this._activeIndex,s=xn.computeCollapsed(i),o=new Array(i.length);for(let a=0,l=i.length;a<l;++a){let c=i[a],u=a===n,d=s[a];o[a]=r.renderItem({item:c,active:u,collapsed:d,onfocus:()=>{this.activeIndex=a}})}Vt.render(o,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());let r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let i=e.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){let o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=xn.findMnemonic(this._items,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex)return;if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:i,clientY:r}=e;if(Ie.hitTest(this._childMenu.node,i,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(xn.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}let r=i.submenu;if(r===this._childMenu)return;na.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,ze.sendMessage(this,ge.Msg.UpdateRequest);let n=this.contentNode.children[this._activeIndex];xn.openSubmenu(r,n),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},xn.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},xn.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){xn.saveWindowData()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,tabindex:"0",onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r),this.renderShortcut(r),this.renderSubmenu(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.item.icon,r.item.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-Menu-itemLabel"},n)}renderShortcut(r){let n=this.formatShortcut(r);return Se.div({className:"lm-Menu-itemShortcut"},n)}renderSubmenu(r){return Se.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(r){let n="lm-Menu-item";r.item.isEnabled||(n+=" lm-mod-disabled"),r.item.isToggled&&(n+=" lm-mod-toggled"),r.item.isVisible||(n+=" lm-mod-hidden"),r.active&&(n+=" lm-mod-active"),r.collapsed&&(n+=" lm-mod-collapsed");let s=r.item.className;return s&&(n+=` ${s}`),n}createItemDataset(r){let n,{type:s,command:o,dataset:a}=r.item;return s==="command"?n={...a,type:s,command:o}:n={...a,type:s},n}createIconClass(r){let n="lm-Menu-itemIcon",s=r.item.iconClass;return s?`${n} ${s}`:n}createItemARIA(r){let n={};switch(r.item.type){case"separator":n.role="presentation";break;case"submenu":n["aria-haspopup"]="true",r.item.isEnabled||(n["aria-disabled"]="true");break;default:r.item.isEnabled||(n["aria-disabled"]="true"),n.role="menuitem"}return n}formatLabel(r){let{label:n,mnemonic:s}=r.item;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-Menu-itemMnemonic"},l);return[o,c,a]}formatShortcut(r){let n=r.item.keyBinding;return n?jr.formatKeystroke(n.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(na||(na={}));(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,i=0;function r(){return i>0?(i--,e):u()}function n(){e=u(),i++}t.saveWindowData=n;function s(){let p=document.createElement("div"),_=document.createElement("ul");return _.className="lm-Menu-content",p.appendChild(_),_.setAttribute("role","menu"),p.tabIndex=0,p}t.createNode=s;function o(p){return p.type!=="separator"&&p.isEnabled&&p.isVisible}t.canActivate=o;function a(p,_){return new m(p.commands,_)}t.createItem=a;function l(p,_,x){for(let y=p;y;y=y.childMenu)if(Ie.hitTest(y.node,_,x))return!0;return!1}t.hitTestMenus=l;function c(p){let _=new Array(p.length);B.fill(_,!1);let x=0,y=p.length;for(;x<y;++x){let M=p[x];if(M.isVisible){if(M.type!=="separator")break;_[x]=!0}}let C=y-1;for(;C>=0;--C){let M=p[C];if(M.isVisible){if(M.type!=="separator")break;_[C]=!0}}let k=!1;for(;++x<C;){let M=p[x];M.isVisible&&(M.type!=="separator"?k=!1:k?_[x]=!0:k=!0)}return _}t.computeCollapsed=c;function u(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function d(p,_,x,y,C,k,M,v){let I=r(),E=I.pageXOffset,T=I.pageYOffset,R=I.clientWidth,P=I.clientHeight;ze.sendMessage(p,ge.Msg.UpdateRequest);let Y=P-(C?x:0),re=p.node,de=re.style;de.opacity="0",de.maxHeight=`${Y}px`,ge.attach(p,M||document.body,v);let{width:te,height:G}=re.getBoundingClientRect();k==="right"&&(_-=te),!y&&_+te>E+R&&(_=E+R-te),!C&&x+G>T+P&&(x>T+P?x=T+P-G:x=x-G),de.transform=`translate(${Math.max(0,_)}px, ${Math.max(0,x)}px`,de.opacity="1"}t.openRootMenu=d;function f(p,_){let x=r(),y=x.pageXOffset,C=x.pageYOffset,k=x.clientWidth,M=x.clientHeight;ze.sendMessage(p,ge.Msg.UpdateRequest);let v=M,I=p.node,E=I.style;E.opacity="0",E.maxHeight=`${v}px`,ge.attach(p,document.body);let{width:T,height:R}=I.getBoundingClientRect(),P=Ie.boxSizing(p.node),Y=_.getBoundingClientRect(),re=Y.right-t.SUBMENU_OVERLAP;re+T>y+k&&(re=Y.left+t.SUBMENU_OVERLAP-T);let de=Y.top-P.borderTop-P.paddingTop;de+R>C+M&&(de=Y.bottom+P.borderBottom+P.paddingBottom-R),E.transform=`translate(${Math.max(0,re)}px, ${Math.max(0,de)}px`,E.opacity="1"}t.openSubmenu=f;function h(p,_,x){let y=-1,C=-1,k=!1,M=_.toUpperCase();for(let v=0,I=p.length;v<I;++v){let E=(v+x)%I,T=p[E];if(!o(T))continue;let R=T.label;if(R.length===0)continue;let P=T.mnemonic;if(P>=0&&P<R.length){R[P].toUpperCase()===M&&(y===-1?y=E:k=!0);continue}C===-1&&R[0].toUpperCase()===M&&(C=E)}return{index:y,multiple:k,auto:C}}t.findMnemonic=h;class m{constructor(_,x){this._commands=_,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||pl.JSONExt.emptyObject,this.submenu=x.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:_,args:x}=this;return B.findLastValue(this._commands.keyBindings,y=>y.command===_&&pl.JSONExt.deepEqual(y.args,x))||null}return null}}})(xn||(xn={}));(function(t){function e(o,a){let l=r(o.selector),c=o.rank!==void 0?o.rank:1/0;return{...o,selector:l,rank:c,id:a}}t.createItem=e;function i(o,a,l,c){let u=a.target;if(!u)return null;let d=a.currentTarget;if(!d||!d.contains(u)&&(u=document.elementFromPoint(a.clientX,a.clientY),!u||!d.contains(u)))return null;let f=[],h=o.slice();for(;u!==null;){let m=[];for(let p=0,_=h.length;p<_;++p){let x=h[p];x&&Vi.matches(u,x.selector)&&(m.push(x),h[p]=null)}if(m.length!==0&&(l&&m.sort(c?s:n),f.push(...m)),u===d)break;u=u.parentElement}return l||f.sort(c?s:n),f}t.matchItems=i;function r(o){if(o.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${o}`);if(!Vi.isValid(o))throw new Error(`Invalid selector: ${o}`);return o}function n(o,a){let l=o.rank,c=a.rank;return l!==c?l<c?-1:1:o.id-a.id}function s(o,a){let l=Vi.calculateSpecificity(o.selector),c=Vi.calculateSpecificity(a.selector);return l!==c?c-l:n(o,a)}})(t3||(t3={}));xJ=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"],Cc=class extends ge{constructor(e={}){super({node:Ws.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Te(this),this._currentChanged=new Te(this),this._addRequested=new Te(this),this._tabCloseRequested=new Te(this),this._tabDetachRequested=new Te(this),this._tabActivateRequested=new Te(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(ge.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Cc.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let i=this._currentIndex,r=this._titles[i]||null,n=e,s=this._titles[n]||null;this._currentIndex=n,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:r,currentIndex:n,currentTitle:s})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,i){this._releaseMouse();let r=Ws.asTitle(i),n=this._titles.indexOf(r),s=Math.max(0,Math.min(e,this._titles.length));return n===-1?(B.insert(this._titles,s,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(s,r),r):(s===this._titles.length&&s--,n===s||(B.move(this._titles,n,s),this.update(),this._adjustCurrentForMove(n,s)),r)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let i=B.removeAt(this._titles,e);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,i))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let r of this._titles)r.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var i;let r=this._titles,n=this.renderer,s=this.currentTitle,o=new Array(r.length),a=(i=this._getCurrentTabindex())!==null&&i!==void 0?i:this._currentIndex>-1?this._currentIndex:0;for(let l=0,c=r.length;l<c;++l){let u=r[l],d=u===s,f=d?c:c-l-1,h=a===l?0:-1;o[l]=n.renderTab({title:u,current:d,zIndex:f,tabIndex:h})}Vt.render(o,this.contentNode)}_getCurrentTabindex(){let e=null,i=this.contentNode.querySelector('li[tabindex="0"]');return i?e=[...this.contentNode.children].indexOf(i):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let i=this.contentNode.children,r=B.findFirstIndex(i,o=>Ie.hitTest(o,e.clientX,e.clientY));if(r===-1)return;let n=this.titles[r],s=i[r].querySelector(".lm-TabBar-tabLabel");if(s&&s.contains(e.target)){let o=n.label||"",a=s.innerHTML;s.innerHTML="";let l=document.createElement("input");l.classList.add("lm-TabBar-tabInput"),l.value=o,s.appendChild(l);let c=()=>{l.removeEventListener("blur",c),s.innerHTML=a,this.node.addEventListener("keydown",this)};l.addEventListener("dblclick",u=>u.stopPropagation()),l.addEventListener("blur",c),l.addEventListener("keydown",u=>{u.key==="Enter"?(l.value!==""&&(n.label=n.caption=l.value),c()):u.key==="Escape"&&c()}),this.node.removeEventListener("keydown",this),l.select(),l.focus(),s.children.length>0&&s.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var i,r,n;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){let s=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(s))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{let o=B.findFirstIndex(this.contentNode.children,a=>a.contains(s));o>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=o)}}else if(xJ.includes(e.key)){let s=[...this.contentNode.children];if(this.addButtonEnabled&&s.push(this.addButtonNode),s.length<=1)return;e.preventDefault(),e.stopPropagation();let o=s.indexOf(document.activeElement);o===-1&&(o=this._currentIndex);let a;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?a=(i=s[o+1])!==null&&i!==void 0?i:s[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?a=(r=s[o-1])!==null&&r!==void 0?r:s[s.length-1]:e.key==="Home"?a=s[0]:e.key==="End"&&(a=s[s.length-1]),a&&((n=s[o])===null||n===void 0||n.setAttribute("tabindex","-1"),a?.setAttribute("tabindex","0"),a.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let i=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,n=B.findFirstIndex(r,o=>Ie.hitTest(o,e.clientX,e.clientY));if(n===-1&&!i||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||i))return;let s=r[n].querySelector(this.renderer.closeIconSelector);s&&s.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let i=this._dragData;if(!i)return;e.preventDefault(),e.stopPropagation();let r=this.contentNode.children;if(!(!i.dragActive&&!Ws.dragExceeded(i,e))){if(!i.dragActive){let n=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=n.width,i.tabPressPos=i.pressX-n.left):(i.tabPos=i.tab.offsetTop,i.tabSize=n.height,i.tabPressPos=i.pressY-n.top),i.tabPressOffset={x:i.pressX-n.left,y:i.pressY-n.top},i.tabLayout=Ws.snapTabLayout(r,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=tr.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Ws.detachExceeded(i,e)){i.detachRequested=!0;let n=i.index,s=e.clientX,o=e.clientY,a=r[n],l=this._titles[n];if(this._tabDetachRequested.emit({index:n,title:l,tab:a,clientX:s,clientY:o,offset:i.tabPressOffset}),i.dragAborted)return}Ws.layoutTabs(r,i,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;let i=this._dragData;if(!i)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!i.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let s=this.contentNode.children,o=B.findFirstIndex(s,c=>Ie.hitTest(c,e.clientX,e.clientY));if(o!==i.index)return;let a=this._titles[o];if(!a.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:o,title:a});return}let l=s[o].querySelector(this.renderer.closeIconSelector);if(l&&l.contains(e.target)){this._tabCloseRequested.emit({index:o,title:a});return}return}if(e.button!==0)return;Ws.finalizeTabPosition(i,this._orientation),i.tab.classList.remove("lm-mod-dragging");let r=Ws.parseTransitionDuration(i.tab);setTimeout(()=>{if(i.dragAborted)return;this._dragData=null,Ws.resetTabPositions(this.contentNode.children,this._orientation),i.override.dispose(),this.removeClass("lm-mod-dragging");let n=i.index,s=i.targetIndex;s===-1||n===s||(B.move(this._titles,n,s),this._adjustCurrentForMove(n,s),this._tabMoved.emit({fromIndex:n,toIndex:s,title:this._titles[s]}),ze.sendMessage(this,ge.Msg.UpdateRequest))},r)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Ws.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,i){let r=this.currentTitle,n=this._currentIndex,s=this.insertBehavior;if(s==="select-tab"||s==="select-tab-if-needed"&&n===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:n,previousTitle:r,currentIndex:e,currentTitle:i});return}n>=e&&this._currentIndex++}_adjustCurrentForMove(e,i){this._currentIndex===e?this._currentIndex=i:this._currentIndex<e&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=i&&this._currentIndex--}_adjustCurrentForRemove(e,i){let r=this._currentIndex,n=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(n==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(n==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:i,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(r){let n=r.title.caption,s=this.createTabKey(r),o=s,a=this.createTabStyle(r),l=this.createTabClass(r),c=this.createTabDataset(r),u=this.createTabARIA(r);return r.title.closable?Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r),this.renderCloseIcon(r)):Se.li({id:o,key:s,className:l,title:n,style:a,dataset:c,...u},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let{title:n}=r,s=this.createIconClass(r);return Se.div({className:s},n.icon,n.iconLabel)}renderLabel(r){return Se.div({className:"lm-TabBar-tabLabel"},r.title.label)}renderCloseIcon(r){return Se.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(r){let n=this._tabKeys.get(r.title);return n===void 0&&(n=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(r.title,n)),n}createTabStyle(r){return{zIndex:`${r.zIndex}`}}createTabClass(r){let n="lm-TabBar-tab";return r.title.className&&(n+=` ${r.title.className}`),r.title.closable&&(n+=" lm-mod-closable"),r.current&&(n+=" lm-mod-current"),n}createTabDataset(r){return r.title.dataset}createTabARIA(r){var n;return{role:"tab","aria-selected":r.current.toString(),tabindex:`${(n=r.tabIndex)!==null&&n!==void 0?n:"-1"}`}}createIconClass(r){let n="lm-TabBar-tabIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(Cc||(Cc={}));(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let u=document.createElement("div"),d=document.createElement("ul");d.setAttribute("role","tablist"),d.className="lm-TabBar-content",u.appendChild(d);let f=document.createElement("div");return f.className="lm-TabBar-addButton lm-mod-hidden",f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),u.appendChild(f),u}t.createNode=e;function i(u){return u instanceof Eg?u:new Eg(u)}t.asTitle=i;function r(u){let d=window.getComputedStyle(u);return 1e3*(parseFloat(d.transitionDuration)||0)}t.parseTransitionDuration=r;function n(u,d){let f=new Array(u.length);for(let h=0,m=u.length;h<m;++h){let p=u[h],_=window.getComputedStyle(p);d==="horizontal"?f[h]={pos:p.offsetLeft,size:p.offsetWidth,margin:parseFloat(_.marginLeft)||0}:f[h]={pos:p.offsetTop,size:p.offsetHeight,margin:parseFloat(_.marginTop)||0}}return f}t.snapTabLayout=n;function s(u,d){let f=Math.abs(d.clientX-u.pressX),h=Math.abs(d.clientY-u.pressY);return f>=t.DRAG_THRESHOLD||h>=t.DRAG_THRESHOLD}t.dragExceeded=s;function o(u,d){let f=u.contentRect;return d.clientX<f.left-t.DETACH_THRESHOLD||d.clientX>=f.right+t.DETACH_THRESHOLD||d.clientY<f.top-t.DETACH_THRESHOLD||d.clientY>=f.bottom+t.DETACH_THRESHOLD}t.detachExceeded=o;function a(u,d,f,h){let m,p,_,x;h==="horizontal"?(m=d.pressX,p=f.clientX-d.contentRect.left,_=f.clientX,x=d.contentRect.width):(m=d.pressY,p=f.clientY-d.contentRect.top,_=f.clientY,x=d.contentRect.height);let y=d.index,C=p-d.tabPressPos,k=C+d.tabSize;for(let M=0,v=u.length;M<v;++M){let I,E=d.tabLayout[M],T=E.pos+(E.size>>1);if(M<d.index&&C<T)I=`${d.tabSize+d.tabLayout[M+1].margin}px`,y=Math.min(y,M);else if(M>d.index&&k>T)I=`${-d.tabSize-E.margin}px`,y=Math.max(y,M);else if(M===d.index){let R=_-m,P=x-(d.tabPos+d.tabSize);I=`${Math.max(-d.tabPos,Math.min(R,P))}px`}else I="";h==="horizontal"?u[M].style.left=I:u[M].style.top=I}d.targetIndex=y}t.layoutTabs=a;function l(u,d){let f;d==="horizontal"?f=u.contentRect.width:f=u.contentRect.height;let h;if(u.targetIndex===u.index)h=0;else if(u.targetIndex>u.index){let _=u.tabLayout[u.targetIndex];h=_.pos+_.size-u.tabSize-u.tabPos}else h=u.tabLayout[u.targetIndex].pos-u.tabPos;let m=f-(u.tabPos+u.tabSize),p=Math.max(-u.tabPos,Math.min(h,m));d==="horizontal"?u.tab.style.left=`${p}px`:u.tab.style.top=`${p}px`}t.finalizeTabPosition=l;function c(u,d){for(let f of u)d==="horizontal"?f.style.left="":f.style.top=""}t.resetTabPositions=c})(Ws||(Ws={}));WM=class extends sa{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Mg.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:ge.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(i=>{i.dispose()}),this._box=null,this._root=null,this._items.clear();for(let i of e)i.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(let i of this.tabBars())if(i.titles.length>1)for(let r of i.titles)r.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Mg.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():fi()}widgets(){return this._root?this._root.iterUserWidgets():fi()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():fi()}tabBars(){return this._root?this._root.iterTabBars():fi()}handles(){return this._root?this._root.iterHandles():fi()}moveHandle(e,i,r){let n=e.classList.contains("lm-mod-hidden");if(!this._root||n)return;let s=this._root.findSplitNode(e);if(!s)return;let o;s.node.orientation==="horizontal"?o=i-e.offsetLeft:o=r-e.offsetTop,o!==0&&(s.node.holdSizes(),ns.adjust(s.node.sizers,s.index,o),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let i=new Set,r;e.main?r=Fi.normalizeAreaConfig(e.main,i):r=null;let n=this.widgets(),s=this.tabBars(),o=this.handles();this._root=null;for(let a of n)i.has(a)||(a.parent=null);for(let a of s)a.dispose();for(let a of o)a.parentNode&&a.parentNode.removeChild(a);for(let a of i)a.parent=this.parent;r?this._root=Fi.realizeAreaConfig(r,{createTabBar:a=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(i.forEach(a=>{this.attachWidget(a)}),this.parent.fit())}addWidget(e,i={}){let r=i.ref||null,n=i.mode||"tab-after",s=null;if(this._root&&r&&(s=this._root.findTabNode(r)),r&&!s)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,n){case"tab-after":this._insertTab(e,r,s,!0);break;case"tab-before":this._insertTab(e,r,s,!1);break;case"split-top":this._insertSplit(e,r,s,"vertical",!1);break;case"split-left":this._insertSplit(e,r,s,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,s,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,s,"vertical",!0);break;case"merge-top":this._insertSplit(e,r,s,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,r,s,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,r,s,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,r,s,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this.parent.node.getBoundingClientRect(),n=e-r.left-this._box.borderLeft,s=i-r.top-this._box.borderTop,o=this._root.hitTestTabNodes(n,s);if(!o)return null;let{tabBar:a,top:l,left:c,width:u,height:d}=o,f=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,m=r.width-f-(c+u),p=r.height-h-(l+d);return{tabBar:a,x:n,y:s,top:l,left:c,right:m,bottom:p,width:u,height:d}}init(){super.init();for(let e of this)this.attachWidget(e);for(let e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Jd(e)),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterDetach);let i=this._items.get(e);i&&(this._items.delete(e),i.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let i=this._root.findTabNode(e);if(!i)return;if(Fi.removeAria(e),i.tabBar.titles.length>1){if(i.tabBar.removeTab(e.title),this._hiddenMode===ge.HiddenMode.Scale&&i.tabBar.titles.length==1){let f=i.tabBar.titles[0].owner;f.hiddenMode=ge.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();let r=i.parent;i.parent=null;let n=B.removeFirstOf(r.children,i),s=B.removeAt(r.handles,n);if(B.removeAt(r.sizers,n),s.parentNode&&s.parentNode.removeChild(s),r.children.length>1){r.syncHandles();return}let o=r.parent;r.parent=null;let a=r.children[0],l=r.handles[0];if(r.children.length=0,r.handles.length=0,r.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===r){a.parent=null,this._root=a;return}let c=o,u=c.children.indexOf(r);if(a instanceof Fi.TabLayoutNode){a.parent=c,c.children[u]=a;return}let d=B.removeAt(c.handles,u);B.removeAt(c.children,u),B.removeAt(c.sizers,u),d.parentNode&&d.parentNode.removeChild(d);for(let f=0,h=a.children.length;f<h;++f){let m=a.children[f],p=a.handles[f],_=a.sizers[f];B.insert(c.children,u+f,m),B.insert(c.handles,u+f,p),B.insert(c.sizers,u+f,_),m.parent=c}a.children.length=0,a.handles.length=0,a.sizers.length=0,a.parent=null,c.syncHandles()}_createTabNode(e){let i=new Fi.TabLayoutNode(this._createTabBar());return i.tabBar.addTab(e.title),Fi.addAria(e,i.tabBar),i}_insertTab(e,i,r,n){if(e===i)return;if(!this._root){let o=new Fi.TabLayoutNode(this._createTabBar());o.tabBar.addTab(e.title),this._root=o,Fi.addAria(e,o.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let s;if(i?s=r.tabBar.titles.indexOf(i.title):s=r.tabBar.currentIndex,this._hiddenMode===ge.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=ge.HiddenMode.Display;else if(r.tabBar.titles.length==1){let o=r.tabBar.titles[0].owner;o.hiddenMode=ge.HiddenMode.Scale}else e.hiddenMode=ge.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(n?1:0),e.title),Fi.addAria(e,r.tabBar)}_insertSplit(e,i,r,n,s,o=!1){if(e===i&&r&&r.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!r||!r.parent){let f=this._splitRoot(n),h=s?f.children.length:0;f.normalizeSizes();let m=Fi.createSizer(r?1:Fi.GOLDEN_RATIO),p=this._createTabNode(e);B.insert(f.children,h,p),B.insert(f.sizers,h,m),B.insert(f.handles,h,this._createHandle()),p.parent=f,f.normalizeSizes(),f.syncHandles();return}let a=r.parent;if(a.orientation===n){let f=a.children.indexOf(r);if(o){let _=f+(s?1:-1),x=a.children[_];if(x instanceof Fi.TabLayoutNode){this._insertTab(e,null,x,!0),++x.tabBar.currentIndex;return}}a.normalizeSizes();let h=a.sizers[f].sizeHint/=2,m=f+(s?1:0),p=this._createTabNode(e);B.insert(a.children,m,p),B.insert(a.sizers,m,Fi.createSizer(h)),B.insert(a.handles,m,this._createHandle()),p.parent=a,a.syncHandles();return}let l=B.removeFirstOf(a.children,r),c=new Fi.SplitLayoutNode(n);c.normalized=!0,c.children.push(r),c.sizers.push(Fi.createSizer(.5)),c.handles.push(this._createHandle()),r.parent=c;let u=s?1:0,d=this._createTabNode(e);B.insert(c.children,u,d),B.insert(c.sizers,u,Fi.createSizer(.5)),B.insert(c.handles,u,this._createHandle()),d.parent=c,c.syncHandles(),B.insert(a.children,l,c),c.parent=a}_splitRoot(e){let i=this._root;if(i instanceof Fi.SplitLayoutNode&&i.orientation===e)return i;let r=this._root=new Fi.SplitLayoutNode(e);return i&&(r.children.push(i),r.sizers.push(Fi.createSizer(0)),r.handles.push(this._createHandle()),i.parent=r),r}_fit(){let e=0,i=0;if(this._root){let s=this._root.fit(this._spacing,this._items);e=s.minWidth,i=s.minHeight}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum;this._root.update(r,n,s,o,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),i=e.style;return i.position="absolute",i.contain="strict",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(e),e}};(function(t){t.GOLDEN_RATIO=.618;function e(f){let h=new ra;return h.sizeHint=f,h.size=f,h}t.createSizer=e;function i(f,h){let m;return f.type==="tab-area"?m=l(f,h):m=c(f,h),m}t.normalizeAreaConfig=i;function r(f,h,m){let p;return f.type==="tab-area"?p=u(f,h,m):p=d(f,h,m),p}t.realizeAreaConfig=r;class n{constructor(h){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let m=new ra,p=new ra;m.stretch=0,p.stretch=1,this.tabBar=h,this.sizers=[m,p]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(let h of this.tabBar.titles)yield h.owner}*iterSelectedWidgets(){let h=this.tabBar.currentTitle;h&&(yield h.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(h){return this.tabBar.titles.indexOf(h.title)!==-1?this:null}findSplitNode(h){return null}findFirstTabNode(){return this}hitTestTabNodes(h,m){return h<this._left||h>=this._left+this._width||m<this._top||m>=this._top+this._height?null:this}createConfig(){let h=this.tabBar.titles.map(p=>p.owner),m=this.tabBar.currentIndex;return{type:"tab-area",widgets:h,currentIndex:m}}holdAllSizes(){}fit(h,m){let p=0,_=0,x=1/0,y=1/0,C=m.get(this.tabBar),k=this.tabBar.currentTitle,M=k?m.get(k.owner):void 0,[v,I]=this.sizers;return C&&C.fit(),M&&M.fit(),C&&!C.isHidden?(p=Math.max(p,C.minWidth),_+=C.minHeight,v.minSize=C.minHeight,v.maxSize=C.maxHeight):(v.minSize=0,v.maxSize=0),M&&!M.isHidden?(p=Math.max(p,M.minWidth),_+=M.minHeight,I.minSize=M.minHeight,I.maxSize=1/0):(I.minSize=0,I.maxSize=1/0),{minWidth:p,minHeight:_,maxWidth:x,maxHeight:y}}update(h,m,p,_,x,y){this._top=m,this._left=h,this._width=p,this._height=_;let C=y.get(this.tabBar),k=this.tabBar.currentTitle,M=k?y.get(k.owner):void 0;if(ns.calc(this.sizers,_),C&&!C.isHidden){let v=this.sizers[0].size;C.update(h,m,p,v),m+=v}if(M&&!M.isHidden){let v=this.sizers[1].size;M.update(h,m,p,v)}}}t.TabLayoutNode=n;class s{constructor(h){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=h}*iterAllWidgets(){for(let h of this.children)yield*h.iterAllWidgets()}*iterUserWidgets(){for(let h of this.children)yield*h.iterUserWidgets()}*iterSelectedWidgets(){for(let h of this.children)yield*h.iterSelectedWidgets()}*iterTabBars(){for(let h of this.children)yield*h.iterTabBars()}*iterHandles(){yield*this.handles;for(let h of this.children)yield*h.iterHandles()}findTabNode(h){for(let m=0,p=this.children.length;m<p;++m){let _=this.children[m].findTabNode(h);if(_)return _}return null}findSplitNode(h){let m=this.handles.indexOf(h);if(m!==-1)return{index:m,node:this};for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].findSplitNode(h);if(x)return x}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(h,m){for(let p=0,_=this.children.length;p<_;++p){let x=this.children[p].hitTestTabNodes(h,m);if(x)return x}return null}createConfig(){let h=this.orientation,m=this.createNormalizedSizes(),p=this.children.map(_=>_.createConfig());return{type:"split-area",orientation:h,children:p,sizes:m}}syncHandles(){this.handles.forEach((h,m)=>{h.setAttribute("data-orientation",this.orientation),m===this.handles.length-1?h.classList.add("lm-mod-hidden"):h.classList.remove("lm-mod-hidden")})}holdSizes(){for(let h of this.sizers)h.sizeHint=h.size}holdAllSizes(){for(let h of this.children)h.holdAllSizes();this.holdSizes()}normalizeSizes(){let h=this.sizers.length;if(h===0)return;this.holdSizes();let m=this.sizers.reduce((p,_)=>p+_.sizeHint,0);if(m===0)for(let p of this.sizers)p.size=p.sizeHint=1/h;else for(let p of this.sizers)p.size=p.sizeHint/=m;this.normalized=!0}createNormalizedSizes(){let h=this.sizers.length;if(h===0)return[];let m=this.sizers.map(_=>_.size),p=m.reduce((_,x)=>_+x,0);if(p===0)for(let _=m.length-1;_>-1;_--)m[_]=1/h;else for(let _=m.length-1;_>-1;_--)m[_]/=p;return m}fit(h,m){let p=this.orientation==="horizontal",_=Math.max(0,this.children.length-1)*h,x=p?_:0,y=p?0:_,C=1/0,k=1/0;for(let M=0,v=this.children.length;M<v;++M){let I=this.children[M].fit(h,m);p?(y=Math.max(y,I.minHeight),x+=I.minWidth,this.sizers[M].minSize=I.minWidth):(x=Math.max(x,I.minWidth),y+=I.minHeight,this.sizers[M].minSize=I.minHeight)}return{minWidth:x,minHeight:y,maxWidth:C,maxHeight:k}}update(h,m,p,_,x,y){let C=this.orientation==="horizontal",k=Math.max(0,this.children.length-1)*x,M=Math.max(0,(C?p:_)-k);if(this.normalized){for(let v of this.sizers)v.sizeHint*=M;this.normalized=!1}ns.calc(this.sizers,M);for(let v=0,I=this.children.length;v<I;++v){let E=this.children[v],T=this.sizers[v].size,R=this.handles[v].style;C?(E.update(h,m,T,_,x,y),h+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${x}px`,R.height=`${_}px`,h+=x):(E.update(h,m,p,T,x,y),m+=T,R.top=`${m}px`,R.left=`${h}px`,R.width=`${p}px`,R.height=`${x}px`,m+=x)}}}t.SplitLayoutNode=s;function o(f,h){f.node.setAttribute("role","tabpanel");let m=h.renderer;if(m instanceof Cc.Renderer){let p=m.createTabKey({title:f.title,current:!1,zIndex:0});f.node.setAttribute("aria-labelledby",p)}}t.addAria=o;function a(f){f.node.removeAttribute("role"),f.node.removeAttribute("aria-labelledby")}t.removeAria=a;function l(f,h){if(f.widgets.length===0)return null;let m=[];for(let _ of f.widgets)h.has(_)||(h.add(_),m.push(_));if(m.length===0)return null;let p=f.currentIndex;return p!==-1&&(p<0||p>=m.length)&&(p=0),{type:"tab-area",widgets:m,currentIndex:p}}function c(f,h){let m=f.orientation,p=[],_=[];for(let x=0,y=f.children.length;x<y;++x){let C=i(f.children[x],h);C&&(C.type==="tab-area"||C.orientation!==m?(p.push(C),_.push(Math.abs(f.sizes[x]||0))):(p.push(...C.children),_.push(...C.sizes)))}return p.length===0?null:p.length===1?p[0]:{type:"split-area",orientation:m,children:p,sizes:_}}function u(f,h,m){let p=h.createTabBar(m);for(let _ of f.widgets)_.hide(),p.addTab(_.title),t.addAria(_,p);return p.currentIndex=f.currentIndex,new n(p)}function d(f,h,m){let p=new s(f.orientation);return f.children.forEach((_,x)=>{let y=r(_,h,m),C=e(f.sizes[x]),k=h.createHandle();p.children.push(y),p.handles.push(k),p.sizers.push(C),y.parent=p}),p.syncHandles(),p.normalizeSizes(),p}})(Fi||(Fi={}));Qd=class extends ge{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Te(this),this._addRequested=new Te(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Qd.defaultRenderer,this._edges=e.edges||Oi.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let i={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new WM({document:this._document,renderer:i,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Qd.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let i=this.layout;switch(e){case"multiple-document":for(let r of i.tabBars())r.show();break;case"single-document":i.restoreLayout(Oi.createSingleDocumentConfig(this));break;default:throw"unreachable"}ze.postMessage(this,Oi.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(let i of this.tabBars())i.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(let i of this.tabBars())i.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let i=ps(this.tabBars(),r=>r.titles.indexOf(e.title)!==-1);if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Ui.IS_EDGE||Ui.IS_IE)&&ze.flush(),ze.postMessage(this,Oi.LayoutModified)}addWidget(e,i={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,i),ze.postMessage(this,Oi.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Oi.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Oi.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),ze.postMessage(this,Oi.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:i,clientY:r}=e,{zone:n,target:s}=Oi.findDropTarget(this,i,r,this._edges);if(this._tabsConstrained&&e.source!==this||n==="invalid"){e.dropAction="none";return}let a=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof a!="function"){e.dropAction="none";return}let l=a();if(!(l instanceof ge)){e.dropAction="none";return}if(l.contains(this)){e.dropAction="none";return}let c=s?Oi.getDropRef(s.tabBar):null;switch(n){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;case"widget-tab":this.addWidget(l,{mode:"tab-after",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(l)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),ze.postMessage(this,Oi.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let i=this.layout,r=e.target,n=ps(i.handles(),u=>u.contains(r));if(!n)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let s=n.getBoundingClientRect(),o=e.clientX-s.left,a=e.clientY-s.top,l=window.getComputedStyle(n),c=tr.overrideCursor(l.cursor,this._document);this._pressData={handle:n,deltaX:o,deltaY:a,override:c}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let i=this.node.getBoundingClientRect(),r=e.clientX-i.left-this._pressData.deltaX,n=e.clientY-i.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,r,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),ze.postMessage(this,Oi.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,i){let{zone:r,target:n}=Oi.findDropTarget(this,e,i,this._edges);if(r==="invalid")return this.overlay.hide(100),r;let s,o,a,l,c=Ie.boxSizing(this.node),u=this.node.getBoundingClientRect();switch(r){case"root-all":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"root-top":s=c.paddingTop,o=c.paddingLeft,a=c.paddingRight,l=u.height*Oi.GOLDEN_RATIO;break;case"root-left":s=c.paddingTop,o=c.paddingLeft,a=u.width*Oi.GOLDEN_RATIO,l=c.paddingBottom;break;case"root-right":s=c.paddingTop,o=u.width*Oi.GOLDEN_RATIO,a=c.paddingRight,l=c.paddingBottom;break;case"root-bottom":s=u.height*Oi.GOLDEN_RATIO,o=c.paddingLeft,a=c.paddingRight,l=c.paddingBottom;break;case"widget-all":s=n.top,o=n.left,a=n.right,l=n.bottom;break;case"widget-top":s=n.top,o=n.left,a=n.right,l=n.bottom+n.height/2;break;case"widget-left":s=n.top,o=n.left,a=n.right+n.width/2,l=n.bottom;break;case"widget-right":s=n.top,o=n.left+n.width/2,a=n.right,l=n.bottom;break;case"widget-bottom":s=n.top+n.height/2,o=n.left,a=n.right,l=n.bottom;break;case"widget-tab":{let d=n.tabBar.node.getBoundingClientRect().height;s=n.top,o=n.left,a=n.right,l=n.bottom+n.height-d;break}default:throw"unreachable"}return this.overlay.show({top:s,left:o,right:a,bottom:l}),r}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Oi.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){ze.postMessage(this,Oi.LayoutModified)}_onCurrentChanged(e,i){let{previousTitle:r,currentTitle:n}=i;r&&r.owner.hide(),n&&n.owner.show(),(Ui.IS_EDGE||Ui.IS_IE)&&ze.flush(),ze.postMessage(this,Oi.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,i){i.title.owner.activate()}_onTabCloseRequested(e,i){i.title.owner.close()}_onTabDetachRequested(e,i){if(this._drag)return;e.releaseMouse();let{title:r,tab:n,clientX:s,clientY:o,offset:a}=i,l=new pl.MimeData,c=()=>r.owner;l.setData("application/vnd.lumino.widget-factory",c);let u=n.cloneNode(!0);a&&(u.style.top=`-${a.y}px`,u.style.left=`-${a.x}px`),this._drag=new tr({document:this._document,mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),n.classList.add("lm-mod-hidden");let d=()=>{this._drag=null,n.classList.remove("lm-mod-hidden")};this._drag.start(s,o).then(d)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(n){let s=this.node.style;s.top=`${n.top}px`,s.left=`${n.left}px`,s.right=`${n.right}px`,s.bottom=`${n.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(n){if(!this._hidden){if(n<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},n))}}}t.Overlay=e;class i{createTabBar(n){let s=new Cc({document:n});return s.addClass("lm-DockPanel-tabBar"),s}createHandle(){let n=document.createElement("div");return n.className="lm-DockPanel-handle",n}}t.Renderer=i,t.defaultRenderer=new i})(Qd||(Qd={}));(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new wc("layout-modified"),t.isGeneratedTabBarProperty=new ut({name:"isGeneratedTabBar",create:()=>!1});function e(n){if(n.isEmpty)return{main:null};let s=Array.from(n.widgets()),o=n.selectedWidgets().next().value,a=o?s.indexOf(o):-1;return{main:{type:"tab-area",widgets:s,currentIndex:a}}}t.createSingleDocumentConfig=e;function i(n,s,o,a){if(!Ie.hitTest(n.node,s,o))return{zone:"invalid",target:null};let l=n.layout;if(l.isEmpty)return{zone:"root-all",target:null};if(n.mode==="multiple-document"){let C=n.node.getBoundingClientRect(),k=s-C.left+1,M=o-C.top+1,v=C.right-s,I=C.bottom-o;switch(Math.min(M,v,I,k)){case M:if(M<a.top)return{zone:"root-top",target:null};break;case v:if(v<a.right)return{zone:"root-right",target:null};break;case I:if(I<a.bottom)return{zone:"root-bottom",target:null};break;case k:if(k<a.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let c=l.hitTestTabAreas(s,o);if(!c)return{zone:"invalid",target:null};if(n.mode==="single-document")return{zone:"widget-all",target:c};let u=c.x-c.left+1,d=c.y-c.top+1,f=c.left+c.width-c.x,h=c.top+c.height-c.y,m=c.tabBar.node.getBoundingClientRect().height;if(d<m)return{zone:"widget-tab",target:c};let p=Math.round(c.width/3),_=Math.round(c.height/3);if(u>p&&f>p&&d>_&&h>_)return{zone:"widget-all",target:c};u/=p,d/=_,f/=p,h/=_;let x=Math.min(u,d,f,h),y;switch(x){case u:y="widget-left";break;case d:y="widget-top";break;case f:y="widget-right";break;case h:y="widget-bottom";break;default:throw"unreachable"}return{zone:y,target:c}}t.findDropTarget=i;function r(n){return n.titles.length===0?null:n.currentTitle?n.currentTitle.owner:n.titles[n.titles.length-1].owner}t.getDropRef=r})(Oi||(Oi={}));ml=class extends sa{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new ra],this._columnSizers=[new ra],this._box=null,e.rowCount!==void 0&&pr.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&pr.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=pr.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=pr.clampValue(e.columnSpacing))}dispose(){for(let e of this._items){let i=e.widget;e.dispose(),i.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(pr.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(pr.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=pr.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=pr.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let i=this._rowSizers[e];return i?i.stretch:-1}setRowStretch(e,i){let r=this._rowSizers[e];r&&(i=pr.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}columnStretch(e){let i=this._columnSizers[e];return i?i.stretch:-1}setColumnStretch(e,i){let r=this._columnSizers[e];r&&(i=pr.clampValue(i),r.stretch!==i&&(r.stretch=i,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(let e of this._items)yield e.widget}addWidget(e){B.findFirstIndex(this._items,r=>r.widget===e)===-1&&(this._items.push(new Jd(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let i=B.findFirstIndex(this._items,n=>n.widget===e);if(i===-1)return;let r=B.removeAt(this._items,i);this.parent&&this.detachWidget(e),r.dispose()}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let l=0,c=this.rowCount;l<c;++l)this._rowSizers[l].minSize=0;for(let l=0,c=this.columnCount;l<c;++l)this._columnSizers[l].minSize=0;let e=this._items.filter(l=>!l.isHidden);for(let l=0,c=e.length;l<c;++l)e[l].fit();let i=this.rowCount-1,r=this.columnCount-1;e.sort(pr.rowSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=ml.getCellConfig(u.widget),f=Math.min(d.row,i),h=Math.min(d.row+d.rowSpan-1,i);pr.distributeMin(this._rowSizers,f,h,u.minHeight)}e.sort(pr.columnSpanCmp);for(let l=0,c=e.length;l<c;++l){let u=e[l],d=ml.getCellConfig(u.widget),f=Math.min(d.column,r),h=Math.min(d.column+d.columnSpan-1,r);pr.distributeMin(this._columnSizers,f,h,u.minWidth)}if(this.fitPolicy==="set-no-constraint"){ze.sendMessage(this.parent,ge.Msg.UpdateRequest);return}let n=i*this._rowSpacing,s=r*this._columnSpacing;for(let l=0,c=this.rowCount;l<c;++l)n+=this._rowSizers[l].minSize;for(let l=0,c=this.columnCount;l<c;++l)s+=this._columnSizers[l].minSize;let o=this._box=Ie.boxSizing(this.parent.node);s+=o.horizontalSum,n+=o.verticalSum;let a=this.parent.node.style;a.minWidth=`${s}px`,a.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let r=this._box.paddingTop,n=this._box.paddingLeft,s=e-this._box.horizontalSum,o=i-this._box.verticalSum,a=this.rowCount-1,l=this.columnCount-1,c=a*this._rowSpacing,u=l*this._columnSpacing;ns.calc(this._rowSizers,Math.max(0,o-c)),ns.calc(this._columnSizers,Math.max(0,s-u));for(let d=0,f=r,h=this.rowCount;d<h;++d)this._rowStarts[d]=f,f+=this._rowSizers[d].size+this._rowSpacing;for(let d=0,f=n,h=this.columnCount;d<h;++d)this._columnStarts[d]=f,f+=this._columnSizers[d].size+this._columnSpacing;for(let d=0,f=this._items.length;d<f;++d){let h=this._items[d];if(h.isHidden)continue;let m=ml.getCellConfig(h.widget),p=Math.min(m.row,a),_=Math.min(m.column,l),x=Math.min(m.row+m.rowSpan-1,a),y=Math.min(m.column+m.columnSpan-1,l),C=this._columnStarts[_],k=this._rowStarts[p],M=this._columnStarts[y]+this._columnSizers[y].size-C,v=this._rowStarts[x]+this._rowSizers[x].size-k;h.update(C,k,M,v)}}};(function(t){function e(r){return pr.cellConfigProperty.get(r)}t.getCellConfig=e;function i(r,n){pr.cellConfigProperty.set(r,pr.normalizeConfig(n))}t.setCellConfig=i})(ml||(ml={}));(function(t){t.cellConfigProperty=new ut({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:a});function e(l){let c=Math.max(0,Math.floor(l.row||0)),u=Math.max(0,Math.floor(l.column||0)),d=Math.max(1,Math.floor(l.rowSpan||0)),f=Math.max(1,Math.floor(l.columnSpan||0));return{row:c,column:u,rowSpan:d,columnSpan:f}}t.normalizeConfig=e;function i(l){return Math.max(0,Math.floor(l))}t.clampValue=i;function r(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.rowSpan-d.rowSpan}t.rowSpanCmp=r;function n(l,c){let u=t.cellConfigProperty.get(l.widget),d=t.cellConfigProperty.get(c.widget);return u.columnSpan-d.columnSpan}t.columnSpanCmp=n;function s(l,c){for(c=Math.max(1,Math.floor(c));l.length<c;)l.push(new ra);l.length>c&&(l.length=c)}t.reallocSizers=s;function o(l,c,u,d){if(u<c)return;if(c===u){let m=l[c];m.minSize=Math.max(m.minSize,d);return}let f=0;for(let m=c;m<=u;++m)f+=l[m].minSize;if(f>=d)return;let h=(d-f)/(u-c+1);for(let m=c;m<=u;++m)l[m].minSize+=h}t.distributeMin=o;function a(l){l.parent&&l.parent.layout instanceof ml&&l.parent.fit()}})(pr||(pr={}));$f=class extends ge{constructor(e={}){super({node:Vx.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(ge.Flag.DisallowLayout),this.renderer=e.renderer||$f.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,i=!0){this.insertMenu(this._menus.length,e,i)}insertMenu(e,i,r=!0){this._closeChildMenu();let n=this._menus.indexOf(i),s=Math.max(0,Math.min(e,this._menus.length));if(n===-1){B.insert(this._menus,s,i),i.addClass("lm-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),r&&this.update();return}s===this._menus.length&&s--,n!==s&&(B.move(this._menus,n,s),r&&this.update())}removeMenu(e,i=!0){this.removeMenuAt(this._menus.indexOf(e),i)}removeMenuAt(e,i=!0){this._closeChildMenu();let r=B.removeAt(this._menus,e);r&&(r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),i&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var i;let r=this._menus,n=this.renderer,s=this._activeIndex,o=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,a=this._overflowIndex>-1?this._overflowIndex:r.length,l=0,c=!1;a=this._overflowMenu!==null?a-1:a;let u=new Array(a);for(let d=0;d<a;++d)u[d]=n.renderItem({title:r[d].title,active:d===s,tabbable:d===o,disabled:r[d].items.length===0,onfocus:()=>{this._tabFocusIndex=d,this.activeIndex=d}}),l+=this._menuItemSizes[d],r[d].title.label===this._overflowMenuOptions.title&&(c=!0,a--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!c){if(this._overflowMenu===null){let d=(i=this._overflowMenuOptions.title)!==null&&i!==void 0?i:"...";this._overflowMenu=new na({commands:new jr}),this._overflowMenu.title.label=d,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let d=r.length-2;d>=a;d--){let f=this.menus[d];f.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:f}),this.removeMenu(f,!1)}u[a]=n.renderItem({title:this._overflowMenu.title,active:a===s&&r[a].items.length!==0,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}else if(this._overflowMenu!==null){let d=this._overflowMenu.items,f=this.node.offsetWidth,h=this._overflowMenu.items.length;for(let m=0;m<h;++m){let p=r.length-1-m;if(f-l>this._menuItemSizes[p]){let _=d[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(a,_,!1),u[a]=n.renderItem({title:_.title,active:!1,tabbable:a===o,disabled:r[a].items.length===0,onfocus:()=>{this._tabFocusIndex=a,this.activeIndex=a}}),a++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),u.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}Vt.render(u,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;let e=this.contentNode.childNodes,i=this.node.offsetWidth,r=0,n=-1,s=e.length;if(this._menuItemSizes.length==0)for(let o=0;o<s;o++){let a=e[o];r+=a.offsetWidth,this._menuItemSizes.push(a.offsetWidth),r>i&&n===-1&&(n=o)}else for(let o=0;o<this._menuItemSizes.length;o++)if(r+=this._menuItemSizes[o],r>i){n=o;break}this._overflowIndex=n}_evtKeyDown(e){let i=e.keyCode;if(i===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),i===13||i===32||i===38||i===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(i===37||i===39){let o=i===37?-1:1,a=this._tabFocusIndex+o,l=this._menus.length;for(let c=0;c<l;c++){let u=(l+a+o*c)%l;if(this._menus[u].items.length){this._focusItemAt(u);return}}return}let r=vs().keyForKeydownEvent(e);if(!r)return;let n=this._activeIndex+1,s=Vx.findMnemonic(this._menus,r,n);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.openActiveMenu()):s.index!==-1?(this.activeIndex=s.index,this._focusItemAt(this.activeIndex)):s.auto!==-1&&(this.activeIndex=s.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!Ie.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let i=B.findFirstIndex(this.contentNode.children,r=>Ie.hitTest(r,e.clientX,e.clientY));if(i===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{e.preventDefault();let r=this._positionForMenu(i);na.saveWindowData(),this.activeIndex=i,this._openChildMenu(r)}}_evtMouseMove(e){let i=B.findFirstIndex(this.contentNode.children,n=>Ie.hitTest(n,e.clientX,e.clientY));if(i===this._activeIndex||i===-1&&this._childMenu)return;let r=i>=0&&this._childMenu?this._positionForMenu(i):null;na.saveWindowData(),this.activeIndex=i,r&&this._openChildMenu(r)}_positionForMenu(e){let i=this.contentNode.children[e],{left:r,bottom:n}=i.getBoundingClientRect();return{top:n,left:r}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){let i=this.contentNode.childNodes[e];i&&i.focus()}_openChildMenu(e={}){let i=this.activeMenu;if(!i){this._closeChildMenu();return}let r=this._childMenu;if(r===i)return;this._childMenu=i,r?r.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,ze.sendMessage(this,ge.Msg.UpdateRequest);let{left:n,top:s}=e;(typeof n>"u"||typeof s>"u")&&({left:n,top:s}=this._positionForMenu(this._activeIndex)),r||this.addClass("lm-mod-active"),i.items.length>0&&i.open(n,s,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,i){if(e!==this._childMenu)return;let r=this._activeIndex,n=this._menus.length;switch(i){case"next":this.activeIndex=r===n-1?0:r+1;break;case"previous":this.activeIndex=r===0?n-1:r-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(r){let n=this.createItemClass(r),s=this.createItemDataset(r),o=this.createItemARIA(r);return Se.li({className:n,dataset:s,...r.disabled?{}:{tabindex:r.tabbable?"0":"-1"},onfocus:r.onfocus,...o},this.renderIcon(r),this.renderLabel(r))}renderIcon(r){let n=this.createIconClass(r);return Se.div({className:n},r.title.icon,r.title.iconLabel)}renderLabel(r){let n=this.formatLabel(r);return Se.div({className:"lm-MenuBar-itemLabel"},n)}createItemClass(r){let n="lm-MenuBar-item";return r.title.className&&(n+=` ${r.title.className}`),r.active&&!r.disabled&&(n+=" lm-mod-active"),n}createItemDataset(r){return r.title.dataset}createItemARIA(r){return{role:"menuitem","aria-haspopup":"true","aria-disabled":r.disabled?"true":"false"}}createIconClass(r){let n="lm-MenuBar-itemIcon",s=r.title.iconClass;return s?`${n} ${s}`:n}formatLabel(r){let{label:n,mnemonic:s}=r.title;if(s<0||s>=n.length)return n;let o=n.slice(0,s),a=n.slice(s+1),l=n[s],c=Se.span({className:"lm-MenuBar-itemMnemonic"},l);return[o,c,a]}}t.Renderer=e,t.defaultRenderer=new e})($f||($f={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("ul");return n.className="lm-MenuBar-content",r.appendChild(n),n.setAttribute("role","menubar"),r}t.createNode=e;function i(r,n,s){let o=-1,a=-1,l=!1,c=n.toUpperCase();for(let u=0,d=r.length;u<d;++u){let f=(u+s)%d,h=r[f].title;if(h.label.length===0)continue;let m=h.mnemonic;if(m>=0&&m<h.label.length){h.label[m].toUpperCase()===c&&(o===-1?o=f:l=!0);continue}a===-1&&h.label[0].toUpperCase()===c&&(a=f)}return{index:o,multiple:l,auto:a}}t.findMnemonic=i})(Vx||(Vx={}));(function(t){function e(){let r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return n.className="lm-ScrollBar-button",s.className="lm-ScrollBar-button",n.dataset.action="decrement",s.dataset.action="increment",o.className="lm-ScrollBar-track",a.className="lm-ScrollBar-thumb",o.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(s),r}t.createNode=e;function i(r,n){return r.thumbNode.contains(n)?"thumb":r.trackNode.contains(n)?"track":r.decrementNode.contains(n)?"decrement":r.incrementNode.contains(n)?"increment":null}t.findPart=i})(i3||(i3={}));r3=class extends sa{constructor(){super(...arguments),this._widget=null}dispose(){if(this._widget){let e=this._widget;this._widget=null,e.dispose()}super.dispose()}get widget(){return this._widget}set widget(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))}*[Symbol.iterator](){this._widget&&(yield this._widget)}removeWidget(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))}init(){super.init();for(let e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterAttach)}detachWidget(e){this.parent.isAttached&&ze.sendMessage(e,ge.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&ze.sendMessage(e,ge.Msg.AfterDetach)}},qM=class extends jf{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:ge.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(i=>{i.hiddenMode=this._hiddenMode}))}dispose(){for(let e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,i){this._hiddenMode===ge.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=ge.HiddenMode.Scale),i.hiddenMode=ge.HiddenMode.Scale):i.hiddenMode=ge.HiddenMode.Display,B.insert(this._items,e,new Jd(i)),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterAttach),this.parent.fit()}moveWidget(e,i,r){B.move(this._items,e,i),this.parent.update()}detachWidget(e,i){let r=B.removeAt(this._items,e);this.parent.isAttached&&ze.sendMessage(i,ge.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&ze.sendMessage(i,ge.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===ge.HiddenMode.Scale&&(i.hiddenMode=ge.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=ge.HiddenMode.Display)),r.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,i=0;for(let s=0,o=this._items.length;s<o;++s){let a=this._items[s];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),i=Math.max(i,a.minHeight))}let r=this._box=Ie.boxSizing(this.parent.node);e+=r.horizontalSum,i+=r.verticalSum;let n=this.parent.node.style;n.minWidth=`${e}px`,n.minHeight=`${i}px`,this._dirty=!0,this.parent.parent&&ze.sendMessage(this.parent.parent,ge.Msg.FitRequest),this._dirty&&ze.sendMessage(this.parent,ge.Msg.UpdateRequest)}_update(e,i){this._dirty=!1;let r=0;for(let l=0,c=this._items.length;l<c;++l)r+=+!this._items[l].isHidden;if(r===0)return;e<0&&(e=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=Ie.boxSizing(this.parent.node));let n=this._box.paddingTop,s=this._box.paddingLeft,o=e-this._box.horizontalSum,a=i-this._box.verticalSum;for(let l=0,c=this._items.length;l<c;++l){let u=this._items[l];u.isHidden||(u.widget.node.style.zIndex=`${l}`,u.update(s,n,o,a))}}};(function(t){function e(i){return i.layout||new qM}t.createLayout=e})(n3||(n3={}));(function(t){function e(s){return r[s]}t.orientationFromPlacement=e;function i(s){return n[s]}t.directionFromPlacement=i;let r={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(s3||(s3={}))});var a3,l3,yJ,wJ,c3,UM,d3,u3=F(()=>{$y();vm();o3();a3=H(be()),l3=H(r$()),yJ="jp-RenderedJSON",wJ="application/json",c3=["text/jsonl","application/jsonl","application/json-lines"],UM=class extends ge{constructor(e){super(),this._rootDOM=null,this.addClass(yJ),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||Js}[Fy.symbol](){return()=>Fy.printWidget(this)}async renderModel(e){let{Component:i}=await import("/myst_assets_folder/_shared/component-ICG4JZUA.js"),r;if(c3.indexOf(this._mimeType)>=0){let s=(e.data[this._mimeType]||"").trim().split(/\n/);r=JSON.parse(`[${s.join(",")}]`)}else r=e.data[this._mimeType]||{};let n=e.metadata[this._mimeType]||{};return this._rootDOM===null&&(this._rootDOM=(0,l3.createRoot)(this.node)),new Promise((s,o)=>{this._rootDOM.render(a3.createElement(i,{data:r,metadata:n,translator:this.translator,forwardedRef:()=>s()}))})}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}},d3={safe:!0,mimeTypes:[wJ,...c3],createRenderer:t=>new UM(t)}});var Wf,VM=F(()=>{qf();Oa();Wf=class{constructor(e={},i){var r,n,s,o,a,l,c;this._events=(r=i?.events)!==null&&r!==void 0?r:new od,this._options={mathjaxUrl:(n=e.mathjaxUrl)!==null&&n!==void 0?n:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:(s=e.mathjaxConfig)!==null&&s!==void 0?s:"TeX-AMS_CHTML-full,Safe"},this._binderOptions=GM((o=e.binderOptions)!==null&&o!==void 0?o:{}),this._savedSessions=YM((a=e.savedSessionOptions)!==null&&a!==void 0?a:{}),this._kernelOptions=XM((l=e.kernelOptions)!==null&&l!==void 0?l:{}),this._serverSettings=KM((c=e.serverSettings)!==null&&c!==void 0?c:{}),console.debug("thebe:config:constructor",this)}get events(){return this._events}get base(){return this._options}get mathjax(){return{mathjaxUrl:this._options.mathjaxUrl,mathjaxConfig:this._options.mathjaxConfig}}get binder(){return this._binderOptions}get savedSessions(){return this._savedSessions}get kernels(){return this._kernelOptions}get serverSettings(){return this._serverSettings}set serverSettings(e){this._serverSettings=e}}});function GM(t){return Object.assign({repo:"executablebooks/thebe-binder-base",ref:"HEAD",binderUrl:"https://mybinder.org",repoProvider:"github"},t)}function YM(t){return Object.assign({enabled:!0,maxAge:86400,storagePrefix:"thebe-binder"},t)}function XM(t){var e,i;return{path:(e=t.path)!==null&&e!==void 0?e:"/",kernelName:(i=t.kernelName)!==null&&i!==void 0?i:"python"}}function KM(t){var e,i;let r=(e=t.baseUrl)!==null&&e!==void 0?e:"http://localhost:8888",n=(i=t.wsUrl)!==null&&i!==void 0?i:r.replace(/^http/,"ws");return Object.assign(Object.assign({token:Bn(),appendToken:!0},t),{wsUrl:n,baseUrl:r})}function Tg(t){return Object.assign({mathjaxUrl:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:"TeX-AMS_CHTML-full,Safe"},t)}function JM(t,e){return new Wf(t,{events:e})}function CJ(t,e){let i=new Wf(t,{events:e});return Object.assign(Object.assign({},i.base),{binderOptions:i.binder,savedSessionOptions:i.savedSessions,kernelOptions:i.kernels,serverSettings:i.serverSettings})}var qf=F(()=>{VM();yc()});function h3(t){ZM==null&&(ZM=SJ.filter(i=>i.mimeTypes.indexOf("text/latex")>=0?t.mathjaxUrl?!0:(console.debug("thebe:getRenderers MathJax unavailable"),!1):!0));let e;return t.mathjaxUrl&&t.mathjaxConfig&&(e=new Fx({url:t.mathjaxUrl,config:t.mathjaxConfig})),{initialFactories:[...ZM],latexTypesetter:e}}function Ag(t){let e=new tc(h3(t??Tg()));return e.addFactory(d3,10),e}var SJ,ZM,Gx=F(()=>{bb();KF();JF();u3();qf();SJ=[Fz,qz,Wz,Uz,$z,PM,Gz,Vz],ZM=null});var QM,Uf,Yx=F(()=>{Gx();HS();qf();lS();Xv();QM=class{constructor(e,i,r){this.id=e,this.rendermime=i??Ag(r??Tg()),this.model=new Vo({trusted:!0}),this.area=new Zn({model:this.model,rendermime:this.rendermime})}get outputs(){return this.model.toJSON()}get isAttachedToDOM(){return this.area.isAttached}attachToDOM(e,i=!1){if(!this.area||!e){console.error(`thebe:renderer:attachToDOM - could not attach to DOM - area: ${this.area}, el: ${e}`);return}if(this.area.isAttached){if(console.debug("thebe:renderer:attachToDOM - already attached"),i)return}else console.debug(`thebe:renderer:attachToDOM ${this.id} - appending existing contents`),e.innerHTML&&this.area.model.add({output_type:"display_data",data:{"text/html":e.innerHTML}});e.textContent="";let r=document.createElement("div");r.style.position="relative",r.className="thebe-output",e.append(r),Re.sendMessage(this.area,me.Msg.BeforeAttach),r.appendChild(this.area.node),Re.sendMessage(this.area,me.Msg.AfterAttach)}setOutputText(e){this.area&&(this.area.model.clear(!0),this.area.model.add({output_type:"stream",name:"stdout",text:e}))}clear(){this.area&&this.area.model.clear()}clearOnError(e){this.area&&(this.area.model.clear(),this.area.model.add({output_type:"stream",name:"stderr",text:`Failed to execute. ${e??""} Please refresh the page.`}))}render(e){this.model.fromJSON(e)}},Uf=QM});var Rg,Lg,ek=F(()=>{Ii();Yx();Oa();wg();yc();Rg=class extends Uf{constructor(e,i,r,n,s,o){super(e,o),this.kind="code",this.events=new ia(e,n,oo.cell,this),this.notebookId=i,this.source=r,this.metadata=s,this.busy=!1,this.executionCount=null,this.initialOutputs=[],console.debug("thebe:cell constructor",this)}static fromICodeCell(e,i,r,n){var s;let o=new Rg((s=e.id)!==null&&s!==void 0?s:Bn(),i,zf(e.source),r,e.metadata,n);return Object.assign(o.metadata,e.metadata),o}get isBusy(){return this.busy}get isAttached(){return this.session!==void 0}get tags(){var e;return(e=this.metadata.tags)!==null&&e!==void 0?e:[]}attachSession(e){this.session=e,this.events.triggerStatus({status:Yl.attached,message:"Attached to session"})}detachSession(){this.session=void 0,this.events.triggerStatus({status:Yl.detached,message:"Detached from session"})}setAsBusy(){console.debug(`thebe:renderer:message:busy ${this.id}`),this.busy=!0,this.events.triggerStatus({status:Yl.executing,message:"Executing..."})}setAsIdle(){console.debug(`thebe:renderer:message:completed ${this.id}`),this.busy=!1,this.events.triggerStatus({status:Yl.idle,message:"Completed"})}initOutputs(e){this.initialOutputs=e,this.render(e),this.executionCount=null}reset(){this.render(this.initialOutputs),this.executionCount=null}execute(e){return dt(this,void 0,void 0,function*(){if(!this.session||!this.session.kernel)return console.warn("Attempting to execute on a cell without an attached kernel"),null;let i=e??this.source;try{console.debug(`thebe:renderer:execute ${this.id}`),this.isBusy||this.setAsBusy(),this.area.future=this.session.kernel.requestExecute({code:i});let r=yield this.area.future.done;this.executionCount=r.content.execution_count;let n;for(let s=0;s<this.model.length;s++){let o=this.model.get(s);if(console.debug("thebecell:execute:output",{out:o.toJSON()}),o.type==="error"){let a=o.toJSON();a.ename==="stderr"?this.events.triggerError({status:Rr.warning,message:Yv(a)}):(n?n?.push(a):n=[a],this.events.triggerError({status:Rr.executeError,message:Yv(a)}))}}return this.setAsIdle(),{id:this.id,height:this.area.node.offsetHeight,width:this.area.node.offsetWidth,error:n}}catch(r){return console.error("thebe:renderer:execute Error:",r),this.clearOnError(r),this.events.triggerError(r.message),null}})}},Lg=Rg});var gl,tk=F(()=>{Ii();Yx();yc();gl=class extends Uf{constructor(e,i,r,n,s){super(e,s),this.kind="markdown",this.id=e,this.notebookId=i,this.source=r,this.busy=!1,this.metadata=n}static fromICell(e,i,r){return new gl(typeof e.id=="string"?e.id:Bn(),i,zf(e.source),e.metadata,r)}get isAttachedToDOM(){return!1}get isBusy(){return!1}get isAttached(){return!1}get executionCount(){return null}setAsBusy(){}setAsIdle(){}initOutputs(e){}reset(){}attachToDOM(e){}attachSession(e){}detachSession(){}setOutputText(e){}clear(){}clearOnError(e){}messageBusy(){}messageCompleted(){}messageError(e){}render(e){}get tags(){return[]}get outputs(){return[]}execute(e){return dt(this,void 0,void 0,function*(){return{id:this.id,height:0,width:0}})}}});var Vf,Ng,ik=F(()=>{Ii();ek();yc();Oa();wg();tk();Vf=class{constructor(e,i,r){this.id=e,this.events=new ia(e,i,oo.notebook,this),this.cells=[],this.metadata={},this.rendermime=r,console.debug("thebe:notebook constructor",this)}static fromCodeBlocks(e,i,r){let n=Bn(),s=new Vf(n,i,r);return s.cells=e.map(o=>{let a={},l=new Lg(o.id,n,o.source,i,a,s.rendermime);return console.debug(`thebe:notebook:fromCodeBlocks Initializing cell ${o.id}`),l}),s}static fromIpynb(e,i,r){let n=new Vf(Bn(),i,r);return Object.assign(n.metadata,e.metadata),n.cells=e.cells.map(s=>s.cell_type==="code"?Lg.fromICodeCell(s,n.id,i,n.rendermime):gl.fromICell(s,n.id,n.rendermime)),n}get parameters(){let e=this.findCells("parameters");if(!(!e||e?.length===0))return e.length>1&&console.warn(`Mulitple parameter cells found in notebook ${this.id}`),e}get widgets(){var e;return(e=this.findCells("widget"))!==null&&e!==void 0?e:[]}get last(){if(this.cells.length===0)throw new Error("empty notebook");return this.cells[this.cells.length-1]}get markdown(){return this.cells.filter(e=>e.kind==="markdown")}get code(){return this.cells.filter(e=>e.kind==="code")}reset(){this.cells.forEach(e=>e.reset())}numCells(){var e,i;return(i=(e=this.cells)===null||e===void 0?void 0:e.length)!==null&&i!==void 0?i:0}findCells(e){let i=this.cells.filter(r=>r.tags.includes(e));return i.length>0?i:void 0}getCell(e){if(!this.cells)throw Error("Dag not initialized");if(e>=this.cells.length)throw Error(`Notebook.cells index out of range: ${e}:${this.cells.length}`);return this.cells[e]}getCellById(e){var i;return(i=this.cells)===null||i===void 0?void 0:i.find(n=>n.id===e)}lastCell(){if(!this.cells)throw Error("Notebook not initialized");return this.cells[this.cells.length-1]}updateParameters(e,i=!1){if(i)throw new Error("Not implemented yet");this.parameters&&(this.parameters[0].source=e)}waitForKernel(e){return dt(this,void 0,void 0,function*(){return e.then(i=>(this.attachSession(i),i))})}attachSession(e){var i;if(!e.kernel)throw Error("ThebeNotebook - cannot connect to session, no kernel");this.session=e,(i=this.cells)===null||i===void 0||i.forEach(r=>r.session=e),this.events.triggerStatus({status:An.attached,message:"Attached to session"})}detachSession(){var e;(e=this.cells)===null||e===void 0||e.map(i=>i.session=void 0),this.session=void 0,this.events.triggerStatus({status:An.detached,message:"Detached from session"})}clear(){this.cells.forEach(e=>e.clear())}executeUpTo(e,i=!1,r){return dt(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:An.executing,message:`executeUpTo ${e}`});let n=this.cells.findIndex(a=>a.id===e);if(n===-1)return[];let s=this.cells.slice(0,n+1);s.map(a=>a.setAsBusy());let o=yield this.executeCells(s.map(a=>a.id),i,r);return this.events.triggerStatus({status:An.idle,message:`executeUpTo ${e}`}),o})}executeOnly(e,i){return dt(this,void 0,void 0,function*(){if(!this.cells)return null;this.events.triggerStatus({status:An.executing,message:`executeOnly ${e}`});let r=yield this.executeCells([e],!1,i);return this.events.triggerStatus({status:An.idle,message:`executeUpTo ${e}`}),r[0]})}executeCells(e,i=!1,r){return dt(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:An.executing,message:`executeCells ${e.length} cells`});let n=this.cells.filter(o=>{let a=e.find(l=>l===o.id);return a||console.warn(`Cell ${o.id} not found in notebook`),Boolean(a)}),s=[];if(i){let o=!1;for(let a of n){if(o)continue;let l=yield a.execute(r?r(a.source):a.source);(l==null||l.error)&&(o=!0),s.push(l)}}else s=yield Promise.all(n.map(o=>o.execute(r?r(o.source):o.source)));return this.events.triggerStatus({status:An.idle,message:`executeCells executed ${e.length} cells`}),s})}executeAll(e=!1,i){return dt(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:An.executing,message:"executeAll"}),this.cells.map(n=>n.setAsBusy());let r=yield this.executeCells(this.cells.map(n=>n.id),e,i);return this.events.triggerStatus({status:An.idle,message:"executeAll"}),r})}},Ng=Vf});var EJ,Dg,rk=F(()=>{EJ="0.5.0",Dg=EJ});function f3(t){let e=new Xd(t);return console.debug("thebe:api:connect binder \u{1F4E1}",t.binder),e.connectToServerViaBinder(),e}function m3(t){let e=new Xd(t);return console.debug("thebe:api:connect direct \u{1F50C}",t.serverSettings),e.connectToJupyterServer(),e}function p3(t){let e=new Xd(t);return console.debug("thebe:api:connect JupyterLite \u{1F918}"),e.connectToJupyterLiteServer(),e}function g3(){return new od}function _3(t){return new Xd(t)}function v3(t,e,i){return Ng.fromCodeBlocks(t,e,i)}function b3(t,e,i){return Ng.fromIpynb(t,e,i)}function nk(){var t;console.debug(`thebe-core (v${Dg})`,{coreModule:Og}),window.thebeCore=Object.assign((t=window.thebeCore)!==null&&t!==void 0?t:{},{module:Og,api:{makeConfiguration:JM,makeEvents:g3,makeServer:_3,makeRenderMimeRegistry:Ag,connectToBinder:f3,connectToJupyter:m3,connectToJupyterLite:p3,setupNotebookFromBlocks:v3,setupNotebookFromIpynb:b3},version:Dg})}var sk=F(()=>{OM();ik();Oa();qf();Gx();ok();rk()});var x3=F(()=>{sk();typeof window<"u"&&nk()});var y3=F(()=>{});var Og={};Oc(Og,{CellStatusEvent:()=>Yl,Config:()=>Wf,ErrorStatusEvent:()=>Rr,EventSubject:()=>oo,KernelStatusEvent:()=>QC,NotebookStatusEvent:()=>An,PassiveCellRenderer:()=>Uf,ServerStatusEvent:()=>Pi,SessionStatusEvent:()=>Rs,ThebeCodeCell:()=>Lg,ThebeEventType:()=>Lh,ThebeEvents:()=>od,ThebeManager:()=>yg,ThebeMarkdownCell:()=>gl,ThebeNotebook:()=>Ng,ThebeServer:()=>Xd,ThebeSession:()=>Cg,WIDGET_MIMETYPE:()=>xg,clearAllSavedSessions:()=>rz,clearSavedSession:()=>nz,connectToBinder:()=>f3,connectToJupyter:()=>m3,connectToJupyterLite:()=>p3,ensureCoreOptions:()=>CJ,ensureString:()=>zf,errorToMessage:()=>Yv,getRenderers:()=>h3,isMimeBundle:()=>HF,makeBinderOptions:()=>GM,makeConfiguration:()=>JM,makeEvents:()=>g3,makeKernelOptions:()=>XM,makeMathjaxOptions:()=>Tg,makeRenderMimeRegistry:()=>Ag,makeSavedSessionOptions:()=>YM,makeServer:()=>_3,makeServerSettings:()=>KM,placeholder:()=>jF,setupNotebookFromBlocks:()=>v3,setupNotebookFromIpynb:()=>b3,setupThebeCore:()=>nk,shortId:()=>Bn,stripWidgets:()=>uJ,version:()=>Dg});var ok=F(()=>{OM();NM();ik();ek();tk();Yx();rk();qf();Oa();sk();x3();yc();Bx();Gx();y3();VM();ZC()});var Yf=qe(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.useThebeLoader=Sc.ThebeBundleLoaderProvider=Sc.ThebeLoaderProvider=void 0;var ak=(Ii(),ga(zc)),Gf=Ce(),qs=ak.__importStar(be()),w3=ak.__importDefault(JC()),lk=qs.default.createContext(void 0);function IJ({start:t,children:e}){let[i,r]=(0,qs.useState)(t),[n,s]=(0,qs.useState)(!1),[o,a]=(0,qs.useState)(),[l,c]=(0,qs.useState)();return(0,qs.useEffect)(()=>{!i||o||(s(!0),console.debug(`thebe-react (v${w3.default}) importing thebe-core...`),Promise.resolve().then(()=>ak.__importStar((ok(),ga(Og)))).then(u=>{console.debug(`thebe-core (v${u.version}) loaded`),a(u),s(!1)}).catch(({message:u})=>{console.debug(`thebe-core load failed ${u}`),c(u),s(!1)}))},[i]),(0,Gf.jsx)(lk.Provider,Object.assign({value:{core:o,error:l,loading:n,load:()=>r(!0)}},{children:(0,Gf.jsx)(Gf.Fragment,{children:e})}))}Sc.ThebeLoaderProvider=IJ;function MJ({start:t,loadThebeLite:e,publicPath:i,children:r,options:n={}}){let[s,o]=(0,qs.useState)(t),[a,l]=(0,qs.useState)(!1),[c,u]=(0,qs.useState)(),[d,f]=(0,qs.useState)();return(0,qs.useEffect)(()=>{var h;if(!(!s||c)&&(l(!0),console.debug(`thebe-react (v${w3.default}) importing thebe-core...`),typeof document<"u"&&typeof window<"u"))try{if(!window.thebeCore){let _=document.createElement("script");_.setAttribute("src",`${i??""}/thebe-core.min.js`),_.setAttribute("async","true"),_.setAttribute("type","text/javascript"),document.head.appendChild(_)}if(e){let _=document.createElement("script");_.setAttribute("src",`${i??""}/thebe-lite.min.js`),_.setAttribute("async","true"),_.setAttribute("type","text/javascript"),document.head.appendChild(_)}let m=0,p=setInterval(()=>{var _,x,y,C,k,M;window.thebeCore&&(window.thebeLite||!e)&&(l(!1),u((_=window.thebeCore)===null||_===void 0?void 0:_.module),console.debug(`thebe-core (v${(y=(x=window.thebeCore)===null||x===void 0?void 0:x.version)!==null&&y!==void 0?y:"0"}) loaded`),window.thebeLite&&console.debug(`thebe-lite (v${(k=(C=window.thebeLite)===null||C===void 0?void 0:C.version)!==null&&k!==void 0?k:"0"}) loaded`),clearInterval(p)),m>((M=n?.attempts)!==null&&M!==void 0?M:50)&&(f("thebe-core load failed"),l(!1),clearInterval(p),console.warn("thebe load timed out"),window.thebeCore||console.debug("thebe-core failed to load"),window.thebeLite||console.debug("thebe-lite failed to load")),m+=1},(h=n?.delay)!==null&&h!==void 0?h:300)}catch(m){f(m),l(!1)}},[s]),(0,Gf.jsx)(lk.Provider,Object.assign({value:{core:c,error:d,loading:a,load:()=>o(!0)}},{children:(0,Gf.jsx)(Gf.Fragment,{children:r})}))}Sc.ThebeBundleLoaderProvider=MJ;function kJ(){let t=qs.default.useContext(lk);return t??{loading:!1,load:()=>({})}}Sc.useThebeLoader=kJ});var zg=qe(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.useThebeServer=en.useDisposeThebeServer=en.useThebeConfig=en.ThebeServerProvider=en.ThebeServerContext=void 0;var ck=(Ii(),ga(zc)),TJ=Ce(),Sr=ck.__importStar(be()),C3=Yf();en.ThebeServerContext=Sr.default.createContext(void 0);function AJ({connect:t=!0,config:e,options:i,useBinder:r,useJupyterLite:n,customConnectFn:s,customRepoProviders:o,events:a,children:l}){var c;let{core:u}=(0,C3.useThebeLoader)(),[d,f]=(0,Sr.useState)(t),[h,m]=(0,Sr.useState)(!1),[p,_]=(0,Sr.useState)(),[x,y]=(0,Sr.useState)(!1),[C,k]=(0,Sr.useState)(),M=(0,Sr.useRef)(),v=(0,Sr.useMemo)(()=>e??u?.makeConfiguration(i??{},a),[u,e,i]);(0,Sr.useEffect)(()=>{if(!u||!v)return;if(v===M.current&&p)return;let E=new u.ThebeServer(v),T=(R,P)=>{let Y=[u.EventSubject.server,u.EventSubject.session,u.EventSubject.kernel];P.subject&&Y.includes(P.subject)&&k(`${P.status} - ${P.message}`)};v.events.on(u.ThebeEventType.error,T),M.current=v,_(E)},[u,v,p]);let I=()=>{if(p)return m(!0),s?s(p):r?p.connectToServerViaBinder(o):n?p.connectToJupyterLiteServer():p.connectToJupyterServer(),p.ready.then(()=>{m(!1),y(!0)},()=>{m(!1),y(!1)}),p.ready};return(0,Sr.useEffect)(()=>{!p||!d||p.isReady&&p.userServerUrl||I()},[p,d]),(0,TJ.jsx)(en.ThebeServerContext.Provider,Object.assign({value:{config:v,events:a??v?.events,server:p,connecting:h,ready:((c=p?.isReady)!==null&&c!==void 0?c:!1)&&x,connect:I,disconnect:()=>ck.__awaiter(this,void 0,void 0,function*(){u&&v&&p&&(p.dispose(),_(new u.ThebeServer(v))),y(!1),f(!1),m(!1),k(void 0)}),error:C}},{children:l}))}en.ThebeServerProvider=AJ;function RJ(){let t=(0,Sr.useContext)(en.ThebeServerContext);if(t===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");return{config:t.config}}en.useThebeConfig=RJ;function LJ(){let[t,e]=(0,Sr.useState)(!1),i=(0,Sr.useContext)(en.ThebeServerContext);if(i===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");let{server:r,ready:n}=i;return(0,Sr.useEffect)(()=>{!r||!n||Promise.resolve().then(()=>ck.__awaiter(this,void 0,void 0,function*(){yield r.shutdownAllSessions(),r.dispose(),e(!0)}))},[n,r]),t}en.useDisposeThebeServer=LJ;function NJ(){let t=(0,C3.useThebeLoader)(),{core:e}=t??{},i=(0,Sr.useContext)(en.ThebeServerContext),{config:r,events:n,server:s,connecting:o,ready:a,connect:l,disconnect:c,error:u}=i??{ready:!1,connecting:!1},[d,f]=(0,Sr.useState)([]),h=(0,Sr.useCallback)(p=>{if(!e||!r||!s)return;let _=(x,y)=>{let C=[e.EventSubject.server,e.EventSubject.session,e.EventSubject.kernel];y.subject&&C.includes(y.subject)&&p(y)};r?.events.on(e.ThebeEventType.status,_),f([...d,_])},[r,s]),m=(0,Sr.useCallback)(()=>{e&&(d.forEach(p=>{r?.events.off(e.ThebeEventType.status,p)}),f([]))},[r,s]);return i?{config:r,events:n,server:s,connecting:o,ready:a,error:u,connect:l,disconnect:c,subscribe:h,unsubAll:m}:{connecting:!1,ready:!1}}en.useThebeServer=NJ});var Xx=qe(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.useRenderMimeRegistry=Xf.ThebeRenderMimeRegistryProvider=void 0;var DJ=(Ii(),ga(zc)),OJ=Ce(),dk=DJ.__importDefault(be()),zJ=Yf(),PJ=zg(),S3=dk.default.createContext(void 0);function BJ({children:t}){let{core:e}=(0,zJ.useThebeLoader)(),{config:i}=(0,PJ.useThebeConfig)(),r=dk.default.useMemo(()=>e?.makeRenderMimeRegistry(i?.mathjax),[e,i]);return(0,OJ.jsx)(S3.Provider,Object.assign({value:{rendermime:r}},{children:t}))}Xf.ThebeRenderMimeRegistryProvider=BJ;function HJ(){let t=dk.default.useContext(S3);return t?.rendermime}Xf.useRenderMimeRegistry=HJ});var hk=qe(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.useThebeSession=oa.ThebeSessionProvider=oa.ThebeSessionContext=void 0;var uk=(Ii(),ga(zc)),jJ=Ce(),bo=uk.__importStar(be()),FJ=zg(),$J=Xx(),WJ=Yf();oa.ThebeSessionContext=bo.default.createContext(void 0);function qJ({start:t=!0,path:e,shutdownOnUnmount:i=!1,children:r}){let{core:n}=(0,WJ.useThebeLoader)(),{config:s,server:o,ready:a}=(0,FJ.useThebeServer)(),l=(0,$J.useRenderMimeRegistry)(),[c,u]=(0,bo.useState)(t),[d,f]=(0,bo.useState)(!1),[h,m]=(0,bo.useState)(),[p,_]=(0,bo.useState)(!1),[x,y]=(0,bo.useState)(),[C,k]=(0,bo.useState)();(0,bo.useEffect)(()=>{!o||!a||!c||d||p||M()},[p,c,d,o,a]),(0,bo.useEffect)(()=>{if(!n||!s||!h)return;let v=(I,E)=>{let T=[n.EventSubject.session,n.EventSubject.kernel];E.subject&&T.includes(E.subject)&&E.status==="shutdown"&&E.id===h.id&&y(`session ${h.path} - ${E.status} - ${E.message}`)};k(s.events.on(n.ThebeEventType.status,v))},[n,s,h]);let M=()=>{if(!l)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");f(!0),o?.startNewSession(l,{path:e}).then(v=>{if(f(!1),v==null){o?.getKernelSpecs().then(I=>{y(`Could not start a session - available kernels: ${Object.keys(I.kernelspecs)}`)});return}m(v),_(!0)},v=>{y(typeof v=="object"?v.message:JSON.stringify(v)),_(!1),u(!1),f(!1)})};return(0,bo.useEffect)(()=>()=>{i&&(C?.(),k(void 0),h?.shutdown().then(()=>{_(!1),f(!1),y(void 0)}))},[h]),(0,jJ.jsx)(oa.ThebeSessionContext.Provider,Object.assign({value:{path:e,starting:d,ready:p,session:h,start:()=>uk.__awaiter(this,void 0,void 0,function*(){h&&p?yield h.restart():M()}),shutdown:()=>uk.__awaiter(this,void 0,void 0,function*(){h&&(C?.(),k(void 0),yield h.shutdown(),m(void 0),_(!1),f(!1),y(void 0))}),error:x}},{children:r}))}oa.ThebeSessionProvider=qJ;function UJ(){let t=(0,bo.useContext)(oa.ThebeSessionContext);return t??{starting:!1,ready:!1}}oa.useThebeSession=UJ});var E3=qe(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.useNotebookfromSourceLegacy=Us.useNotebookFromSource=Us.useNotebook=Us.useNotebookBase=Us.findErrors=void 0;var Or=be(),mk=zg(),pk=Yf(),VJ=hk(),gk=Xx();function fk(t){return t.reduce((e,i,r)=>i?.error?e==null?[Object.assign(Object.assign({},i),{index:r})]:[...e,Object.assign(Object.assign({},i),{index:r})]:e,null)}Us.findErrors=fk;function _k(){let{session:t,ready:e}=(0,VJ.useThebeSession)(),[i,r]=(0,Or.useState)(),[n,s]=(0,Or.useState)([]),[o,a]=(0,Or.useState)(!1),[l,c]=(0,Or.useState)(!1),[u,d]=(0,Or.useState)(!1),[f,h]=(0,Or.useState)(null);return(0,Or.useEffect)(()=>{!i||!t||!e||(console.debug("thebe-react: attaching notebook to session",{notebook:i,session:t}),i.attachSession(t),a(!0))},[i,t,e]),{ready:!!i&&o,attached:o,executing:l,executed:u,errors:f,notebook:i,setNotebook:r,refs:n,setRefs:s,executeAll:x=>{var y,C;if(!i)throw new Error("executeAll called before notebook available");if(!t)throw new Error("executeAll called before session available");return(y=x?.before)===null||y===void 0||y.call(x),c(!0),i.executeAll((C=x?.stopOnError)!==null&&C!==void 0?C:!0,x?.preprocessor).then(k=>{var M;(M=x?.after)===null||M===void 0||M.call(x);let v=fk(k);return v!=null&&h(v),d(!0),c(!1),k})},executeSome:(x,y)=>{var C,k;if(!i)throw new Error("executeSome called before notebook available");if(!t)throw new Error("executeAll called before session available");(C=y?.before)===null||C===void 0||C.call(y),c(!0);let M=i.cells.filter(x).map(v=>v.id);return i.executeCells(M,(k=y?.stopOnError)!==null&&k!==void 0?k:!0,y?.preprocessor).then(v=>{var I;(I=y?.after)===null||I===void 0||I.call(y);let E=fk(v);return E!=null&&h(E),d(!0),c(!1),v})},clear:()=>{if(!i)throw new Error("clear called before notebook available");i.clear(),d(!1)},session:t}}Us.useNotebookBase=_k;function GJ(t,e,i={refsForWidgetsOnly:!0}){var r,n;let{core:s}=(0,pk.useThebeLoader)(),{config:o}=(0,mk.useThebeConfig)(),a=(0,gk.useRenderMimeRegistry)(),[l,c]=(0,Or.useState)(!1);if(!a)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let{ready:u,attached:d,executing:f,executed:h,errors:m,notebook:p,setNotebook:_,refs:x,setRefs:y,executeAll:C,executeSome:k,clear:M,session:v}=_k();return(0,Or.useEffect)(()=>{!s||!o||(c(!0),e(t).then(I=>s?.ThebeNotebook.fromIpynb(I,o,a)).then(I=>{var E,T;let R=i?.refsForWidgetsOnly?(E=I?.widgets)!==null&&E!==void 0?E:[]:(T=I?.cells)!==null&&T!==void 0?T:[];y(Array(R.length).fill(null).map((P,Y)=>re=>{console.debug(`new ref[${Y}] - attaching to dom...`,re),re!=null&&R[Y].attachToDOM(re)})),_(I),c(!1)}))},[s,o]),{ready:u,loading:l,attached:d,executing:f,executed:h,errors:m,notebook:p,cellRefs:x,cellIds:(i.refsForWidgetsOnly?(r=p?.widgets)!==null&&r!==void 0?r:[]:(n=p?.cells)!==null&&n!==void 0?n:[]).map(I=>I.id),executeAll:C,executeSome:k,clear:M,session:v}}Us.useNotebook=GJ;function YJ(t,e={refsForWidgetsOnly:!0}){var i,r;let{core:n}=(0,pk.useThebeLoader)(),{config:s}=(0,mk.useThebeConfig)(),o=(0,gk.useRenderMimeRegistry)(),[a,l]=(0,Or.useState)(!1);if(!o)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let{ready:c,attached:u,executing:d,executed:f,errors:h,notebook:m,setNotebook:p,refs:_,setRefs:x,executeAll:y,executeSome:C,clear:k,session:M}=_k();return(0,Or.useEffect)(()=>{var v,I;if(!n||!s||a||m)return;l(!0);let E=n.ThebeNotebook.fromCodeBlocks(t.map(R=>({id:n?.shortId(),source:R})),s,o),T=e?.refsForWidgetsOnly?(v=E?.widgets)!==null&&v!==void 0?v:[]:(I=E?.cells)!==null&&I!==void 0?I:[];x(Array(T.length).fill(null).map((R,P)=>Y=>{console.debug(`new ref[${P}] - attaching to dom...`,Y),Y!=null&&T[P].attachToDOM(Y)})),p(E),l(!1)},[n,m,a]),{ready:c,loading:a,attached:u,executing:d,executed:f,errors:h,notebook:m,cellRefs:_,cellIds:(e.refsForWidgetsOnly?(i=m?.widgets)!==null&&i!==void 0?i:[]:(r=m?.cells)!==null&&r!==void 0?r:[]).map(v=>v.id),executeAll:y,executeSome:C,clear:k,session:M}}Us.useNotebookFromSource=YJ;function XJ(t){let{core:e}=(0,pk.useThebeLoader)(),{config:i}=(0,mk.useThebeConfig)(),r=(0,gk.useRenderMimeRegistry)();if(!r)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");let[n,s]=(0,Or.useState)(!1),[o,a]=(0,Or.useState)(),[l,c]=(0,Or.useState)({}),[u]=(0,Or.useState)(Array(t.length).fill(void 0).map(()=>(0,Or.createRef)()));return(0,Or.useEffect)(()=>{!e||!i||o||a(e.ThebeNotebook.fromCodeBlocks(t.map(h=>({id:e?.shortId(),source:h})),i,r))},[e,o]),{notebook:o,busy:n,execute:()=>{if(!o)throw new Error("execute called before notebook available");s(!0),o.executeAll().then(()=>{s(!1)})},attach:h=>{if(h.kernel!=null){if(!o){console.warn("attach called before notebook available");return}o?.detachSession(),o?.attachSession(h),o?.cells.forEach((m,p)=>{var _;u[p].current&&m.attachToDOM((_=u[p].current)!==null&&_!==void 0?_:void 0)})}},cellRefs:u,rerender:()=>c({})}}Us.useNotebookfromSourceLegacy=XJ});var I3=qe(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.interpolatorFactoryFn=Ec.PYTHON_PARAM=void 0;Ec.PYTHON_PARAM=/^(.*)=([^;]*);*\s*#\|*\s*@param\s*(.*)$/;function KJ(t){return e=>{let i=new Set(Object.keys(t));return e.split(`
`).map(s=>{if(Ec.PYTHON_PARAM.test(s)){let o=s.match(Ec.PYTHON_PARAM);if(o!=null){let[a,l,c,u]=o,d={};try{u!==""&&(d=JSON.parse(u))}catch(f){console.error("Could not parse schema from",s,f)}if(i.has(l.trim()))return`${l}= ${t[l.trim()]} #| @param${d?` ${JSON.stringify(Object.assign(Object.assign({},d),{last:c}))}`:""}`}}return s}).join(`
`)}}Ec.interpolatorFactoryFn=KJ});var k3=qe(Kx=>{"use strict";Object.defineProperty(Kx,"__esModule",{value:!0});var M3=(Ii(),ga(zc));M3.__exportStar(E3(),Kx);M3.__exportStar(I3(),Kx)});var _l=qe(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.version=void 0;var eu=(Ii(),ga(zc));eu.__exportStar(QO(),aa);eu.__exportStar(Yf(),aa);eu.__exportStar(zg(),aa);eu.__exportStar(hk(),aa);eu.__exportStar(Xx(),aa);eu.__exportStar(k3(),aa);var JJ=JC();Object.defineProperty(aa,"version",{enumerable:!0,get:function(){return eu.__importDefault(JJ).default}})});var s5=qe((Gke,n5)=>{"use strict";var r5=function(){function t(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function fZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ic=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],mZ=/(https?:\/\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm,pZ=function(){r5(t,null,[{key:"escapeForHtml",value:function(i){return new t().escapeForHtml(i)}},{key:"linkify",value:function(i){return new t().linkify(i)}},{key:"ansiToHtml",value:function(i,r){return new t().ansiToHtml(i,r)}},{key:"ansiToJson",value:function(i,r){return new t().ansiToJson(i,r)}},{key:"ansiToText",value:function(i){return new t().ansiToText(i)}}]);function t(){fZ(this,t),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}return r5(t,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var i=0;i<2;++i)for(var r=0;r<8;++r)this.PALETTE_COLORS.push(Ic[i][r].color);for(var n=[0,95,135,175,215,255],s=function(p,_,x){return n[p]+", "+n[_]+", "+n[x]},o=void 0,a=void 0,l=void 0,c=0;c<6;++c)for(var u=0;u<6;++u)for(var d=0;d<6;++d)this.PALETTE_COLORS.push(s(c,u,d));for(var f=8,h=0;h<24;++h,f+=10)this.PALETTE_COLORS.push(s(f,f,f))}},{key:"escapeForHtml",value:function(i){return i.replace(/[&<>\"]/gm,function(r){return r=="&"?"&amp;":r=='"'?"&quot;":r=="<"?"&lt;":r==">"?"&gt;":""})}},{key:"linkify",value:function(i){return i.replace(mZ,function(r){return'<a href="'+r+'">'+r+"</a>"})}},{key:"ansiToHtml",value:function(i,r){return this.process(i,r,!0)}},{key:"ansiToJson",value:function(i,r){return r=r||{},r.json=!0,r.clearLine=!1,this.process(i,r,!0)}},{key:"ansiToText",value:function(i){return this.process(i,{},!1)}},{key:"process",value:function(i,r,n){var s=this,o=this,a=i.split(/\033\[/),l=a.shift();r==null&&(r={}),r.clearLine=/\r/.test(i);var c=a.map(function(d){return s.processChunk(d,r,n)});if(r&&r.json){var u=o.processChunkJson("");return u.content=l,u.clearLine=r.clearLine,c.unshift(u),r.remove_empty&&(c=c.filter(function(d){return!d.isEmpty()})),c}else c.unshift(l);return c.join("")}},{key:"processChunkJson",value:function(i,r,n){r=typeof r>"u"?{}:r;var s=r.use_classes=typeof r.use_classes<"u"&&r.use_classes,o=r.key=s?"class":"color",a={content:i,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:r.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:function(){return!a.content}},l=i.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!l)return a;var c=a.content=l[4],u=l[2].split(";");if(l[1]!==""||l[3]!=="m"||!n)return a;for(var d=this;u.length>0;){var f=u.shift(),h=parseInt(f);if(isNaN(h)||h===0)d.fg=d.bg=null,d.decorations=[];else if(h===1)d.decorations.push("bold");else if(h===2)d.decorations.push("dim");else if(h===3)d.decorations.push("italic");else if(h===4)d.decorations.push("underline");else if(h===5)d.decorations.push("blink");else if(h===7)d.decorations.push("reverse");else if(h===8)d.decorations.push("hidden");else if(h===9)d.decorations.push("strikethrough");else if(h===21)d.removeDecoration("bold");else if(h===22)d.removeDecoration("bold"),d.removeDecoration("dim");else if(h===23)d.removeDecoration("italic");else if(h===24)d.removeDecoration("underline");else if(h===25)d.removeDecoration("blink");else if(h===27)d.removeDecoration("reverse");else if(h===28)d.removeDecoration("hidden");else if(h===29)d.removeDecoration("strikethrough");else if(h===39)d.fg=null;else if(h===49)d.bg=null;else if(h>=30&&h<38)d.fg=Ic[0][h%10][o];else if(h>=90&&h<98)d.fg=Ic[1][h%10][o];else if(h>=40&&h<48)d.bg=Ic[0][h%10][o];else if(h>=100&&h<108)d.bg=Ic[1][h%10][o];else if(h===38||h===48){var m=h===38;if(u.length>=1){var p=u.shift();if(p==="5"&&u.length>=1){var _=parseInt(u.shift());if(_>=0&&_<=255)if(!s)this.PALETTE_COLORS||d.setupPalette(),m?d.fg=this.PALETTE_COLORS[_]:d.bg=this.PALETTE_COLORS[_];else{var x=_>=16?"ansi-palette-"+_:Ic[_>7?1:0][_%8].class;m?d.fg=x:d.bg=x}}else if(p==="2"&&u.length>=3){var y=parseInt(u.shift()),C=parseInt(u.shift()),k=parseInt(u.shift());if(y>=0&&y<=255&&C>=0&&C<=255&&k>=0&&k<=255){var M=y+", "+C+", "+k;s?m?(d.fg="ansi-truecolor",d.fg_truecolor=M):(d.bg="ansi-truecolor",d.bg_truecolor=M):m?d.fg=M:d.bg=M}}}}}if(d.fg===null&&d.bg===null&&d.decorations.length===0)return a;var v=[],I=[],E={};return a.fg=d.fg,a.bg=d.bg,a.fg_truecolor=d.fg_truecolor,a.bg_truecolor=d.bg_truecolor,a.decorations=d.decorations,a.decoration=d.decorations.slice(-1).pop()||null,a.was_processed=!0,a}},{key:"processChunk",value:function(i,r,n){var s=this;r=r||{};var o=this.processChunkJson(i,r,n),a=r.use_classes;if(o.decorations=o.decorations.filter(function(h){if(h==="reverse"){o.fg||(o.fg=Ic[0][7][a?"class":"color"]),o.bg||(o.bg=Ic[0][0][a?"class":"color"]);var m=o.fg;o.fg=o.bg,o.bg=m;var p=o.fg_truecolor;return o.fg_truecolor=o.bg_truecolor,o.bg_truecolor=p,o.isInverted=!0,!1}return!0}),r.json)return o;if(o.isEmpty())return"";if(!o.was_processed)return o.content;var l=[],c=[],u=[],d={},f=function(m){var p=[],_=void 0;for(_ in m)m.hasOwnProperty(_)&&p.push("data-"+_+'="'+s.escapeForHtml(m[_])+'"');return p.length>0?" "+p.join(" "):""};return o.isInverted&&(d["ansi-is-inverted"]="true"),o.fg&&(a?(l.push(o.fg+"-fg"),o.fg_truecolor!==null&&(d["ansi-truecolor-fg"]=o.fg_truecolor,o.fg_truecolor=null)):l.push("color:rgb("+o.fg+")")),o.bg&&(a?(l.push(o.bg+"-bg"),o.bg_truecolor!==null&&(d["ansi-truecolor-bg"]=o.bg_truecolor,o.bg_truecolor=null)):l.push("background-color:rgb("+o.bg+")")),o.decorations.forEach(function(h){if(a){c.push("ansi-"+h);return}h==="bold"?c.push("font-weight:bold"):h==="dim"?c.push("opacity:0.5"):h==="italic"?c.push("font-style:italic"):h==="hidden"?c.push("visibility:hidden"):h==="strikethrough"?u.push("line-through"):u.push(h)}),u.length&&c.push("text-decoration:"+u.join(" ")),a?'<span class="'+l.concat(c).join(" ")+'"'+f(d)+">"+o.content+"</span>":'<span style="'+l.concat(c).join(";")+'"'+f(d)+">"+o.content+"</span>"}},{key:"removeDecoration",value:function(i){var r=this.decorations.indexOf(i);r>=0&&this.decorations.splice(r,1)}}]),t}();n5.exports=pZ});var a5=qe((Yke,ly)=>{function Sk(t){if(!t)return"";if(!/\r/.test(t))return t;for(t=t.replace(/\r+\n/gm,`
`);/\r./.test(t);)t=t.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,function(e,i,r){return r+i.slice(r.length)});return t}function gZ(t){for(var e=0,i=0;i<t.length;i++)t[e].length<=t[i].length&&(e=i);return e}function o5(t){if(!/\r/.test(t))return t;for(var e=t.split("\r"),i=[];e.length>0;){var r=gZ(e);i.push(e[r]),e=e.slice(r+1)}return i.join("\r")}function _Z(t){if(!t)return"";if(!/\r/.test(t))return t;if(!/\n/.test(t))return o5(t);t=t.replace(/\r+\n/gm,`
`);var e=t.lastIndexOf(`
`);return Sk(t.slice(0,e))+`
`+o5(t.slice(e+1))}ly.exports=Sk;ly.exports.escapeCarriageReturn=Sk;ly.exports.escapeCarriageReturnSafe=_Z});var H5=qe((PAe,B5)=>{var P5="Expected a function",O5=NaN,WZ="[object Symbol]",qZ=/^\s+|\s+$/g,UZ=/^[-+]0x[0-9a-f]+$/i,VZ=/^0b[01]+$/i,GZ=/^0o[0-7]+$/i,YZ=parseInt,XZ=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,KZ=typeof self=="object"&&self&&self.Object===Object&&self,JZ=XZ||KZ||Function("return this")(),ZZ=Object.prototype,QZ=ZZ.toString,eQ=Math.max,tQ=Math.min,Ak=function(){return JZ.Date.now()};function iQ(t,e,i){var r,n,s,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(P5);e=z5(e)||0,_y(i)&&(u=!!i.leading,d="maxWait"in i,s=d?eQ(z5(i.maxWait)||0,e):s,f="trailing"in i?!!i.trailing:f);function h(v){var I=r,E=n;return r=n=void 0,c=v,o=t.apply(E,I),o}function m(v){return c=v,a=setTimeout(x,e),u?h(v):o}function p(v){var I=v-l,E=v-c,T=e-I;return d?tQ(T,s-E):T}function _(v){var I=v-l,E=v-c;return l===void 0||I>=e||I<0||d&&E>=s}function x(){var v=Ak();if(_(v))return y(v);a=setTimeout(x,p(v))}function y(v){return a=void 0,f&&r?h(v):(r=n=void 0,o)}function C(){a!==void 0&&clearTimeout(a),c=0,r=l=n=a=void 0}function k(){return a===void 0?o:y(Ak())}function M(){var v=Ak(),I=_(v);if(r=arguments,n=this,l=v,I){if(a===void 0)return m(l);if(d)return a=setTimeout(x,e),h(l)}return a===void 0&&(a=setTimeout(x,e)),o}return M.cancel=C,M.flush=k,M}function rQ(t,e,i){var r=!0,n=!0;if(typeof t!="function")throw new TypeError(P5);return _y(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),iQ(t,e,{leading:r,maxWait:e,trailing:n})}function _y(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function nQ(t){return!!t&&typeof t=="object"}function sQ(t){return typeof t=="symbol"||nQ(t)&&QZ.call(t)==WZ}function z5(t){if(typeof t=="number")return t;if(sQ(t))return O5;if(_y(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_y(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(qZ,"");var i=VZ.test(t);return i||GZ.test(t)?YZ(t.slice(2),i?2:8):UZ.test(t)?O5:+t}B5.exports=rQ});var sn;(function(t){t.light="light",t.dark="dark"})(sn||(sn={}));var dT;(function(t){t.noSite="Site was not found",t.noArticle="Article was not found"})(dT||(dT={}));var Gy=H(Ce(),1),Ll=H(be(),1);function Uy(t){if(!t)return{};let e={};for(let i in t){let r=t[i];if(typeof r=="function")e[i]={base:r};else if(typeof r=="object"&&"base"in r)e[i]=r;else throw new Error(`Renderer for "${i}" must be either a function or an object containing a "base" renderer.`)}return e}function uT(t,e){let i={};for(let r of t)for(let n in r){let s=typeof r[n]=="function"?{base:r[n]}:r[n];i[n]=Object.assign(Object.assign({},i[n]),s)}return e?Uy(i):i}function hT(t,e){t.forEach(i=>{"data"in i&&i.data?Object.entries(i.data).forEach(([,r])=>{e(r)}):e(i)})}function Su(t,e=""){return t?typeof t=="string"?t:t.join?t.join(e):t:""}var fT=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i};function Vy(t,e){return t.map(i=>{switch(i.output_type){case"stream":{let{hash:r}=i,n=fT(i,["hash"]);return r&&e[r]?Object.assign(Object.assign({},n),{text:e[r][0]}):n}case"error":{let{hash:r,traceback:n}=i,s=fT(i,["hash","traceback"]);return r&&e[r]?Object.assign(Object.assign({},s),{traceback:[e[r][0]]}):Object.assign(Object.assign({},s),{traceback:[n]})}default:return Object.assign(Object.assign({},i),{data:Object.entries(i.data).reduce((r,[n,s])=>{let{content:o}=s,{hash:a}=s;if(a&&e[a]&&([o]=e[a]),o&&n!=="application/javascript"&&n.startsWith("application/"))try{o=JSON.parse(o)}catch{console.debug(`${n} is not json parsable, leaving as is`)}if(o&&n.startsWith("image/")&&!n.startsWith("image/svg")&&o.startsWith("data:")&&o.includes(";base64,")){let[l]=o.split(";base64,").reverse();o=l}return o?Object.assign(Object.assign({},r),{[n]:o}):r},{})})}})}var Cn;(function(t){t.TextPlain="text/plain",t.TextHtml="text/html",t.TextLatex="text/latex",t.ImagePng="image/png",t.ImageBmp="image/bmp",t.ImageJpeg="image/jpeg",t.ImageSvg="image/svg+xml",t.ImageGif="image/gif",t.AppJson="application/json",t.AppGeoJson="application/geo+json",t.AppPlotly="application/vnd.plotly.v1+json",t.AppVega="application/vnd.vega.v5+json",t.AppVegaLite="application/vnd.vegalite.v3+json",t.AppVirtualDom="application/vdom.v1+json",t.AppJavascript="application/javascript",t.AppWidgetView="application/vnd.jupyter.widget-view+json",t.AppWidgetState="application/vnd.jupyter.widget-state+json",t.AppBokehLoad="application/vnd.bokehjs_load.v0+json",t.AppBokehExec="application/vnd.bokehjs_exec.v0+json"})(Cn||(Cn={}));var mT;(function(t){t.raw="raw",t.markdown="markdown",t.code="code"})(mT||(mT={}));var _$=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i};function v$(t){var{to:e,className:i,children:r,prefetch:n}=t,s=_$(t,["to","className","children","prefetch"]);return(0,Gy.jsx)("a",Object.assign({href:e,className:i},s,{children:r}))}function m_(t){return typeof t=="string"&&Object.values(sn).includes(t)}var Bc=Ll.default.createContext(void 0);Bc.displayName="ThemeContext";function ZQ({theme:t,setTheme:e,children:i,renderers:r,Link:n,NavLink:s,navigate:o,top:a}){let l=Uy(r);return(0,Gy.jsx)(Bc.Provider,{value:{theme:t,setTheme:e,renderers:l,Link:n,NavLink:s,navigate:o,top:a},children:i})}function QQ(){let t=Ll.default.useContext(Bc);if(t===void 0){let o="useThemeSwitcher should be used within a ThemeProvider",a=()=>{throw new Error(o)};return console.error(o),{theme:sn.light,isLight:!0,isDark:!1,setTheme:a,nextTheme:a}}let{theme:e,setTheme:i}=t,r=e===sn.dark,n=e===sn.light,s=Ll.default.useCallback(()=>{let o=e===sn.light?sn.dark:sn.light;i(o)},[e]);return{theme:e,isLight:n,isDark:r,setTheme:i,nextTheme:s}}function pT(){let t=Ll.default.useContext(Bc),{renderers:e}=t??{};return e??{}}function ys(){let t=Ll.default.useContext(Bc),{Link:e}=t??{};return e??v$}function gT(){let t=Ll.default.useContext(Bc),{navigate:e}=t??{};return e??(i=>{window.location.href=i})}function xm(){let t=Ll.default.useContext(Bc),{top:e}=t??{};return e||0}var _T=H(Ce(),1),p_=H(be(),1),vT=p_.default.createContext({});function tee({baseurl:t,children:e}){return(0,_T.jsx)(vT.Provider,{value:{baseurl:t},children:e})}function Fr(){let t=(0,p_.useContext)(vT);return t?.baseurl}function ar(t,e){return e?e+t:t}var bT=H(Ce(),1),g_=H(be(),1),xT=g_.default.createContext(void 0);function ree({config:t,children:e}){return(0,bT.jsx)(xT.Provider,{value:t,children:e})}function va(){return(0,g_.useContext)(xT)}var yT=H(Ce(),1),__=H(be(),1),wT=__.default.createContext(void 0);function see({factory:t,children:e}){return(0,yT.jsx)(wT.Provider,{value:t,children:e})}function CT(){return(0,__.useContext)(wT)}var v_=H(be(),1);function ST(t){let e=typeof document>"u",i=o=>e?!1:window.matchMedia(o).matches,[r,n]=(0,v_.useState)(i(t));function s(){n(i(t))}return(0,v_.useEffect)(()=>{if(e)return;let o=window.matchMedia(t);return s(),o.addEventListener("change",s),()=>{o.removeEventListener("change",s)}},[t]),r}var ET=H(Ce(),1),Yy=H(be(),1),Xy=Yy.default.createContext(void 0);Xy.displayName="GridSystemContext";function lee({children:t,gridSystem:e}){return(0,ET.jsx)(Xy.Provider,{value:{gridSystem:e},children:t})}function Hc(){let t=Yy.default.useContext(Xy),{gridSystem:e}=t??{};return e||"article-grid"}var IT=H(Ce(),1),ym=H(be(),1),Ky=ym.default.createContext({});function MT({references:t,frontmatter:e,children:i}){return(0,IT.jsx)(Ky.Provider,{value:{references:t,frontmatter:e},children:i})}function Ro(){let t=(0,ym.useContext)(Ky);return t?.references}function kT(){let t=(0,ym.useContext)(Ky);return t?.frontmatter}var TT=H(Ce(),1),ba=H(be(),1);var Jy=(0,ba.createContext)(void 0);function hee({children:t}){let e=ST("(min-width: 1280px)"),[i,r]=(0,ba.useState)({isNavOpen:!1});return(0,ba.useEffect)(()=>{e&&r(Object.assign(Object.assign({},i),{isNavOpen:!1,isWide:e}))},[e]),(0,TT.jsx)(Jy.Provider,{value:[i,r],children:t})}function AT(){var t,e;let[i,r]=(t=(0,ba.useContext)(Jy))!==null&&t!==void 0?t:[],n=s=>{s!==i?.isNavOpen&&r?.(Object.assign(Object.assign({},i),{isNavOpen:s}))};return[(e=i?.isNavOpen)!==null&&e!==void 0?e:!1,n]}function RT(){var t,e;let[i]=(t=(0,ba.useContext)(Jy))!==null&&t!==void 0?t:[];return(e=i?.isWide)!==null&&e!==void 0?e:!1}var LT=H(Ce(),1),Eu=H(be(),1),NT=(0,Eu.createContext)(void 0);function mee({children:t}){let[e,i]=(0,Eu.useState)("");return(0,LT.jsx)(NT.Provider,{value:[e,i],children:t})}function DT(){return(0,Eu.useContext)(NT)}var OT=H(Ce(),1),b_=H(be(),1),zT=(0,b_.createContext)(void 0);function Nl(){var t;return(t=(0,b_.useContext)(zT))!==null&&t!==void 0?t:{inCrossRef:!1,remote:!1}}function x_({remote:t,url:e,dataUrl:i,remoteBaseUrl:r,children:n}){let s=Nl(),o={inCrossRef:!0,remote:t??s.remote,url:e??s.url,dataUrl:i??s.dataUrl,remoteBaseUrl:r??s.remoteBaseUrl};return o.remote&&!o.url&&(o.remote=!1),(0,OT.jsx)(zT.Provider,{value:o,children:n})}var PT=H(Ce(),1),y_=H(be(),1);var BT=y_.default.createContext(void 0);function vee({project:t,children:e}){var i;let r=va();return(0,PT.jsx)(BT.Provider,{value:t??((i=r?.projects)===null||i===void 0?void 0:i[0]),children:e})}function HT(){return(0,y_.useContext)(BT)}var jT=H(be(),1),w_="myst";async function FT(t){if(!t.port||window.mystLiveReloadConnected)return;window.mystLiveReloadConnected=!0,setTimeout(()=>{let s=JSON.parse(sessionStorage.getItem(w_)||"{}");s.scroll&&(window.scrollTo(0,s.scroll),sessionStorage.removeItem(w_))},30),console.log(`\u{1F50A} Listening to live content changes on port ${t.port}`);let e=location.protocol==="https:"?"wss:":"ws:",i=location.hostname,r=`${e}//${i}:${t.port}/socket`,n=new WebSocket(r);n.onmessage=s=>{let o=JSON.parse(s.data);if(o.type==="LOG"&&console.log(o.message),o.type==="RELOAD"){console.log("\u{1F680} Reloading window ..."),console.log(`\u{1F4CC} Keeping scroll for page at ${window.scrollY}`);let a=JSON.parse(sessionStorage.getItem(w_)||"{}");a.scroll=window.scrollY,sessionStorage.setItem(w_,JSON.stringify(a)),window.location.reload()}},n.onopen=()=>{t&&typeof t.onOpen=="function"&&t.onOpen()},n.onclose=()=>{console.log("MyST content server web socket closed. Reconnecting..."),setTimeout(()=>FT({...t,onOpen:()=>window.location.reload()}),1e3)},n.onerror=s=>{console.log("MyST content server web socket error:"),console.error(s)}}function b$({port:t}){return(0,jT.useEffect)(()=>{FT({port:t})},[]),null}var C_=["hierarchy.lvl1","hierarchy.lvl2","hierarchy.lvl3","hierarchy.lvl4","hierarchy.lvl5","hierarchy.lvl6","content"];var QW=H(be(),1),e8=H(pt(),1);var Iu=H(be(),1);function x$({title:t,titleId:e,...i},r){return Iu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Iu.createElement("title",{id:e},t):null,Iu.createElement("path",{fillRule:"evenodd",d:"M20.239 3.749a.75.75 0 0 0-.75.75V15H5.549l2.47-2.47a.75.75 0 0 0-1.06-1.06l-3.75 3.75a.75.75 0 0 0 0 1.06l3.75 3.75a.75.75 0 1 0 1.06-1.06L5.55 16.5h14.69a.75.75 0 0 0 .75-.75V4.5a.75.75 0 0 0-.75-.751Z",clipRule:"evenodd"}))}var y$=Iu.forwardRef(x$),Zy=y$;var Mu=H(be(),1);function w$({title:t,titleId:e,...i},r){return Mu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Mu.createElement("title",{id:e},t):null,Mu.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}var C$=Mu.forwardRef(w$),Qy=C$;var ku=H(be(),1);function S$({title:t,titleId:e,...i},r){return ku.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?ku.createElement("title",{id:e},t):null,ku.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}var E$=ku.forwardRef(S$),wm=E$;var Tu=H(be(),1);function I$({title:t,titleId:e,...i},r){return Tu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Tu.createElement("title",{id:e},t):null,Tu.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}var M$=Tu.forwardRef(I$),xa=M$;var Au=H(be(),1);function k$({title:t,titleId:e,...i},r){return Au.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Au.createElement("title",{id:e},t):null,Au.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}var T$=Au.forwardRef(k$),ew=T$;var Ru=H(be(),1);function A$({title:t,titleId:e,...i},r){return Ru.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Ru.createElement("title",{id:e},t):null,Ru.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}var R$=Ru.forwardRef(A$),tw=R$;var Lu=H(be(),1);function L$({title:t,titleId:e,...i},r){return Lu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Lu.createElement("title",{id:e},t):null,Lu.createElement("path",{fillRule:"evenodd",d:"M11.097 1.515a.75.75 0 0 1 .589.882L10.666 7.5h4.47l1.079-5.397a.75.75 0 1 1 1.47.294L16.665 7.5h3.585a.75.75 0 0 1 0 1.5h-3.885l-1.2 6h3.585a.75.75 0 0 1 0 1.5h-3.885l-1.08 5.397a.75.75 0 1 1-1.47-.294l1.02-5.103h-4.47l-1.08 5.397a.75.75 0 1 1-1.47-.294l1.02-5.103H3.75a.75.75 0 0 1 0-1.5h3.885l1.2-6H5.25a.75.75 0 0 1 0-1.5h3.885l1.08-5.397a.75.75 0 0 1 .882-.588ZM10.365 9l-1.2 6h4.47l1.2-6h-4.47Z",clipRule:"evenodd"}))}var N$=Lu.forwardRef(L$),iw=N$;var Nu=H(be(),1);function D$({title:t,titleId:e,...i},r){return Nu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Nu.createElement("title",{id:e},t):null,Nu.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}var O$=Nu.forwardRef(D$),S_=O$;var Du=H(be(),1);function z$({title:t,titleId:e,...i},r){return Du.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Du.createElement("title",{id:e},t):null,Du.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}var P$=Du.forwardRef(z$),Cm=P$;var Ou=H(be(),1);function B$({title:t,titleId:e,...i},r){return Ou.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Ou.createElement("title",{id:e},t):null,Ou.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}var H$=Ou.forwardRef(B$),rw=H$;var zu=H(be(),1);function j$({title:t,titleId:e,...i},r){return zu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?zu.createElement("title",{id:e},t):null,zu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var F$=zu.forwardRef(j$),nw=F$;var Pu=H(be(),1);function $$({title:t,titleId:e,...i},r){return Pu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Pu.createElement("title",{id:e},t):null,Pu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}var W$=Pu.forwardRef($$),ws=W$;var Bu=H(be(),1);function q$({title:t,titleId:e,...i},r){return Bu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Bu.createElement("title",{id:e},t):null,Bu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}var U$=Bu.forwardRef(q$),sw=U$;var Hu=H(be(),1);function V$({title:t,titleId:e,...i},r){return Hu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Hu.createElement("title",{id:e},t):null,Hu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}var G$=Hu.forwardRef(V$),ow=G$;var ju=H(be(),1);function Y$({title:t,titleId:e,...i},r){return ju.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?ju.createElement("title",{id:e},t):null,ju.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var X$=ju.forwardRef(Y$),aw=X$;var Fu=H(be(),1);function K$({title:t,titleId:e,...i},r){return Fu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Fu.createElement("title",{id:e},t):null,Fu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}var J$=Fu.forwardRef(K$),lw=J$;var $u=H(be(),1);function Z$({title:t,titleId:e,...i},r){return $u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?$u.createElement("title",{id:e},t):null,$u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}var Q$=$u.forwardRef(Z$),cw=Q$;var Wu=H(be(),1);function e4({title:t,titleId:e,...i},r){return Wu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Wu.createElement("title",{id:e},t):null,Wu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}var t4=Wu.forwardRef(e4),Sm=t4;var qu=H(be(),1);function i4({title:t,titleId:e,...i},r){return qu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?qu.createElement("title",{id:e},t):null,qu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}var r4=qu.forwardRef(i4),Lo=r4;var Uu=H(be(),1);function n4({title:t,titleId:e,...i},r){return Uu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Uu.createElement("title",{id:e},t):null,Uu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}var s4=Uu.forwardRef(n4),Em=s4;var Vu=H(be(),1);function o4({title:t,titleId:e,...i},r){return Vu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Vu.createElement("title",{id:e},t):null,Vu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}var a4=Vu.forwardRef(o4),Gu=a4;var Yu=H(be(),1);function l4({title:t,titleId:e,...i},r){return Yu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Yu.createElement("title",{id:e},t):null,Yu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}var c4=Yu.forwardRef(l4),dw=c4;var Xu=H(be(),1);function d4({title:t,titleId:e,...i},r){return Xu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Xu.createElement("title",{id:e},t):null,Xu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}var u4=Xu.forwardRef(d4),uw=u4;var Ku=H(be(),1);function h4({title:t,titleId:e,...i},r){return Ku.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Ku.createElement("title",{id:e},t):null,Ku.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}var f4=Ku.forwardRef(h4),hw=f4;var Ju=H(be(),1);function m4({title:t,titleId:e,...i},r){return Ju.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Ju.createElement("title",{id:e},t):null,Ju.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var p4=Ju.forwardRef(m4),fw=p4;var Zu=H(be(),1);function g4({title:t,titleId:e,...i},r){return Zu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Zu.createElement("title",{id:e},t):null,Zu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}var _4=Zu.forwardRef(g4),mw=_4;var jc=H(be(),1);function v4({title:t,titleId:e,...i},r){return jc.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?jc.createElement("title",{id:e},t):null,jc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),jc.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}var b4=jc.forwardRef(v4),pw=b4;var Qu=H(be(),1);function x4({title:t,titleId:e,...i},r){return Qu.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?Qu.createElement("title",{id:e},t):null,Qu.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}var y4=Qu.forwardRef(x4),gw=y4;var eh=H(be(),1);function w4({title:t,titleId:e,...i},r){return eh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},i),t?eh.createElement("title",{id:e},t):null,eh.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"}))}var C4=eh.forwardRef(w4),Im=C4;var Ot=H(be(),1);var Gc=H(pt(),1);var Qt=H(be(),1);function Gi(t,e,{checkForDefaultPrevented:i=!0}={}){return function(n){if(t?.(n),i===!1||!n.defaultPrevented)return e?.(n)}}var WT=H(be(),1);function $T(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _w(...t){return e=>{let i=!1,r=t.map(n=>{let s=$T(n,e);return!i&&typeof s=="function"&&(i=!0),s});if(i)return()=>{for(let n=0;n<r.length;n++){let s=r[n];typeof s=="function"?s():$T(t[n],null)}}}}function $r(...t){return WT.useCallback(_w(...t),t)}var Cs=H(be(),1),vw=H(Ce(),1);function qT(t,e){let i=Cs.createContext(e),r=s=>{let{children:o,...a}=s,l=Cs.useMemo(()=>a,Object.values(a));return(0,vw.jsx)(i.Provider,{value:l,children:o})};r.displayName=t+"Provider";function n(s){let o=Cs.useContext(i);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,n]}function th(t,e=[]){let i=[];function r(s,o){let a=Cs.createContext(o),l=i.length;i=[...i,o];let c=d=>{let{scope:f,children:h,...m}=d,p=f?.[t]?.[l]||a,_=Cs.useMemo(()=>m,Object.values(m));return(0,vw.jsx)(p.Provider,{value:_,children:h})};c.displayName=s+"Provider";function u(d,f){let h=f?.[t]?.[l]||a,m=Cs.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}let n=()=>{let s=i.map(o=>Cs.createContext(o));return function(a){let l=a?.[t]||s;return Cs.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return n.scopeName=t,[r,S4(n,...e)]}function S4(...t){let e=t[0];if(t.length===1)return e;let i=()=>{let r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){let o=r.reduce((a,{useScope:l,scopeName:c})=>{let d=l(s)[`__scope${c}`];return{...a,...d}},{});return Cs.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return i.scopeName=e.scopeName,i}var bw=H(be(),1);var UT=H(be(),1),Ss=Boolean(globalThis?.document)?UT.useLayoutEffect:()=>{};var E4=bw["useId".toString()]||(()=>{}),I4=0;function E_(t){let[e,i]=bw.useState(E4());return Ss(()=>{t||i(r=>r??String(I4++))},[t]),t||(e?`radix-${e}`:"")}var Dl=H(be(),1);var ih=H(be(),1);function $n(t){let e=ih.useRef(t);return ih.useEffect(()=>{e.current=t}),ih.useMemo(()=>(...i)=>e.current?.(...i),[])}function I_({prop:t,defaultProp:e,onChange:i=()=>{}}){let[r,n]=M4({defaultProp:e,onChange:i}),s=t!==void 0,o=s?t:r,a=$n(i),l=Dl.useCallback(c=>{if(s){let d=typeof c=="function"?c(t):c;d!==t&&a(d)}else n(c)},[s,t,n,a]);return[o,l]}function M4({defaultProp:t,onChange:e}){let i=Dl.useState(t),[r]=i,n=Dl.useRef(r),s=$n(e);return Dl.useEffect(()=>{n.current!==r&&(s(r),n.current=r)},[r,n,s]),i}var bi=H(be(),1);var VT=H(be(),1),GT=H(By(),1);var lr=H(be(),1);var rh=H(Ce(),1),Mm=lr.forwardRef((t,e)=>{let{children:i,...r}=t,n=lr.Children.toArray(i),s=n.find(T4);if(s){let o=s.props.children,a=n.map(l=>l===s?lr.Children.count(o)>1?lr.Children.only(null):lr.isValidElement(o)?o.props.children:null:l);return(0,rh.jsx)(xw,{...r,ref:e,children:lr.isValidElement(o)?lr.cloneElement(o,void 0,a):null})}return(0,rh.jsx)(xw,{...r,ref:e,children:i})});Mm.displayName="Slot";var xw=lr.forwardRef((t,e)=>{let{children:i,...r}=t;if(lr.isValidElement(i)){let n=R4(i),s=A4(r,i.props);return i.type!==lr.Fragment&&(s.ref=e?_w(e,n):n),lr.cloneElement(i,s)}return lr.Children.count(i)>1?lr.Children.only(null):null});xw.displayName="SlotClone";var k4=({children:t})=>(0,rh.jsx)(rh.Fragment,{children:t});function T4(t){return lr.isValidElement(t)&&t.type===k4}function A4(t,e){let i={...e};for(let r in e){let n=t[r],s=e[r];/^on[A-Z]/.test(r)?n&&s?i[r]=(...a)=>{s(...a),n(...a)}:n&&(i[r]=n):r==="style"?i[r]={...n,...s}:r==="className"&&(i[r]=[n,s].filter(Boolean).join(" "))}return{...t,...i}}function R4(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var YT=H(Ce(),1),L4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Mi=L4.reduce((t,e)=>{let i=VT.forwardRef((r,n)=>{let{asChild:s,...o}=r,a=s?Mm:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,YT.jsx)(a,{...o,ref:n})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function XT(t,e){t&&GT.flushSync(()=>t.dispatchEvent(e))}var KT=H(be(),1);function JT(t,e=globalThis?.document){let i=$n(t);KT.useEffect(()=>{let r=n=>{n.key==="Escape"&&i(n)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[i,e])}var ww=H(Ce(),1),N4="DismissableLayer",yw="dismissableLayer.update",D4="dismissableLayer.pointerDownOutside",O4="dismissableLayer.focusOutside",ZT,eA=bi.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),km=bi.forwardRef((t,e)=>{let{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=bi.useContext(eA),[u,d]=bi.useState(null),f=u?.ownerDocument??globalThis?.document,[,h]=bi.useState({}),m=$r(e,I=>d(I)),p=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(_),y=u?p.indexOf(u):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,k=y>=x,M=B4(I=>{let E=I.target,T=[...c.branches].some(R=>R.contains(E));!k||T||(n?.(I),o?.(I),I.defaultPrevented||a?.())},f),v=H4(I=>{let E=I.target;[...c.branches].some(R=>R.contains(E))||(s?.(I),o?.(I),I.defaultPrevented||a?.())},f);return JT(I=>{y===c.layers.size-1&&(r?.(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),bi.useEffect(()=>{if(u)return i&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ZT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),QT(),()=>{i&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ZT)}},[u,f,i,c]),bi.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),QT())},[u,c]),bi.useEffect(()=>{let I=()=>h({});return document.addEventListener(yw,I),()=>document.removeEventListener(yw,I)},[]),(0,ww.jsx)(Mi.div,{...l,ref:m,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:Gi(t.onFocusCapture,v.onFocusCapture),onBlurCapture:Gi(t.onBlurCapture,v.onBlurCapture),onPointerDownCapture:Gi(t.onPointerDownCapture,M.onPointerDownCapture)})});km.displayName=N4;var z4="DismissableLayerBranch",P4=bi.forwardRef((t,e)=>{let i=bi.useContext(eA),r=bi.useRef(null),n=$r(e,r);return bi.useEffect(()=>{let s=r.current;if(s)return i.branches.add(s),()=>{i.branches.delete(s)}},[i.branches]),(0,ww.jsx)(Mi.div,{...t,ref:n})});P4.displayName=z4;function B4(t,e=globalThis?.document){let i=$n(t),r=bi.useRef(!1),n=bi.useRef(()=>{});return bi.useEffect(()=>{let s=a=>{if(a.target&&!r.current){let c=function(){tA(D4,i,u,{discrete:!0})};var l=c;let u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=c,e.addEventListener("click",n.current,{once:!0})):c()}else e.removeEventListener("click",n.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",n.current)}},[e,i]),{onPointerDownCapture:()=>r.current=!0}}function H4(t,e=globalThis?.document){let i=$n(t),r=bi.useRef(!1);return bi.useEffect(()=>{let n=s=>{s.target&&!r.current&&tA(O4,i,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,i]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QT(){let t=new CustomEvent(yw);document.dispatchEvent(t)}function tA(t,e,i,{discrete:r}){let n=i.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});e&&n.addEventListener(t,e,{once:!0}),r?XT(n,s):n.dispatchEvent(s)}var Es=H(be(),1);var oA=H(Ce(),1),Cw="focusScope.autoFocusOnMount",Sw="focusScope.autoFocusOnUnmount",iA={bubbles:!1,cancelable:!0},j4="FocusScope",Ew=Es.forwardRef((t,e)=>{let{loop:i=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...o}=t,[a,l]=Es.useState(null),c=$n(n),u=$n(s),d=Es.useRef(null),f=$r(e,p=>l(p)),h=Es.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Es.useEffect(()=>{if(r){let y=function(v){if(h.paused||!a)return;let I=v.target;a.contains(I)?d.current=I:Ol(d.current,{select:!0})},C=function(v){if(h.paused||!a)return;let I=v.relatedTarget;I!==null&&(a.contains(I)||Ol(d.current,{select:!0}))},k=function(v){if(document.activeElement===document.body)for(let E of v)E.removedNodes.length>0&&Ol(a)};var p=y,_=C,x=k;document.addEventListener("focusin",y),document.addEventListener("focusout",C);let M=new MutationObserver(k);return a&&M.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",C),M.disconnect()}}},[r,a,h.paused]),Es.useEffect(()=>{if(a){nA.add(h);let p=document.activeElement;if(!a.contains(p)){let x=new CustomEvent(Cw,iA);a.addEventListener(Cw,c),a.dispatchEvent(x),x.defaultPrevented||(F4(V4(aA(a)),{select:!0}),document.activeElement===p&&Ol(a))}return()=>{a.removeEventListener(Cw,c),setTimeout(()=>{let x=new CustomEvent(Sw,iA);a.addEventListener(Sw,u),a.dispatchEvent(x),x.defaultPrevented||Ol(p??document.body,{select:!0}),a.removeEventListener(Sw,u),nA.remove(h)},0)}}},[a,c,u,h]);let m=Es.useCallback(p=>{if(!i&&!r||h.paused)return;let _=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(_&&x){let y=p.currentTarget,[C,k]=$4(y);C&&k?!p.shiftKey&&x===k?(p.preventDefault(),i&&Ol(C,{select:!0})):p.shiftKey&&x===C&&(p.preventDefault(),i&&Ol(k,{select:!0})):x===y&&p.preventDefault()}},[i,r,h.paused]);return(0,oA.jsx)(Mi.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});Ew.displayName=j4;function F4(t,{select:e=!1}={}){let i=document.activeElement;for(let r of t)if(Ol(r,{select:e}),document.activeElement!==i)return}function $4(t){let e=aA(t),i=rA(e,t),r=rA(e.reverse(),t);return[i,r]}function aA(t){let e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{let n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)e.push(i.currentNode);return e}function rA(t,e){for(let i of t)if(!W4(i,{upTo:e}))return i}function W4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function q4(t){return t instanceof HTMLInputElement&&"select"in t}function Ol(t,{select:e=!1}={}){if(t&&t.focus){let i=document.activeElement;t.focus({preventScroll:!0}),t!==i&&q4(t)&&e&&t.select()}}var nA=U4();function U4(){let t=[];return{add(e){let i=t[0];e!==i&&i?.pause(),t=sA(t,e),t.unshift(e)},remove(e){t=sA(t,e),t[0]?.resume()}}}function sA(t,e){let i=[...t],r=i.indexOf(e);return r!==-1&&i.splice(r,1),i}function V4(t){return t.filter(e=>e.tagName!=="A")}var M_=H(be(),1),lA=H(By(),1);var cA=H(Ce(),1),G4="Portal",Tm=M_.forwardRef((t,e)=>{let{container:i,...r}=t,[n,s]=M_.useState(!1);Ss(()=>s(!0),[]);let o=i||n&&globalThis?.document?.body;return o?lA.default.createPortal((0,cA.jsx)(Mi.div,{...r,ref:e}),o):null});Tm.displayName=G4;var Sn=H(be(),1);var dA=H(be(),1);function Y4(t,e){return dA.useReducer((i,r)=>e[i][r]??i,t)}var zl=t=>{let{present:e,children:i}=t,r=X4(e),n=typeof i=="function"?i({present:r.isPresent}):Sn.Children.only(i),s=$r(r.ref,K4(n));return typeof i=="function"||r.isPresent?Sn.cloneElement(n,{ref:s}):null};zl.displayName="Presence";function X4(t){let[e,i]=Sn.useState(),r=Sn.useRef({}),n=Sn.useRef(t),s=Sn.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Y4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Sn.useEffect(()=>{let c=k_(r.current);s.current=a==="mounted"?c:"none"},[a]),Ss(()=>{let c=r.current,u=n.current;if(u!==t){let f=s.current,h=k_(c);t?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,l]),Ss(()=>{if(e){let c,u=e.ownerDocument.defaultView??window,d=h=>{let p=k_(r.current).includes(h.animationName);if(h.target===e&&p&&(l("ANIMATION_END"),!n.current)){let _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=h=>{h.target===e&&(s.current=k_(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Sn.useCallback(c=>{c&&(r.current=getComputedStyle(c)),i(c)},[])}}function k_(t){return t?.animationName||"none"}function K4(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var hA=H(be(),1),Iw=0;function fA(){hA.useEffect(()=>{let t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uA()),document.body.insertAdjacentElement("beforeend",t[1]??uA()),Iw++,()=>{Iw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Iw--}},[])}function uA(){let t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}Ii();var N_=H(be());Ii();var Wr=H(be());var Fc="right-scroll-bar-position",$c="width-before-scroll-bar",Mw="with-scroll-bars-hidden",kw="--removed-body-scroll-bar-size";function T_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}var mA=H(be());function pA(t,e){var i=(0,mA.useState)(function(){return{value:t,callback:e,facade:{get current(){return i.value},set current(r){var n=i.value;n!==r&&(i.value=r,i.callback(r,n))}}}})[0];return i.callback=e,i.facade}var A_=H(be());var J4=typeof window<"u"?A_.useLayoutEffect:A_.useEffect,gA=new WeakMap;function Tw(t,e){var i=pA(e||null,function(r){return t.forEach(function(n){return T_(n,r)})});return J4(function(){var r=gA.get(i);if(r){var n=new Set(r),s=new Set(t),o=i.current;n.forEach(function(a){s.has(a)||T_(a,null)}),s.forEach(function(a){n.has(a)||T_(a,o)})}gA.set(i,t)},[t]),i}Ii();function Z4(t){return t}function Q4(t,e){e===void 0&&(e=Z4);var i=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:t},useMedium:function(s){var o=e(s,r);return i.push(o),function(){i=i.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;i.length;){var o=i;i=[],o.forEach(s)}i={push:function(a){return s(a)},filter:function(){return i}}},assignMedium:function(s){r=!0;var o=[];if(i.length){var a=i;i=[],a.forEach(s),o=i}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),i={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),i}}}};return n}function Aw(t){t===void 0&&(t={});var e=Q4(null);return e.options=ms({async:!0,ssr:!1},t),e}Ii();var _A=H(be()),vA=function(t){var e=t.sideCar,i=Cu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _A.createElement(r,ms({},i))};vA.isSideCarExport=!0;function Rw(t,e){return t.useMedium(e),vA}var R_=Aw();var Lw=function(){},Am=Wr.forwardRef(function(t,e){var i=Wr.useRef(null),r=Wr.useState({onScrollCapture:Lw,onWheelCapture:Lw,onTouchMoveCapture:Lw}),n=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,m=t.inert,p=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,y=t.gapMode,C=Cu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,M=Tw([i,e]),v=ms(ms({},C),n);return Wr.createElement(Wr.Fragment,null,u&&Wr.createElement(k,{sideCar:R_,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!p,lockRef:i,gapMode:y}),o?Wr.cloneElement(Wr.Children.only(a),ms(ms({},v),{ref:M})):Wr.createElement(x,ms({},v,{className:l,ref:M}),a))});Am.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Am.classNames={fullWidth:$c,zeroRight:Fc};Ii();var si=H(be());var sh=H(be());var yA=H(be());var bA;var xA=function(){if(bA)return bA;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xA();return e&&t.setAttribute("nonce",e),t}function tW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Nw=function(){var t=0,e=null;return{add:function(i){t==0&&(e=eW())&&(tW(e,i),iW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}};var Dw=function(){var t=Nw();return function(e,i){yA.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&i])}};var Rm=function(){var t=Dw(),e=function(i){var r=i.styles,n=i.dynamic;return t(r,n),null};return e};var rW={left:0,top:0,right:0,gap:0},Ow=function(t){return parseInt(t||"",10)||0},nW=function(t){var e=window.getComputedStyle(document.body),i=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],n=e[t==="padding"?"paddingRight":"marginRight"];return[Ow(i),Ow(r),Ow(n)]},zw=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rW;var e=nW(t),i=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-i+e[2]-e[0])}};var sW=Rm(),nh="data-scroll-locked",oW=function(t,e,i,r){var n=t.left,s=t.top,o=t.right,a=t.gap;return i===void 0&&(i="margin"),`
  .`.concat(Mw,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(nh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),i==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),i==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($c,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($c," .").concat($c,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nh,`] {
    `).concat(kw,": ").concat(a,`px;
  }
`)},wA=function(){var t=parseInt(document.body.getAttribute(nh)||"0",10);return isFinite(t)?t:0},aW=function(){sh.useEffect(function(){return document.body.setAttribute(nh,(wA()+1).toString()),function(){var t=wA()-1;t<=0?document.body.removeAttribute(nh):document.body.setAttribute(nh,t.toString())}},[])},Pw=function(t){var e=t.noRelative,i=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;aW();var s=sh.useMemo(function(){return zw(n)},[n]);return sh.createElement(sW,{styles:oW(s,!e,n,i?"":"!important")})};var Bw=!1;if(typeof window<"u")try{Lm=Object.defineProperty({},"passive",{get:function(){return Bw=!0,!0}}),window.addEventListener("test",Lm,Lm),window.removeEventListener("test",Lm,Lm)}catch{Bw=!1}var Lm,Wc=Bw?{passive:!1}:!1;var lW=function(t){return t.tagName==="TEXTAREA"},CA=function(t,e){if(!(t instanceof Element))return!1;var i=window.getComputedStyle(t);return i[e]!=="hidden"&&!(i.overflowY===i.overflowX&&!lW(t)&&i[e]==="visible")},cW=function(t){return CA(t,"overflowY")},dW=function(t){return CA(t,"overflowX")},Hw=function(t,e){var i=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=SA(t,r);if(n){var s=EA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==i.body);return!1},uW=function(t){var e=t.scrollTop,i=t.scrollHeight,r=t.clientHeight;return[e,i,r]},hW=function(t){var e=t.scrollLeft,i=t.scrollWidth,r=t.clientWidth;return[e,i,r]},SA=function(t,e){return t==="v"?cW(e):dW(e)},EA=function(t,e){return t==="v"?uW(e):hW(e)},fW=function(t,e){return t==="h"&&e==="rtl"?-1:1},IA=function(t,e,i,r,n){var s=fW(t,window.getComputedStyle(e).direction),o=s*r,a=i.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=EA(t,a),m=h[0],p=h[1],_=h[2],x=p-_-s*m;(m||x)&&SA(t,a)&&(d+=x,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(n&&Math.abs(d)<1||!n&&o>d)||!u&&(n&&Math.abs(f)<1||!n&&-o>f))&&(c=!0),c};var L_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MA=function(t){return[t.deltaX,t.deltaY]},kA=function(t){return t&&"current"in t?t.current:t},mW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gW=0,oh=[];function TA(t){var e=si.useRef([]),i=si.useRef([0,0]),r=si.useRef(),n=si.useState(gW++)[0],s=si.useState(Rm)[0],o=si.useRef(t);si.useEffect(function(){o.current=t},[t]),si.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var p=Kk([t.lockRef.current],(t.shards||[]).map(kA),!0).filter(Boolean);return p.forEach(function(_){return _.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),p.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var a=si.useCallback(function(p,_){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=L_(p),y=i.current,C="deltaX"in p?p.deltaX:y[0]-x[0],k="deltaY"in p?p.deltaY:y[1]-x[1],M,v=p.target,I=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in p&&I==="h"&&v.type==="range")return!1;var E=Hw(I,v);if(!E)return!0;if(E?M=I:(M=I==="v"?"h":"v",E=Hw(I,v)),!E)return!1;if(!r.current&&"changedTouches"in p&&(C||k)&&(r.current=M),!M)return!0;var T=r.current||M;return IA(T,_,p,T==="h"?C:k,!0)},[]),l=si.useCallback(function(p){var _=p;if(!(!oh.length||oh[oh.length-1]!==s)){var x="deltaY"in _?MA(_):L_(_),y=e.current.filter(function(M){return M.name===_.type&&(M.target===_.target||_.target===M.shadowParent)&&mW(M.delta,x)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var C=(o.current.shards||[]).map(kA).filter(Boolean).filter(function(M){return M.contains(_.target)}),k=C.length>0?a(_,C[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),c=si.useCallback(function(p,_,x,y){var C={name:p,delta:_,target:x,should:y,shadowParent:_W(x)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(k){return k!==C})},1)},[]),u=si.useCallback(function(p){i.current=L_(p),r.current=void 0},[]),d=si.useCallback(function(p){c(p.type,MA(p),p.target,a(p,t.lockRef.current))},[]),f=si.useCallback(function(p){c(p.type,L_(p),p.target,a(p,t.lockRef.current))},[]);si.useEffect(function(){return oh.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Wc),document.addEventListener("touchmove",l,Wc),document.addEventListener("touchstart",u,Wc),function(){oh=oh.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Wc),document.removeEventListener("touchmove",l,Wc),document.removeEventListener("touchstart",u,Wc)}},[]);var h=t.removeScrollBar,m=t.inert;return si.createElement(si.Fragment,null,m?si.createElement(s,{styles:pW(n)}):null,h?si.createElement(Pw,{gapMode:t.gapMode}):null)}function _W(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}var AA=Rw(R_,TA);var RA=N_.forwardRef(function(t,e){return N_.createElement(Am,ms({},t,{ref:e,sideCar:AA}))});RA.classNames=Am.classNames;var jw=RA;var vW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ah=new WeakMap,D_=new WeakMap,O_={},Fw=0,LA=function(t){return t&&(t.host||LA(t.parentNode))},bW=function(t,e){return e.map(function(i){if(t.contains(i))return i;var r=LA(i);return r&&t.contains(r)?r:(console.error("aria-hidden",i,"in not contained inside",t,". Doing nothing"),null)}).filter(function(i){return Boolean(i)})},xW=function(t,e,i,r){var n=bW(e,Array.isArray(t)?t:[t]);O_[i]||(O_[i]=new WeakMap);var s=O_[i],o=[],a=new Set,l=new Set(n),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};n.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",p=(ah.get(f)||0)+1,_=(s.get(f)||0)+1;ah.set(f,p),s.set(f,_),o.push(f),p===1&&m&&D_.set(f,!0),_===1&&f.setAttribute(i,"true"),m||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),a.clear(),Fw++,function(){o.forEach(function(d){var f=ah.get(d)-1,h=s.get(d)-1;ah.set(d,f),s.set(d,h),f||(D_.has(d)||d.removeAttribute(r),D_.delete(d)),h||d.removeAttribute(i)}),Fw--,Fw||(ah=new WeakMap,ah=new WeakMap,D_=new WeakMap,O_={})}},NA=function(t,e,i){i===void 0&&(i="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=e||vW(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live]"))),xW(r,n,i,"aria-hidden")):function(){return null}};var Gt=H(Ce(),1),$w="Dialog",[DA,Fre]=th($w),[yW,Zs]=DA($w),OA=t=>{let{__scopeDialog:e,children:i,open:r,defaultOpen:n,onOpenChange:s,modal:o=!0}=t,a=Qt.useRef(null),l=Qt.useRef(null),[c=!1,u]=I_({prop:r,defaultProp:n,onChange:s});return(0,Gt.jsx)(yW,{scope:e,triggerRef:a,contentRef:l,contentId:E_(),titleId:E_(),descriptionId:E_(),open:c,onOpenChange:u,onOpenToggle:Qt.useCallback(()=>u(d=>!d),[u]),modal:o,children:i})};OA.displayName=$w;var zA="DialogTrigger",PA=Qt.forwardRef((t,e)=>{let{__scopeDialog:i,...r}=t,n=Zs(zA,i),s=$r(e,n.triggerRef);return(0,Gt.jsx)(Mi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Uw(n.open),...r,ref:s,onClick:Gi(t.onClick,n.onOpenToggle)})});PA.displayName=zA;var Ww="DialogPortal",[wW,BA]=DA(Ww,{forceMount:void 0}),HA=t=>{let{__scopeDialog:e,forceMount:i,children:r,container:n}=t,s=Zs(Ww,e);return(0,Gt.jsx)(wW,{scope:e,forceMount:i,children:Qt.Children.map(r,o=>(0,Gt.jsx)(zl,{present:i||s.open,children:(0,Gt.jsx)(Tm,{asChild:!0,container:n,children:o})}))})};HA.displayName=Ww;var z_="DialogOverlay",jA=Qt.forwardRef((t,e)=>{let i=BA(z_,t.__scopeDialog),{forceMount:r=i.forceMount,...n}=t,s=Zs(z_,t.__scopeDialog);return s.modal?(0,Gt.jsx)(zl,{present:r||s.open,children:(0,Gt.jsx)(CW,{...n,ref:e})}):null});jA.displayName=z_;var CW=Qt.forwardRef((t,e)=>{let{__scopeDialog:i,...r}=t,n=Zs(z_,i);return(0,Gt.jsx)(jw,{as:Mm,allowPinchZoom:!0,shards:[n.contentRef],children:(0,Gt.jsx)(Mi.div,{"data-state":Uw(n.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qc="DialogContent",FA=Qt.forwardRef((t,e)=>{let i=BA(qc,t.__scopeDialog),{forceMount:r=i.forceMount,...n}=t,s=Zs(qc,t.__scopeDialog);return(0,Gt.jsx)(zl,{present:r||s.open,children:s.modal?(0,Gt.jsx)(SW,{...n,ref:e}):(0,Gt.jsx)(EW,{...n,ref:e})})});FA.displayName=qc;var SW=Qt.forwardRef((t,e)=>{let i=Zs(qc,t.__scopeDialog),r=Qt.useRef(null),n=$r(e,i.contentRef,r);return Qt.useEffect(()=>{let s=r.current;if(s)return NA(s)},[]),(0,Gt.jsx)($A,{...t,ref:n,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gi(t.onCloseAutoFocus,s=>{s.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:Gi(t.onPointerDownOutside,s=>{let o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Gi(t.onFocusOutside,s=>s.preventDefault())})}),EW=Qt.forwardRef((t,e)=>{let i=Zs(qc,t.__scopeDialog),r=Qt.useRef(!1),n=Qt.useRef(!1);return(0,Gt.jsx)($A,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||i.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));let o=s.target;i.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),$A=Qt.forwardRef((t,e)=>{let{__scopeDialog:i,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:s,...o}=t,a=Zs(qc,i),l=Qt.useRef(null),c=$r(e,l);return fA(),(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(Ew,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:s,children:(0,Gt.jsx)(km,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Uw(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(IW,{titleId:a.titleId}),(0,Gt.jsx)(kW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),qw="DialogTitle",WA=Qt.forwardRef((t,e)=>{let{__scopeDialog:i,...r}=t,n=Zs(qw,i);return(0,Gt.jsx)(Mi.h2,{id:n.titleId,...r,ref:e})});WA.displayName=qw;var qA="DialogDescription",UA=Qt.forwardRef((t,e)=>{let{__scopeDialog:i,...r}=t,n=Zs(qA,i);return(0,Gt.jsx)(Mi.p,{id:n.descriptionId,...r,ref:e})});UA.displayName=qA;var VA="DialogClose",GA=Qt.forwardRef((t,e)=>{let{__scopeDialog:i,...r}=t,n=Zs(VA,i);return(0,Gt.jsx)(Mi.button,{type:"button",...r,ref:e,onClick:Gi(t.onClick,()=>n.onOpenChange(!1))})});GA.displayName=VA;function Uw(t){return t?"open":"closed"}var YA="DialogTitleWarning",[$re,XA]=qT(YA,{contentName:qc,titleName:qw,docsSlug:"dialog"}),IW=({titleId:t})=>{let e=XA(YA),i=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return Qt.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},MW="DialogDescriptionWarning",kW=({contentRef:t,descriptionId:e})=>{let r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XA(MW).contentName}}.`;return Qt.useEffect(()=>{let n=t.current?.getAttribute("aria-describedby");e&&n&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},KA=OA,JA=PA,ZA=HA,QA=jA,eR=FA,tR=WA,iR=UA,rR=GA;var nR=H(be(),1);var sR=H(Ce(),1),AW="VisuallyHidden",oR=nR.forwardRef((t,e)=>(0,sR.jsx)(Mi.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));oR.displayName=AW;var Vw=oR;var Uc=/[\n\r\p{Z}\p{P}]+/gu;function P_(t,e){return e.split(".").reduce((i,r)=>i&&i[r],t)}var LW=["content"],NW=new Map([["lvl1",90],["lvl2",80],["lvl3",70],["lvl4",60],["lvl5",50],["lvl6",40],["content",0]]);function Vc(t,e){return t<e?-1:t>e?1:0}function B_(t){return new RegExp(`(?:(?:${Uc.source})|^)${t}(?:(?:${Uc.source})|$)`,`${Uc.flags}i`)}function DW(t,e,i,r){let n=r;for(let[s,o]of Object.entries(e.matches)){let a=B_(s);for(let l of o){let c=P_(t,l);for(let[u,d]of Object.entries(i.matches)){let f=B_(u);for(let h of d){if(l!==h)continue;let m=c.matchAll(a),p=c.matchAll(f);for(let _ of m)for(let x of p){let[y,C]=_.index<x.index?[_.index,x.index]:[x.index,_.index],k=Array.from(c.slice(y,C).matchAll(Uc)).length;if(k===1)return 1;k<n&&(n=k)}}}}}return n}function OW(t,e){let{queries:i}=t,r=0;for(let n=0;n<i.length-1;n++){let s=i[n],o=i[n+1];r+=DW(t,s,o,e)}return Math.min(r,e)}function zW(t){let e=new Map;t.queries.forEach(n=>{Object.entries(n.matches).forEach(([s,o])=>{o.forEach(a=>{let l=e.get(a);l||(l=[],e.set(a,l)),l.push(s)})})});let i=C_.find(n=>e.has(n)),r;if(LW.includes(i)){let n=e.get(i),s=P_(t,i),o=n.flatMap(a=>Array.from(s.matchAll(B_(a)))).map(a=>a.index);r=Math.min(...o)}else r=void 0;return{attribute:i,position:r}}function PW(t){let e=t.queries.flatMap(r=>Object.entries(r.matches).flatMap(([n,s])=>{let o=B_(n);return s.flatMap(a=>{let l=P_(t,a);return Array.from(l.matchAll(o)).map(c=>c?r.term:void 0)})}).filter(n=>n));return new Set(e).size}function BW(t){return t.queries.map(e=>Object.keys(e.matches).filter(r=>r!==e.term).length).reduce((e,i)=>e+i)}function HW(t){return{...t,ranking:{typos:BW(t),...zW(t),proximity:OW(t,8),exact:PW(t),level:NW.get(t.type),appearance:t.position}}}function jW(t,e){let i=t.ranking,r=e.ranking;if(i.typos!==r.typos)return Vc(i.typos,r.typos);if(i.attribute!==r.attribute){let n=C_.findIndex(o=>o===i.attribute),s=C_.findIndex(o=>o===r.attribute);return Vc(n,s)}return i.position!=null&&r.position!=null&&i.position!==r.position?Vc(i.position,r.position):i.proximity!==r.proximity?Vc(i.proximity,r.proximity):i.exact!==r.exact?Vc(r.exact,i.exact):i.level!==r.level?Vc(r.level,i.level):i.appearance!==r.appearance?Vc(i.appearance,r.appearance):0}function aR(t){return t.map(HW).sort(jW)}var rt=H(Ce(),1);function FW(t,e){let i=[],r;for(;r=e.exec(t);)i.push(r);return i}function lR({text:t,matches:e,limit:i,className:r}){let n=FW(t,Uc),s=[],o=0;for(let h of n)s.push(t.slice(o,h.index)),s.push(h[0]),o=h.index+h[0].length;s.push(t.slice(o));let a=e.join("|"),l=new RegExp(`^(${a})`,"i"),c=h=>l.test(h)?(0,rt.jsx)(rt.Fragment,{children:(0,rt.jsx)("mark",{className:"text-blue-600 bg-inherit dark:text-blue-400 group-aria-selected:text-white group-aria-selected:underline",children:h})}):h,u,d,f=i!==void 0;if(!f)u=0,d=s.length;else{u=s.findIndex(m=>l.test(m));let h=0;for(d=u+1;d<s.length-1&&h+s[d].length<=i;d++)h+=s[d].length}if(s.length===0)return(0,rt.jsxs)("span",{className:r,children:[...s]});{let h=c(s[u]),p=s.slice(u+1,d).map(_=>c(_));return(0,rt.jsxs)("span",{className:(0,Gc.default)(r,{"before:content-['..._']":f,"after:content-['_...']":f},"truncate","w-full"),children:[h,...p]})}}function cR(){if(!(typeof window>"u"))return/mac/i.test(window.navigator.userAgentData?.platform??window.navigator.userAgent)}var $W=`
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()`;function WW(){return(0,rt.jsx)("script",{dangerouslySetInnerHTML:{__html:$W}})}function qW(){let t=cR();return(0,rt.jsxs)("div",{"aria-hidden":!0,className:"items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1",children:[(0,rt.jsx)("kbd",{className:(0,Gc.default)("px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md","shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none","hide-mac",{hidden:t===!0},{block:t===!1}),children:"CTRL"}),(0,rt.jsx)("kbd",{className:(0,Gc.default)("px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md","shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none","show-mac",{hidden:t===!1},{block:t===!0}),children:"\u2318"}),(0,rt.jsx)("kbd",{className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ",children:"K"}),(0,rt.jsx)(WW,{})]})}function UW({result:t,closeSearch:e,charLimit:i}){let{hierarchy:r,type:n,url:s,queries:o}=t,a=Fr(),l=ys(),c=(0,Ot.useMemo)(()=>({className:"inline-block w-6 mx-2 shrink-0"}),[]),u=(0,Ot.createElement)(n==="lvl1"?Sm:n==="content"?Qy:iw,c),d=t.type==="content"?t.content:r[n],f=(0,Ot.useMemo)(()=>o.flatMap(_=>Object.keys(_.matches)),[o]),h=(0,rt.jsx)(lR,{text:d,matches:f,limit:n==="content"?i:void 0,className:"text-sm"}),m;if(t.type==="lvl1")m=void 0;else{let _=t.hierarchy.lvl1;m=(0,rt.jsx)(lR,{text:_,matches:f,className:"text-xs"})}let p=(0,rt.jsx)(Zy,{className:"invisible w-6 mx-2 group-aria-selected:visible"});return(0,rt.jsx)(l,{className:"block px-1 py-2 text-gray-700 rounded shadow-md dark:text-white group-aria-selected:bg-blue-600 group-aria-selected:text-white dark:shadow-none dark:bg-stone-800",to:ar(s,a),onClick:e,children:(0,rt.jsxs)("div",{className:"flex flex-row h-11",children:[u,(0,rt.jsxs)("div",{className:"flex flex-col justify-center truncate grow",children:[h,m]}),p]})})}function VW({searchResults:t,searchListID:e,searchLabelID:i,charLimit:r,className:n,selectedIndex:s,onHoverSelect:o,closeSearch:a}){let l=(0,Ot.useRef)([]),c=(0,Ot.useCallback)(f=>{if(!f)return;let h=parseInt(f.dataset.index);l.current[h]=f},[l]),u=(0,Ot.useMemo)(()=>{let f=l.current[s];return f?f.id:""},[s,l]);(0,Ot.useEffect)(()=>{l.current[s]?.scrollIntoView({block:"nearest"})},[s]);let d=(0,Ot.useCallback)(f=>{let h=parseInt(f.currentTarget.dataset.index);o(h)},[o]);return(0,rt.jsx)("div",{className:"mt-4 overflow-y-scroll",children:t.length?(0,rt.jsx)("ul",{role:"listbox",id:e,"aria-label":"Search results","aria-labelledby":i,"aria-orientation":"vertical","aria-activedescendant":u,className:(0,Gc.default)("flex flex-col gap-y-2 px-1",n),children:t.map((f,h)=>(0,rt.jsx)("li",{ref:c,"data-index":h,role:"option","aria-selected":s===h,className:"group",onMouseMove:d,children:(0,rt.jsx)(UW,{result:f,closeSearch:a,charLimit:r})},f.id))}):(0,rt.jsx)("span",{children:"No results found."})})}function GW(){let t=Fr(),e=$k(),[i,r]=(0,Ot.useState)(!0);(0,Ot.useEffect)(()=>{if(e.state==="idle"&&e.data==null){let o=ar("/myst.search.json",t);e.load(o)}},[e,t]);let n=CT();return{search:(0,Ot.useMemo)(()=>{if(!(!e.data||!n)){if(e.data?.version&&e.data?.records)return n(e.data);r(!1);return}},[n,e.data,r]),enabled:i}}function YW({debounceTime:t,searchResults:e,setSearchResults:i,searchInputID:r,searchListID:n,searchLabelID:s,selectedIndex:o,setSelectedIndex:a,closeSearch:l}){let[c,u]=(0,Ot.useState)(""),{search:d,enabled:f}=GW();(0,Ot.useEffect)(()=>{let y=setTimeout(()=>{c!=null&&d&&d(c).then(C=>{i(C&&aR(C).filter((k,M,v)=>k.url!==v[M-1]?.url))})},t);return()=>clearTimeout(y)},[d,c,t]);let h=(0,Ot.useCallback)(y=>{u(y.target.value)},[]),m=gT(),p=Fr(),_=(0,Ot.useCallback)(y=>{if(!(y.ctrlKey||y.altKey||y.shiftKey)&&e)if(y.key==="Enter"){y.preventDefault();let C=e[o]?.url;C&&(m(ar(C,p)),l?.())}else(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),y.key==="ArrowUp"?a(o>0?o-1:0):a(o<e.length-1?o+1:e.length-1))},[e,o]),x=(0,Ot.useCallback)(y=>{y.preventDefault()},[]);return(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("form",{onSubmit:x,children:(0,rt.jsxs)("div",{className:"relative flex w-full h-10 flow-row gap-x-1 ",children:[(0,rt.jsx)("label",{id:n,htmlFor:r,children:(0,rt.jsx)(S_,{className:"absolute text-gray-400 inset-y-0 start-0 h-10 w-10 p-2.5 aspect-square flex items-center pointer-events-none"})}),(0,rt.jsx)("input",{autoComplete:"off",spellCheck:"false",disabled:!f,autoCapitalize:"false",className:(0,Gc.default)("block flex-grow p-2 ps-10 placeholder-gray-400","border border-gray-300 dark:border-gray-600","rounded-lg bg-gray-50 dark:bg-gray-700","focus:ring-blue-500 dark:focus:ring-blue-500","focus:border-blue-500 dark:focus:border-blue-500","dark:placeholder-gray-400",{"border-red-500":!f}),id:r,"aria-labelledby":s,"aria-controls":n,placeholder:"Search",type:"search",required:!0,onChange:h,onKeyDown:_}),(0,rt.jsx)(rR,{asChild:!0,className:"block grow-0 sm:hidden",children:(0,rt.jsx)("button",{"aria-label":"Close",children:(0,rt.jsx)(Cm,{className:"flex items-center w-10 h-10 aspect-square"})})})]})}),!f&&(0,rt.jsx)("div",{className:"mx-2 mt-4 text-sm text-gray-500",children:"Search is not enabled for this site. :("})]})}var XW=(0,Ot.forwardRef)(({className:t,disabled:e,...i},r)=>(0,rt.jsxs)("button",{...i,className:(0,Gc.default)(t,"flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400","border border-gray-300 dark:border-gray-600","rounded-lg bg-gray-50 dark:bg-gray-700",{"hover:ring-blue-500":!e,"dark:hover:ring-blue-500":!e,"hover:border-blue-500":!e,"dark:hover:border-blue-500":!e}),disabled:!!e,ref:r,children:[(0,rt.jsx)(S_,{className:"p-2.5 h-10 w-10 aspect-square"}),(0,rt.jsx)("span",{className:"hidden sm:block grow",children:"Search"}),(0,rt.jsx)(qW,{})]}));function Qre({debounceTime:t=500,charLimit:e=64}){let[i,r]=(0,Ot.useState)(!1),[n,s]=(0,Ot.useState)(),[o,a]=(0,Ot.useState)(0),l=xm();(0,Ot.useEffect)(()=>{i||(s(void 0),a(0))},[i]);let c=(0,Ot.useCallback)(d=>{d.key==="k"&&(cR()?d.metaKey:d.ctrlKey)&&(r(!0),d.preventDefault())},[]);(0,Ot.useEffect)(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[c]);let u=(0,Ot.useCallback)(()=>r(!1),[r]);return(0,rt.jsxs)(KA,{open:i,onOpenChange:r,children:[(0,rt.jsx)(JA,{asChild:!0,children:(0,rt.jsx)(XW,{})}),(0,rt.jsxs)(ZA,{children:[(0,rt.jsx)(QA,{className:"fixed inset-0 bg-[#656c85cc] z-[1000]"}),(0,rt.jsxs)(eR,{className:"fixed flex flex-col top-0 bg-white dark:bg-stone-900 z-[1001] h-screen w-screen sm:left-1/2 sm:-translate-x-1/2 sm:w-[90vw] sm:max-w-screen-sm sm:h-auto sm:max-h-[var(--content-max-height)] sm:top-[var(--content-top)] sm:rounded-md p-4 text-gray-900 dark:text-white",style:{"--content-top":`${l}px`,"--content-max-height":"calc(90vh - var(--content-top))"},children:[(0,rt.jsx)(Vw,{asChild:!0,children:(0,rt.jsx)(tR,{children:"Search Website"})}),(0,rt.jsx)(Vw,{asChild:!0,children:(0,rt.jsx)(iR,{children:"Search articles and their contents using fuzzy-search and prefix-matching"})}),(0,rt.jsx)(YW,{searchListID:"search-list",searchLabelID:"search-label",searchInputID:"search-input",debounceTime:t,searchResults:n,setSearchResults:s,selectedIndex:o,setSelectedIndex:a,closeSearch:u}),n&&(0,rt.jsx)(VW,{searchListID:"search-list",searchLabelID:"search-label",className:"mt-4",searchResults:n,selectedIndex:o,onHoverSelect:a,closeSearch:u,charLimit:e})]})]})]})}var lh=H(be(),1),dR=H(pt(),1),uR=H(Ce(),1);function KW(){let t=yu().state,e=(0,lh.useMemo)(()=>({}),[]),[i,r]=(0,lh.useState)(!1);return(0,lh.useEffect)(()=>{if(t==="loading")e.start=setTimeout(()=>{r(!0)},150);else{if(e.start){clearTimeout(e.start),delete e.start,r(!1);return}e.finish=setTimeout(()=>{r(!1)},150)}return()=>{e.start&&(clearTimeout(e.start),delete e.start),e.finish&&(clearTimeout(e.finish),delete e.finish)}},[t]),{showLoading:i,isLoading:t==="loading"}}function JW(){let{isLoading:t,showLoading:e}=KW();return e?(0,uR.jsx)("div",{className:(0,dR.default)("w-screen h-[2px] bg-blue-500 absolute left-0 bottom-0 transition-transform",{"animate-load scale-x-40":t,"scale-x-100":!t})}):null}var hR=H(Ce(),1),t8=60;var ch=H(be(),1),i8=H(pt(),1);var fR=H(Ce(),1);function r8(t=0,e=0){let i=(0,ch.useRef)(null),r=(0,ch.useRef)(null),n=yu().state,s=RT(),o=()=>{if(!i.current||!r.current)return;let a=i.current.offsetHeight-window.scrollY,l=r.current.firstChild;l&&(l.style.height=s?`min(calc(100vh - ${t}px), ${a+e}px)`:`calc(100vh - ${t}px)`),l&&(l.style.height=`min(calc(100vh - ${t}px), ${a+e}px)`);let c=r.current.querySelector("nav");c&&(c.style.opacity=a>150?"1":"0")};return(0,ch.useEffect)(()=>{o(),setTimeout(o,100);let a=()=>o();return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[i,r,n,s]),{container:i,toc:r}}var je=H(Ce(),1),$L=H(be(),1);var Gw=H(Ce(),1);var Yw=H(pt(),1);function mR(t){t&&(t.nodeName==="DETAILS"&&(t.open=!0),mR(t.parentElement))}function H_(t,{htmlId:e=t?.id,scrollBehavior:i="smooth",historyState:r="replace",focusTarget:n=!0}={}){t&&(mR(t),t.scrollIntoView({behavior:i}),r==="push"?history.pushState(void 0,"",`#${e}`):r==="replace"&&history.replaceState(void 0,"",`#${e}`),n&&(t.tabIndex===-1&&(t.tabIndex=-1),t.focus({preventScroll:!0})))}function oi({id:t,kind:e,title:i=`Link to this ${e}`,children:r="\xB6",canSelectText:n=!1,hover:s,className:o="font-normal",hideInPopup:a,scrollBehavior:l,historyState:c,focusTarget:u}){let{inCrossRef:d}=Nl();if(d||!t)return a?null:(0,Gw.jsx)("span",{className:(0,Yw.default)("select-none",o),children:r});let f=h=>{h.preventDefault();let m=document.getElementById(t);H_(m,{scrollBehavior:l,historyState:c,focusTarget:u})};return(0,Gw.jsx)("a",{className:(0,Yw.default)("no-underline text-inherit hover:text-inherit",o,{"select-none":!n,"transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70":s===!0,"[@media(hover:hover)]:transition-opacity [@media(hover:hover)]:opacity-0 [@media(hover:hover)]:focus:opacity-100 [@media(hover:hover)]:group-hover:opacity-70":s==="desktop","hover:underline":!s}),onClick:f,href:`#${t}`,title:i,"aria-label":i,children:r})}var kr=H(pt(),1);var j_=H(Ce(),1);var pR=H(be(),1),gR=H(pt(),1);function dh({text:t,className:e}){let[i,r]=(0,pR.useState)(!1),n=()=>{i||navigator.clipboard.writeText(t).then(()=>{r(!0),setTimeout(()=>r(!1),3e3)})};return(0,j_.jsx)("button",{title:i?"Copied!!":"Copy to Clipboard",className:(0,gR.default)("inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2","transition-color duration-200 ease-in-out",{"text-blue-400 hover:text-blue-500":!i,"text-green-500 hover:text-green-500":i},e),onClick:n,"aria-pressed":i?"true":"false","aria-label":"Copy code to clipboard",children:i?(0,j_.jsx)(lw,{width:24,height:24,className:"text-success"}):(0,j_.jsx)(cw,{width:24,height:24})})}var Ca=H(Ce(),1),HL=H(be(),1);var ki=H(be(),1);var Wn=H(be(),1);var _R=["top","right","bottom","left"];var No=Math.min,on=Math.max,Dm=Math.round,Om=Math.floor,Qs=t=>({x:t,y:t}),n8={left:"right",right:"left",bottom:"top",top:"bottom"},s8={start:"end",end:"start"};function $_(t,e,i){return on(t,No(e,i))}function Do(t,e){return typeof t=="function"?t(e):t}function Oo(t){return t.split("-")[0]}function Yc(t){return t.split("-")[1]}function W_(t){return t==="x"?"y":"x"}function q_(t){return t==="y"?"height":"width"}function ya(t){return["top","bottom"].includes(Oo(t))?"y":"x"}function U_(t){return W_(ya(t))}function vR(t,e,i){i===void 0&&(i=!1);let r=Yc(t),n=U_(t),s=q_(n),o=n==="x"?r===(i?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Nm(o)),[o,Nm(o)]}function bR(t){let e=Nm(t);return[F_(t),e,F_(e)]}function F_(t){return t.replace(/start|end/g,e=>s8[e])}function o8(t,e,i){let r=["left","right"],n=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return i?e?n:r:e?r:n;case"left":case"right":return e?s:o;default:return[]}}function xR(t,e,i,r){let n=Yc(t),s=o8(Oo(t),i==="start",r);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(F_)))),s}function Nm(t){return t.replace(/left|right|bottom|top/g,e=>n8[e])}function a8(t){return{top:0,right:0,bottom:0,left:0,...t}}function Xw(t){return typeof t!="number"?a8(t):{top:t,right:t,bottom:t,left:t}}function Xc(t){let{x:e,y:i,width:r,height:n}=t;return{width:r,height:n,top:i,left:e,right:e+r,bottom:i+n,x:e,y:i}}function yR(t,e,i){let{reference:r,floating:n}=t,s=ya(e),o=U_(e),a=q_(o),l=Oo(e),c=s==="y",u=r.x+r.width/2-n.width/2,d=r.y+r.height/2-n.height/2,f=r[a]/2-n[a]/2,h;switch(l){case"top":h={x:u,y:r.y-n.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-n.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Yc(e)){case"start":h[o]-=f*(i&&c?-1:1);break;case"end":h[o]+=f*(i&&c?-1:1);break}return h}var SR=async(t,e,i)=>{let{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:o}=i,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e)),c=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:d}=yR(c,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){let{name:_,fn:x}=a[p],{x:y,y:C,data:k,reset:M}=await x({x:u,y:d,initialPlacement:r,placement:f,strategy:n,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=C??d,h={...h,[_]:{...h[_],...k}},M&&m<=50&&(m++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):M.rects),{x:u,y:d}=yR(c,f,l)),p=-1)}return{x:u,y:d,placement:f,strategy:n,middlewareData:h}};async function uh(t,e){var i;e===void 0&&(e={});let{x:r,y:n,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Do(e,t),m=Xw(h),_=a[f?d==="floating"?"reference":"floating":d],x=Xc(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(_)))==null||i?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:n,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},M=Xc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:C,strategy:l}):y);return{top:(x.top-M.top+m.top)/k.y,bottom:(M.bottom-x.bottom+m.bottom)/k.y,left:(x.left-M.left+m.left)/k.x,right:(M.right-x.right+m.right)/k.x}}var ER=t=>({name:"arrow",options:t,async fn(e){let{x:i,y:r,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Do(t,e)||{};if(c==null)return{};let d=Xw(u),f={x:i,y:r},h=U_(n),m=q_(h),p=await o.getDimensions(c),_=h==="y",x=_?"top":"left",y=_?"bottom":"right",C=_?"clientHeight":"clientWidth",k=s.reference[m]+s.reference[h]-f[h]-s.floating[m],M=f[h]-s.reference[h],v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c)),I=v?v[C]:0;(!I||!await(o.isElement==null?void 0:o.isElement(v)))&&(I=a.floating[C]||s.floating[m]);let E=k/2-M/2,T=I/2-p[m]/2-1,R=No(d[x],T),P=No(d[y],T),Y=R,re=I-p[m]-P,de=I/2-p[m]/2+E,te=$_(Y,de,re),G=!l.arrow&&Yc(n)!=null&&de!==te&&s.reference[m]/2-(de<Y?R:P)-p[m]/2<0,X=G?de<Y?de-Y:de-re:0;return{[h]:f[h]+X,data:{[h]:te,centerOffset:de-te-X,...G&&{alignmentOffset:X}},reset:G}}});var IR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,r;let{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,..._}=Do(t,e);if((i=s.arrow)!=null&&i.alignmentOffset)return{};let x=Oo(n),y=ya(a),C=Oo(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=f||(C||!p?[Nm(a)]:bR(a)),v=m!=="none";!f&&v&&M.push(...xR(a,p,m,k));let I=[a,...M],E=await uh(e,_),T=[],R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&T.push(E[x]),d){let de=vR(n,o,k);T.push(E[de[0]],E[de[1]])}if(R=[...R,{placement:n,overflows:T}],!T.every(de=>de<=0)){var P,Y;let de=(((P=s.flip)==null?void 0:P.index)||0)+1,te=I[de];if(te)return{data:{index:de,overflows:R},reset:{placement:te}};let G=(Y=R.filter(X=>X.overflows[0]<=0).sort((X,Z)=>X.overflows[1]-Z.overflows[1])[0])==null?void 0:Y.placement;if(!G)switch(h){case"bestFit":{var re;let X=(re=R.filter(Z=>{if(v){let ye=ya(Z.placement);return ye===y||ye==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ye=>ye>0).reduce((ye,ue)=>ye+ue,0)]).sort((Z,ye)=>Z[1]-ye[1])[0])==null?void 0:re[0];X&&(G=X);break}case"initialPlacement":G=a;break}if(n!==G)return{reset:{placement:G}}}return{}}}};function wR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CR(t){return _R.some(e=>t[e]>=0)}var MR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){let{rects:i}=e,{strategy:r="referenceHidden",...n}=Do(t,e);switch(r){case"referenceHidden":{let s=await uh(e,{...n,elementContext:"reference"}),o=wR(s,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CR(o)}}}case"escaped":{let s=await uh(e,{...n,altBoundary:!0}),o=wR(s,i.floating);return{data:{escapedOffsets:o,escaped:CR(o)}}}default:return{}}}}};async function l8(t,e){let{placement:i,platform:r,elements:n}=t,s=await(r.isRTL==null?void 0:r.isRTL(n.floating)),o=Oo(i),a=Yc(i),l=ya(i)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Do(e,t),{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}var kR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,r;let{x:n,y:s,placement:o,middlewareData:a}=e,l=await l8(e,t);return o===((i=a.offset)==null?void 0:i.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},TR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:i,y:r,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y}=_;return{x,y}}},...l}=Do(t,e),c={x:i,y:r},u=await uh(e,l),d=ya(Oo(n)),f=W_(d),h=c[f],m=c[d];if(s){let _=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=h+u[_],C=h-u[x];h=$_(y,h,C)}if(o){let _=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=m+u[_],C=m-u[x];m=$_(y,m,C)}let p=a.fn({...e,[f]:h,[d]:m});return{...p,data:{x:p.x-i,y:p.y-r,enabled:{[f]:s,[d]:o}}}}}},AR=function(t){return t===void 0&&(t={}),{options:t,fn(e){let{x:i,y:r,placement:n,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Do(t,e),u={x:i,y:r},d=ya(n),f=W_(d),h=u[f],m=u[d],p=Do(a,e),_=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){let C=f==="y"?"height":"width",k=s.reference[f]-s.floating[C]+_.mainAxis,M=s.reference[f]+s.reference[C]-_.mainAxis;h<k?h=k:h>M&&(h=M)}if(c){var x,y;let C=f==="y"?"width":"height",k=["top","left"].includes(Oo(n)),M=s.reference[d]-s.floating[C]+(k&&((x=o.offset)==null?void 0:x[d])||0)+(k?0:_.crossAxis),v=s.reference[d]+s.reference[C]+(k?0:((y=o.offset)==null?void 0:y[d])||0)-(k?_.crossAxis:0);m<M?m=M:m>v&&(m=v)}return{[f]:h,[d]:m}}}},RR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var i,r;let{placement:n,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Do(t,e),u=await uh(e,c),d=Oo(n),f=Yc(n),h=ya(n)==="y",{width:m,height:p}=s.floating,_,x;d==="top"||d==="bottom"?(_=d,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,_=f==="end"?"top":"bottom");let y=p-u.top-u.bottom,C=m-u.left-u.right,k=No(p-u[_],y),M=No(m-u[x],C),v=!e.middlewareData.shift,I=k,E=M;if((i=e.middlewareData.shift)!=null&&i.enabled.x&&(E=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),v&&!f){let R=on(u.left,0),P=on(u.right,0),Y=on(u.top,0),re=on(u.bottom,0);h?E=m-2*(R!==0||P!==0?R+P:on(u.left,u.right)):I=p-2*(Y!==0||re!==0?Y+re:on(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:I});let T=await o.getDimensions(a.floating);return m!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function V_(){return typeof window<"u"}function Jc(t){return NR(t)?(t.nodeName||"").toLowerCase():"#document"}function En(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eo(t){var e;return(e=(NR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NR(t){return V_()?t instanceof Node||t instanceof En(t).Node:!1}function Is(t){return V_()?t instanceof Element||t instanceof En(t).Element:!1}function to(t){return V_()?t instanceof HTMLElement||t instanceof En(t).HTMLElement:!1}function LR(t){return!V_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof En(t).ShadowRoot}function hh(t){let{overflow:e,overflowX:i,overflowY:r,display:n}=Ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+i)&&!["inline","contents"].includes(n)}function DR(t){return["table","td","th"].includes(Jc(t))}function zm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function G_(t){let e=Y_(),i=Is(t)?Ms(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>i[r]?i[r]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(i.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(i.contain||"").includes(r))}function OR(t){let e=wa(t);for(;to(e)&&!Zc(e);){if(G_(e))return e;if(zm(e))return null;e=wa(e)}return null}function Y_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zc(t){return["html","body","#document"].includes(Jc(t))}function Ms(t){return En(t).getComputedStyle(t)}function Pm(t){return Is(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wa(t){if(Jc(t)==="html")return t;let e=t.assignedSlot||t.parentNode||LR(t)&&t.host||eo(t);return LR(e)?e.host:e}function zR(t){let e=wa(t);return Zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:to(e)&&hh(e)?e:zR(e)}function Kc(t,e,i){var r;e===void 0&&(e=[]),i===void 0&&(i=!0);let n=zR(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),o=En(n);if(s){let a=X_(o);return e.concat(o,o.visualViewport||[],hh(n)?n:[],a&&i?Kc(a):[])}return e.concat(n,Kc(n,[],i))}function X_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HR(t){let e=Ms(t),i=parseFloat(e.width)||0,r=parseFloat(e.height)||0,n=to(t),s=n?t.offsetWidth:i,o=n?t.offsetHeight:r,a=Dm(i)!==s||Dm(r)!==o;return a&&(i=s,r=o),{width:i,height:r,$:a}}function Jw(t){return Is(t)?t:t.contextElement}function fh(t){let e=Jw(t);if(!to(e))return Qs(1);let i=e.getBoundingClientRect(),{width:r,height:n,$:s}=HR(e),o=(s?Dm(i.width):i.width)/r,a=(s?Dm(i.height):i.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}var c8=Qs(0);function jR(t){let e=En(t);return!Y_()||!e.visualViewport?c8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function d8(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==En(t)?!1:e}function Qc(t,e,i,r){e===void 0&&(e=!1),i===void 0&&(i=!1);let n=t.getBoundingClientRect(),s=Jw(t),o=Qs(1);e&&(r?Is(r)&&(o=fh(r)):o=fh(t));let a=d8(s,i,r)?jR(s):Qs(0),l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,u=n.width/o.x,d=n.height/o.y;if(s){let f=En(s),h=r&&Is(r)?En(r):r,m=f,p=X_(m);for(;p&&r&&h!==m;){let _=fh(p),x=p.getBoundingClientRect(),y=Ms(p),C=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*_.x,k=x.top+(p.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=C,c+=k,m=En(p),p=X_(m)}}return Xc({width:u,height:d,x:l,y:c})}function Zw(t,e){let i=Pm(t).scrollLeft;return e?e.left+i:Qc(eo(t)).left+i}function FR(t,e,i){i===void 0&&(i=!1);let r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-(i?0:Zw(t,r)),s=r.top+e.scrollTop;return{x:n,y:s}}function u8(t){let{elements:e,rect:i,offsetParent:r,strategy:n}=t,s=n==="fixed",o=eo(r),a=e?zm(e.floating):!1;if(r===o||a&&s)return i;let l={scrollLeft:0,scrollTop:0},c=Qs(1),u=Qs(0),d=to(r);if((d||!d&&!s)&&((Jc(r)!=="body"||hh(o))&&(l=Pm(r)),to(r))){let h=Qc(r);c=fh(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}let f=o&&!d&&!s?FR(o,l,!0):Qs(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:i.y*c.y-l.scrollTop*c.y+u.y+f.y}}function h8(t){return Array.from(t.getClientRects())}function f8(t){let e=eo(t),i=Pm(t),r=t.ownerDocument.body,n=on(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=on(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),o=-i.scrollLeft+Zw(t),a=-i.scrollTop;return Ms(r).direction==="rtl"&&(o+=on(e.clientWidth,r.clientWidth)-n),{width:n,height:s,x:o,y:a}}function m8(t,e){let i=En(t),r=eo(t),n=i.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;let c=Y_();(!c||c&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}function p8(t,e){let i=Qc(t,!0,e==="fixed"),r=i.top+t.clientTop,n=i.left+t.clientLeft,s=to(t)?fh(t):Qs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=n*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function PR(t,e,i){let r;if(e==="viewport")r=m8(t,i);else if(e==="document")r=f8(eo(t));else if(Is(e))r=p8(e,i);else{let n=jR(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Xc(r)}function $R(t,e){let i=wa(t);return i===e||!Is(i)||Zc(i)?!1:Ms(i).position==="fixed"||$R(i,e)}function g8(t,e){let i=e.get(t);if(i)return i;let r=Kc(t,[],!1).filter(a=>Is(a)&&Jc(a)!=="body"),n=null,s=Ms(t).position==="fixed",o=s?wa(t):t;for(;Is(o)&&!Zc(o);){let a=Ms(o),l=G_(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||hh(o)&&!l&&$R(t,o))?r=r.filter(u=>u!==o):n=a,o=wa(o)}return e.set(t,r),r}function _8(t){let{element:e,boundary:i,rootBoundary:r,strategy:n}=t,o=[...i==="clippingAncestors"?zm(e)?[]:g8(e,this._c):[].concat(i),r],a=o[0],l=o.reduce((c,u)=>{let d=PR(e,u,n);return c.top=on(d.top,c.top),c.right=No(d.right,c.right),c.bottom=No(d.bottom,c.bottom),c.left=on(d.left,c.left),c},PR(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function v8(t){let{width:e,height:i}=HR(t);return{width:e,height:i}}function b8(t,e,i){let r=to(e),n=eo(e),s=i==="fixed",o=Qc(t,!0,s,e),a={scrollLeft:0,scrollTop:0},l=Qs(0);if(r||!r&&!s)if((Jc(e)!=="body"||hh(n))&&(a=Pm(e)),r){let f=Qc(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else n&&(l.x=Zw(n));let c=n&&!r&&!s?FR(n,a):Qs(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Kw(t){return Ms(t).position==="static"}function BR(t,e){if(!to(t)||Ms(t).position==="fixed")return null;if(e)return e(t);let i=t.offsetParent;return eo(t)===i&&(i=i.ownerDocument.body),i}function WR(t,e){let i=En(t);if(zm(t))return i;if(!to(t)){let n=wa(t);for(;n&&!Zc(n);){if(Is(n)&&!Kw(n))return n;n=wa(n)}return i}let r=BR(t,e);for(;r&&DR(r)&&Kw(r);)r=BR(r,e);return r&&Zc(r)&&Kw(r)&&!G_(r)?i:r||OR(t)||i}var x8=async function(t){let e=this.getOffsetParent||WR,i=this.getDimensions,r=await i(t.floating);return{reference:b8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y8(t){return Ms(t).direction==="rtl"}var qR={convertOffsetParentRelativeRectToViewportRelativeRect:u8,getDocumentElement:eo,getClippingRect:_8,getOffsetParent:WR,getElementRects:x8,getClientRects:h8,getDimensions:v8,getScale:fh,isElement:Is,isRTL:y8};function UR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function w8(t,e){let i=null,r,n=eo(t);function s(){var a;clearTimeout(r),(a=i)==null||a.disconnect(),i=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();let c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;let m=Om(d),p=Om(n.clientWidth-(u+f)),_=Om(n.clientHeight-(d+h)),x=Om(u),C={rootMargin:-m+"px "+-p+"px "+-_+"px "+-x+"px",threshold:on(0,No(1,l))||1},k=!0;function M(v){let I=v[0].intersectionRatio;if(I!==l){if(!k)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!UR(c,t.getBoundingClientRect())&&o(),k=!1}try{i=new IntersectionObserver(M,{...C,root:n.ownerDocument})}catch{i=new IntersectionObserver(M,C)}i.observe(t)}return o(!0),s}function Qw(t,e,i,r){r===void 0&&(r={});let{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Jw(t),u=n||s?[...c?Kc(c):[],...Kc(e)]:[];u.forEach(x=>{n&&x.addEventListener("scroll",i,{passive:!0}),s&&x.addEventListener("resize",i)});let d=c&&a?w8(c,i):null,f=-1,h=null;o&&(h=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=h)==null||C.observe(e)})),i()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?Qc(t):null;l&&_();function _(){let x=Qc(t);p&&!UR(p,x)&&i(),p=x,m=requestAnimationFrame(_)}return i(),()=>{var x;u.forEach(y=>{n&&y.removeEventListener("scroll",i),s&&y.removeEventListener("resize",i)}),d?.(),(x=h)==null||x.disconnect(),h=null,l&&cancelAnimationFrame(m)}}var VR=kR;var GR=TR,YR=IR,XR=RR,KR=MR,eC=ER;var JR=AR,tC=(t,e,i)=>{let r=new Map,n={platform:qR,...i},s={...n.platform,_c:r};return SR(t,e,{...n,platform:s})};var Yi=H(be(),1),Z_=H(be(),1),QR=H(By(),1),K_=typeof document<"u"?Z_.useLayoutEffect:Z_.useEffect;function J_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let i,r,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(i=t.length,i!==e.length)return!1;for(r=i;r--!==0;)if(!J_(t[r],e[r]))return!1;return!0}if(n=Object.keys(t),i=n.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!{}.hasOwnProperty.call(e,n[r]))return!1;for(r=i;r--!==0;){let s=n[r];if(!(s==="_owner"&&t.$$typeof)&&!J_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function eL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZR(t,e){let i=eL(t);return Math.round(e*i)/i}function iC(t){let e=Yi.useRef(t);return K_(()=>{e.current=t}),e}function tL(t){t===void 0&&(t={});let{placement:e="bottom",strategy:i="absolute",middleware:r=[],platform:n,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=Yi.useState({x:0,y:0,strategy:i,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=Yi.useState(r);J_(f,r)||h(r);let[m,p]=Yi.useState(null),[_,x]=Yi.useState(null),y=Yi.useCallback(Z=>{Z!==v.current&&(v.current=Z,p(Z))},[]),C=Yi.useCallback(Z=>{Z!==I.current&&(I.current=Z,x(Z))},[]),k=s||m,M=o||_,v=Yi.useRef(null),I=Yi.useRef(null),E=Yi.useRef(u),T=l!=null,R=iC(l),P=iC(n),Y=iC(c),re=Yi.useCallback(()=>{if(!v.current||!I.current)return;let Z={placement:e,strategy:i,middleware:f};P.current&&(Z.platform=P.current),tC(v.current,I.current,Z).then(ye=>{let ue={...ye,isPositioned:Y.current!==!1};de.current&&!J_(E.current,ue)&&(E.current=ue,QR.flushSync(()=>{d(ue)}))})},[f,e,i,P,Y]);K_(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(Z=>({...Z,isPositioned:!1})))},[c]);let de=Yi.useRef(!1);K_(()=>(de.current=!0,()=>{de.current=!1}),[]),K_(()=>{if(k&&(v.current=k),M&&(I.current=M),k&&M){if(R.current)return R.current(k,M,re);re()}},[k,M,re,R,T]);let te=Yi.useMemo(()=>({reference:v,floating:I,setReference:y,setFloating:C}),[y,C]),G=Yi.useMemo(()=>({reference:k,floating:M}),[k,M]),X=Yi.useMemo(()=>{let Z={position:i,left:0,top:0};if(!G.floating)return Z;let ye=ZR(G.floating,u.x),ue=ZR(G.floating,u.y);return a?{...Z,transform:"translate("+ye+"px, "+ue+"px)",...eL(G.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:ye,top:ue}},[i,a,G.floating,u.x,u.y]);return Yi.useMemo(()=>({...u,update:re,refs:te,elements:G,floatingStyles:X}),[u,re,te,G,X])}var C8=t=>{function e(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){let{element:r,padding:n}=typeof t=="function"?t(i):t;return r&&e(r)?r.current!=null?eC({element:r.current,padding:n}).fn(i):{}:r?eC({element:r,padding:n}).fn(i):{}}}},iL=(t,e)=>({...VR(t),options:[t,e]}),rL=(t,e)=>({...GR(t),options:[t,e]}),nL=(t,e)=>({...JR(t),options:[t,e]}),sL=(t,e)=>({...YR(t),options:[t,e]}),oL=(t,e)=>({...XR(t),options:[t,e]});var aL=(t,e)=>({...KR(t),options:[t,e]});var lL=(t,e)=>({...C8(t),options:[t,e]});var cL=H(be(),1);var rC=H(Ce(),1),S8="Arrow",dL=cL.forwardRef((t,e)=>{let{children:i,width:r=10,height:n=5,...s}=t;return(0,rC.jsx)(Mi.svg,{...s,ref:e,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?i:(0,rC.jsx)("polygon",{points:"0,0 30,0 15,10"})})});dL.displayName=S8;var uL=dL;var hL=H(be(),1);function fL(t){let[e,i]=hL.useState(void 0);return Ss(()=>{if(t){i({width:t.offsetWidth,height:t.offsetHeight});let r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;let s=n[0],o,a;if("borderBoxSize"in s){let l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;i({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else i(void 0)},[t]),e}var Pl=H(Ce(),1);var nC="Popper",[mL,sC]=th(nC),[I8,pL]=mL(nC),gL=t=>{let{__scopePopper:e,children:i}=t,[r,n]=Wn.useState(null);return(0,Pl.jsx)(I8,{scope:e,anchor:r,onAnchorChange:n,children:i})};gL.displayName=nC;var _L="PopperAnchor",vL=Wn.forwardRef((t,e)=>{let{__scopePopper:i,virtualRef:r,...n}=t,s=pL(_L,i),o=Wn.useRef(null),a=$r(e,o);return Wn.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:(0,Pl.jsx)(Mi.div,{...n,ref:a})});vL.displayName=_L;var oC="PopperContent",[M8,k8]=mL(oC),bL=Wn.forwardRef((t,e)=>{let{__scopePopper:i,side:r="bottom",sideOffset:n=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=t,_=pL(oC,i),[x,y]=Wn.useState(null),C=$r(e,vt=>y(vt)),[k,M]=Wn.useState(null),v=fL(k),I=v?.width??0,E=v?.height??0,T=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],Y=P.length>0,re={padding:R,boundary:P.filter(A8),altBoundary:Y},{refs:de,floatingStyles:te,placement:G,isPositioned:X,middlewareData:Z}=tL({strategy:"fixed",placement:T,whileElementsMounted:(...vt)=>Qw(...vt,{animationFrame:h==="always"}),elements:{reference:_.anchor},middleware:[iL({mainAxis:n+E,alignmentAxis:o}),l&&rL({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?nL():void 0,...re}),l&&sL({...re}),oL({...re,apply:({elements:vt,rects:Dt,availableWidth:Pt,availableHeight:Wi})=>{let{width:yi,height:ir}=Dt.reference,A=vt.floating.style;A.setProperty("--radix-popper-available-width",`${Pt}px`),A.setProperty("--radix-popper-available-height",`${Wi}px`),A.setProperty("--radix-popper-anchor-width",`${yi}px`),A.setProperty("--radix-popper-anchor-height",`${ir}px`)}}),k&&lL({element:k,padding:a}),R8({arrowWidth:I,arrowHeight:E}),f&&aL({strategy:"referenceHidden",...re})]}),[ye,ue]=wL(G),xe=$n(m);Ss(()=>{X&&xe?.()},[X,xe]);let ke=Z.arrow?.x,We=Z.arrow?.y,Xe=Z.arrow?.centerOffset!==0,[Ze,st]=Wn.useState();return Ss(()=>{x&&st(window.getComputedStyle(x).zIndex)},[x]),(0,Pl.jsx)("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:X?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,["--radix-popper-transform-origin"]:[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:(0,Pl.jsx)(M8,{scope:i,placedSide:ye,onArrowChange:M,arrowX:ke,arrowY:We,shouldHideArrow:Xe,children:(0,Pl.jsx)(Mi.div,{"data-side":ye,"data-align":ue,...p,ref:C,style:{...p.style,animation:X?void 0:"none"}})})})});bL.displayName=oC;var xL="PopperArrow",T8={top:"bottom",right:"left",bottom:"top",left:"right"},yL=Wn.forwardRef(function(e,i){let{__scopePopper:r,...n}=e,s=k8(xL,r),o=T8[s.placedSide];return(0,Pl.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,Pl.jsx)(uL,{...n,ref:i,style:{...n.style,display:"block"}})})});yL.displayName=xL;function A8(t){return t!==null}var R8=t=>({name:"transformOrigin",options:t,fn(e){let{placement:i,rects:r,middlewareData:n}=e,o=n.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=wL(i),d={start:"0%",center:"50%",end:"100%"}[u],f=(n.arrow?.x??0)+a/2,h=(n.arrow?.y??0)+l/2,m="",p="";return c==="bottom"?(m=o?d:`${f}px`,p=`${-l}px`):c==="top"?(m=o?d:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=o?d:`${h}px`),{data:{x:m,y:p}}}});function wL(t){let[e,i="center"]=t.split("-");return[e,i]}var CL=gL,SL=vL,EL=bL,IL=yL;var qn=H(Ce(),1),aC,lC="HoverCard",[ML,rse]=th(lC,[sC]),tv=sC(),[N8,iv]=ML(lC),kL=t=>{let{__scopeHoverCard:e,children:i,open:r,defaultOpen:n,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=t,l=tv(e),c=ki.useRef(0),u=ki.useRef(0),d=ki.useRef(!1),f=ki.useRef(!1),[h=!1,m]=I_({prop:r,defaultProp:n,onChange:s}),p=ki.useCallback(()=>{clearTimeout(u.current),c.current=window.setTimeout(()=>m(!0),o)},[o,m]),_=ki.useCallback(()=>{clearTimeout(c.current),!d.current&&!f.current&&(u.current=window.setTimeout(()=>m(!1),a))},[a,m]),x=ki.useCallback(()=>m(!1),[m]);return ki.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(u.current)},[]),(0,qn.jsx)(N8,{scope:e,open:h,onOpenChange:m,onOpen:p,onClose:_,onDismiss:x,hasSelectionRef:d,isPointerDownOnContentRef:f,children:(0,qn.jsx)(CL,{...l,children:i})})};kL.displayName=lC;var TL="HoverCardTrigger",AL=ki.forwardRef((t,e)=>{let{__scopeHoverCard:i,...r}=t,n=iv(TL,i),s=tv(i);return(0,qn.jsx)(SL,{asChild:!0,...s,children:(0,qn.jsx)(Mi.a,{"data-state":n.open?"open":"closed",...r,ref:e,onPointerEnter:Gi(t.onPointerEnter,ev(n.onOpen)),onPointerLeave:Gi(t.onPointerLeave,ev(n.onClose)),onFocus:Gi(t.onFocus,n.onOpen),onBlur:Gi(t.onBlur,n.onClose),onTouchStart:Gi(t.onTouchStart,o=>o.preventDefault())})})});AL.displayName=TL;var cC="HoverCardPortal",[D8,O8]=ML(cC,{forceMount:void 0}),RL=t=>{let{__scopeHoverCard:e,forceMount:i,children:r,container:n}=t,s=iv(cC,e);return(0,qn.jsx)(D8,{scope:e,forceMount:i,children:(0,qn.jsx)(zl,{present:i||s.open,children:(0,qn.jsx)(Tm,{asChild:!0,container:n,children:r})})})};RL.displayName=cC;var Q_="HoverCardContent",LL=ki.forwardRef((t,e)=>{let i=O8(Q_,t.__scopeHoverCard),{forceMount:r=i.forceMount,...n}=t,s=iv(Q_,t.__scopeHoverCard);return(0,qn.jsx)(zl,{present:r||s.open,children:(0,qn.jsx)(z8,{"data-state":s.open?"open":"closed",...n,onPointerEnter:Gi(t.onPointerEnter,ev(s.onOpen)),onPointerLeave:Gi(t.onPointerLeave,ev(s.onClose)),ref:e})})});LL.displayName=Q_;var z8=ki.forwardRef((t,e)=>{let{__scopeHoverCard:i,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,...a}=t,l=iv(Q_,i),c=tv(i),u=ki.useRef(null),d=$r(e,u),[f,h]=ki.useState(!1);return ki.useEffect(()=>{if(f){let m=document.body;return aC=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=aC,m.style.webkitUserSelect=aC}}},[f]),ki.useEffect(()=>{if(u.current){let m=()=>{h(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),ki.useEffect(()=>{u.current&&B8(u.current).forEach(p=>p.setAttribute("tabindex","-1"))}),(0,qn.jsx)(km,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:Gi(s,m=>{m.preventDefault()}),onDismiss:l.onDismiss,children:(0,qn.jsx)(EL,{...c,...a,onPointerDown:Gi(a.onPointerDown,m=>{m.currentTarget.contains(m.target)&&h(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),P8="HoverCardArrow",NL=ki.forwardRef((t,e)=>{let{__scopeHoverCard:i,...r}=t,n=tv(i);return(0,qn.jsx)(IL,{...n,...r,ref:e})});NL.displayName=P8;function ev(t){return e=>e.pointerType==="touch"?void 0:t()}function B8(t){let e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;i.nextNode();)e.push(i.currentNode);return e}var DL=kL,OL=AL,zL=RL,PL=LL,BL=NL;var jL=H(pt(),1);function cr({children:t,openDelay:e=400,card:i,side:r,arrowClass:n="fill-white"}){let[s,o]=(0,HL.useState)(!1);return(0,Ca.jsxs)(DL,{openDelay:e,children:[(0,Ca.jsx)(OL,{asChild:!0,onMouseEnter:()=>o(!0),children:t}),(0,Ca.jsx)(zL,{children:(0,Ca.jsxs)(PL,{className:"exclude-from-outline hover-card-content",sideOffset:5,side:r,children:[typeof i=="function"?s&&i({load:s}):i,(0,Ca.jsx)(BL,{className:n})]})})]})}function mh({title:t,children:e,className:i}){return(0,Ca.jsx)(cr,{side:"top",card:(0,Ca.jsx)("div",{className:(0,jL.default)("p-1 text-xs text-white bg-blue-900 dark:bg-white dark:text-black",i),children:t}),arrowClass:"fill-blue-900 dark:fill-white",children:e})}var Sa=H(Ce(),1);var FL=H(pt(),1);function Bl({url:t,title:e,internal:i=!1,loading:r=!1,description:n,thumbnail:s,className:o="w-[300px] sm:max-w-[500px] bg-white rounded shadow-md"}){let a=ys(),l=Fr(),c=ar(t,l);return(0,Sa.jsxs)("div",{className:(0,FL.default)("hover-card-content rounded overflow-hidden",o,{"animate-pulse":r}),children:[!r&&s&&(0,Sa.jsx)("img",{src:s,className:"w-full h-[150px] object-cover object-top object-left m-0"}),r&&(0,Sa.jsx)("div",{className:"animate-pulse bg-slate-100 dark:bg-slate-800 w-full h-[150px]"}),i&&(0,Sa.jsx)(a,{to:c,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",prefetch:"intent",children:e}),!i&&(0,Sa.jsxs)("a",{href:c,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[(0,Sa.jsx)(ws,{width:"1rem",height:"1rem",className:"float-right"}),e]}),!r&&n&&(0,Sa.jsx)("div",{className:"p-3 prose text-sm max-h-[300px] overflow-hidden",children:n})]})}var Ea=H(Ce(),1);function j8({node:t,className:e}){return t.children?(0,Ea.jsx)("div",{className:e,children:(0,Ea.jsx)(we,{ast:t.children})}):(0,Ea.jsx)("span",{className:e,children:t.value})}function dC(t,e){var i,r,n;let s=(i=t[e.type])!==null&&i!==void 0?i:t.DefaultComponent,o=(r=Object.entries(s??{}).reverse().find(([a])=>a!=="base"&&qk(a,e)))===null||r===void 0?void 0:r[1];return(n=o??s?.base)!==null&&n!==void 0?n:j8}function we({ast:t,className:e}){let i=pT();if(!t||t.length===0)return null;if(!Array.isArray(t)){let r=dC(i,t);return(0,Ea.jsx)(r,{node:t,className:e},t.key)}return(0,Ea.jsx)(Ea.Fragment,{children:t?.map(r=>{let n=dC(i,r);return(0,Ea.jsx)(n,{node:r,className:e},r.key)})})}var F8={text({node:t}){var e;if(!(!((e=t.value)===null||e===void 0)&&e.includes("\u200B")))return(0,je.jsx)(je.Fragment,{children:t.value});let i=t.value.split("\u200B");return(0,je.jsx)(je.Fragment,{children:i.map((r,n)=>(0,je.jsxs)($L.default.Fragment,{children:[r,n<i.length-1&&(0,je.jsx)("wbr",{})]},n))})},span({node:t,className:e}){return(0,je.jsx)("span",{className:(0,kr.default)(t.class,e),style:t.style,id:t.html_id,children:(0,je.jsx)(we,{ast:t.children})})},div({node:t,className:e}){return(0,je.jsx)("div",{className:(0,kr.default)(t.class,e),style:t.style,id:t.html_id,children:(0,je.jsx)(we,{ast:t.children})})},delete({node:t,className:e}){return(0,je.jsx)("del",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},strong({node:t,className:e}){return(0,je.jsx)("strong",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},emphasis({node:t,className:e}){return(0,je.jsx)("em",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},underline({node:t,className:e}){return(0,je.jsx)("span",{style:{textDecoration:"underline"},className:e,children:(0,je.jsx)(we,{ast:t.children})})},smallcaps({node:t,className:e}){return(0,je.jsx)("span",{style:{fontVariant:"small-caps"},className:e,children:(0,je.jsx)(we,{ast:t.children})})},link({node:t,className:e}){return(0,je.jsx)("a",{target:"_blank",href:t.url,className:(0,kr.default)(t.class,e),rel:"noreferrer",children:(0,je.jsx)(we,{ast:t.children})})},paragraph({node:t,className:e}){return(0,je.jsx)("p",{id:t.html_id,className:e,children:(0,je.jsx)(we,{ast:t.children})})},algorithmLine({node:t,className:e}){var i;let r={paddingLeft:`${((i=t.indent)!==null&&i!==void 0?i:0)+2}rem`};return(0,je.jsx)("p",{className:(0,kr.default)("line",e),style:r,"data-line-number":t.enumerator,children:(0,je.jsx)(we,{ast:t.children})})},break({className:t}){return(0,je.jsx)("br",{className:t})},inlineMath({node:t,className:e}){return(0,je.jsx)("code",{className:e,children:t.value})},math({node:t,className:e}){return(0,je.jsx)("code",{className:e,children:t.value})},list({node:t,className:e}){return t.ordered?(0,je.jsx)("ol",{start:t.start||void 0,id:t.html_id,className:e,children:(0,je.jsx)(we,{ast:t.children})}):(0,je.jsx)("ul",{id:t.html_id,className:e,children:(0,je.jsx)(we,{ast:t.children})})},listItem({node:t,className:e}){return t.checked==null?(0,je.jsx)("li",{className:e,children:(0,je.jsx)(we,{ast:t.children})}):(0,je.jsxs)("li",{className:(0,kr.default)("task-list-item",e),children:[(0,je.jsx)("input",{type:"checkbox",className:"task-list-item-checkbox",defaultChecked:t.checked}),(0,je.jsx)(we,{ast:t.children})]})},container({node:t,className:e}){let i=`fig-${t.kind}`;return(0,je.jsx)("figure",{id:t.html_id||t.identifier||t.key,className:(0,kr.default)({[i]:!!t.kind,subcontainer:t.subcontainer},t.class,e),children:(0,je.jsx)(we,{ast:t.children})})},caption({node:t,className:e}){return(0,je.jsx)("figcaption",{className:(0,kr.default)("group",e),children:(0,je.jsx)(we,{ast:t.children})})},legend({node:t,className:e}){return(0,je.jsx)("figcaption",{className:(0,kr.default)("text-sm",e),children:(0,je.jsx)(we,{ast:t.children})})},blockquote({node:t,className:e}){return(0,je.jsx)("blockquote",{id:t.html_id,className:e,children:(0,je.jsx)(we,{ast:t.children})})},thematicBreak(){return(0,je.jsx)("hr",{className:"py-2 my-5 translate-y-2"})},captionNumber({node:t,className:e}){let i=t.html_id||t.identifier||t.key;return(0,je.jsx)(oi,{id:i,kind:t.kind,className:(0,kr.default)("mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold",e),children:(0,je.jsx)(we,{ast:t.children})})},table({node:t,className:e}){return(0,je.jsx)("table",{className:(0,kr.default)(t.class,e),style:t.style,children:(0,je.jsx)("tbody",{children:(0,je.jsx)(we,{ast:t.children})})})},tableRow({node:t,className:e}){return(0,je.jsx)("tr",{className:(0,kr.default)(t.class,e),style:t.style,children:(0,je.jsx)(we,{ast:t.children})})},tableCell({node:t,className:e}){let i=s=>s===1?void 0:s,r={rowSpan:i(t.rowspan),colSpan:i(t.colspan)},n={"text-left":t.align==="left","text-right":t.align==="right","text-center":t.align==="center"};return t.header?(0,je.jsx)("th",Object.assign({className:(0,kr.default)(t.class,n,e),style:t.style},r,{children:(0,je.jsx)(we,{ast:t.children})})):(0,je.jsx)("td",Object.assign({className:(0,kr.default)(t.class,n,e),style:t.style},r,{children:(0,je.jsx)(we,{ast:t.children})}))},subscript({node:t,className:e}){return(0,je.jsx)("sub",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},superscript({node:t,className:e}){return(0,je.jsx)("sup",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},abbreviation({node:t,className:e}){return(0,je.jsx)(mh,{title:t.title,className:(0,kr.default)(e),children:(0,je.jsx)("abbr",{"aria-label":t.title,className:"border-b border-dotted cursor-help",children:(0,je.jsx)(we,{ast:t.children})})})},mystComment(){return null},comment(){return null},definitionList({node:t,className:e}){return(0,je.jsx)("dl",{className:(0,kr.default)("my-5",e),id:t.html_id||t.identifier||t.key,children:(0,je.jsx)(we,{ast:t.children})})},definitionTerm({node:t,className:e}){var i,r;let n=new Set(["text","emphasis"]),s=(r=(i=t.children)===null||i===void 0?void 0:i.reduce((o,a)=>o&&n.has(a.type),!0))!==null&&r!==void 0?r:!1;return(0,je.jsx)("dt",{id:t.html_id||t.identifier||t.key,className:e,children:s?(0,je.jsx)("strong",{children:(0,je.jsx)(we,{ast:t.children})}):(0,je.jsx)(we,{ast:t.children})})},definitionDescription({node:t,className:e}){return(0,je.jsx)("dd",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},keyboard({node:t,className:e}){return(0,je.jsx)("kbd",{className:e,children:(0,je.jsx)(we,{ast:t.children})})},include({node:t,className:e}){return(0,je.jsx)(we,{ast:t.children,className:e})},glossary({node:t,className:e}){return(0,je.jsx)("div",{id:t.html_id||t.identifier||t.key,className:(0,kr.default)(t.class,e),children:(0,je.jsx)(we,{ast:t.children})})}},WL=F8;var $t=H(Ce(),1);var Ia=H(pt(),1);var It;(function(t){t.admonition="admonition",t.attention="attention",t.caution="caution",t.danger="danger",t.error="error",t.important="important",t.hint="hint",t.note="note",t.seealso="seealso",t.tip="tip",t.warning="warning"})(It||(It={}));function $8(t){var e;let i=(e=t?.split(" ").map(r=>r.trim().toLowerCase()).filter(r=>!!r))!==null&&e!==void 0?e:[];return[...new Set(i)]}function W8({kind:t,classes:e=[]}){return t===It.note||e.includes("note")?{kind:It.note,color:"blue"}:t===It.important||e.includes("important")?{kind:It.important,color:"blue"}:t===It.hint||e.includes("hint")?{kind:It.hint,color:"green"}:t===It.seealso||e.includes("seealso")?{kind:It.seealso,color:"green"}:t===It.tip||e.includes("tip")?{kind:It.tip,color:"green"}:t===It.attention||e.includes("attention")?{kind:It.attention,color:"yellow"}:t===It.warning||e.includes("warning")?{kind:It.warning,color:"yellow"}:t===It.caution||e.includes("caution")?{kind:It.caution,color:"yellow"}:t===It.danger||e.includes("danger")?{kind:It.danger,color:"red"}:t===It.error||e.includes("error")?{kind:It.error,color:"red"}:{kind:It.note,color:"blue"}}var qL="inline-block pl-2 mr-2 self-center flex-none";function q8({kind:t,className:e}){let r={width:"2rem",height:"2rem",className:(0,Ia.default)(qL,e)};return t===It.note?(0,$t.jsx)(Gu,Object.assign({},r)):t===It.caution?(0,$t.jsx)(Lo,Object.assign({},r)):t===It.warning?(0,$t.jsx)(tw,Object.assign({},r)):t===It.danger?(0,$t.jsx)(ew,Object.assign({},r)):t===It.error?(0,$t.jsx)(Cm,Object.assign({},r)):t===It.attention?(0,$t.jsx)(hw,Object.assign({},r)):t===It.tip?(0,$t.jsx)(mw,Object.assign({},r)):t===It.hint?(0,$t.jsx)(dw,Object.assign({},r)):t===It.important?(0,$t.jsx)(wm,Object.assign({},r)):t===It.seealso?(0,$t.jsx)(nw,Object.assign({},r)):(0,$t.jsx)(Gu,Object.assign({},r))}var U8=({node:t,className:e})=>(0,$t.jsx)(we,{ast:t.children,className:e}),V8=({dropdown:t,className:e,children:i,open:r})=>t?(0,$t.jsx)("details",{className:e,open:r,children:i}):(0,$t.jsx)("aside",{className:e,children:i}),G8=({dropdown:t,className:e,children:i})=>t?(0,$t.jsx)("summary",{className:e,children:i}):(0,$t.jsx)("div",{className:e,children:i});function UL({title:t,kind:e,color:i,simple:r,dropdown:n,children:s,hideIcon:o,className:a,open:l}){return(0,$t.jsxs)(V8,{dropdown:n,open:l,className:(0,Ia.default)("my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900","bg-gray-50/10 dark:bg-stone-800","overflow-hidden",{"rounded border-l-4":!r,"border-l-2":r,"border-blue-500":!i||i==="blue","border-green-600":i==="green","border-amber-600":i==="yellow","border-red-600":i==="red"},a),children:[t&&(0,$t.jsxs)(G8,{dropdown:n,className:(0,Ia.default)("m-0 font-medium py-1 flex min-w-0",{"text-lg":!r,"text-md":r,"bg-gray-100 dark:bg-stone-700":r,"text-blue-600 bg-blue-50 dark:bg-slate-900":!r&&(!i||i==="blue"),"text-green-600 bg-green-50 dark:bg-slate-900":!r&&i==="green","text-amber-600 bg-amber-50 dark:bg-slate-900":!r&&i==="yellow","text-red-600 bg-red-50 dark:bg-slate-900":!r&&i==="red","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":n}),children:[!o&&(0,$t.jsx)(q8,{kind:e??It.note,className:(0,Ia.default)({"text-blue-600":!i||i==="blue","text-green-600":i==="green","text-amber-600":i==="yellow","text-red-600":i==="red"})}),(0,$t.jsx)("div",{className:(0,Ia.default)("text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":o}),children:t}),n&&(0,$t.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,$t.jsx)(xa,{width:"2rem",height:"2rem",className:(0,Ia.default)(qL,"transition-transform details-toggle")})})]}),(0,$t.jsx)("div",{className:(0,Ia.default)("px-4",{"py-1":!r,"details-body":n}),children:s})]})}var Y8=({node:t,className:e})=>{let[i,...r]=t.children,n=$8(t.class),{kind:s,color:o}=W8({kind:t.kind,classes:n}),a=n.includes("dropdown"),l=n.includes("simple"),c=t.icon===!1,u=t.open===!0,d=i?.type==="admonitionTitle";return(0,$t.jsx)(UL,{title:d?(0,$t.jsx)(we,{ast:[i]}):void 0,kind:s,color:o,dropdown:a,open:u,simple:l,hideIcon:c,className:(0,Ia.default)(n,e),children:d?(0,$t.jsx)(we,{ast:r}):(0,$t.jsx)(we,{ast:t.children})})},X8={admonition:Y8,admonitionTitle:U8},VL=X8;var ks=H(Ce(),1);var Bm=H(pt(),1);var K8="inline-block pl-2 mr-2 -translate-y-[1px]",J8=({node:t,className:e})=>(0,ks.jsx)(we,{ast:t.children,className:e});function Hl({title:t,children:e,open:i,className:r}){return(0,ks.jsxs)("details",{className:(0,Bm.default)("rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden","bg-gray-50 dark:bg-stone-800",r),open:i,children:[(0,ks.jsx)("summary",{className:(0,Bm.default)("m-0 text-lg font-medium py-1 min-h-[2em] pl-3","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]","bg-gray-100 dark:bg-slate-900"),children:(0,ks.jsxs)("span",{className:"text-neutral-900 dark:text-white",children:[(0,ks.jsx)("span",{className:"block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,ks.jsx)(xa,{width:"1.5rem",height:"1.5rem",className:(0,Bm.default)(K8,"details-toggle","transition-transform")})}),t]})}),(0,ks.jsx)("div",{className:"px-4 py-1 details-body",children:e})]})}var Z8=({node:t,className:e})=>{let[i,...r]=t.children;return(0,ks.jsx)(Hl,{title:(0,ks.jsx)(we,{ast:[i]}),open:t.open,className:(0,Bm.default)(t.class,e),children:(0,ks.jsx)(we,{ast:r})})},Q8={details:Z8,summary:J8},GL=Q8;var Xi=H(Ce(),1),ph=H(pt(),1);var eq=({node:t,className:e})=>(0,Xi.jsx)("header",{className:(0,ph.default)("py-1 pl-3 m-0 border-b border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",e),children:(0,Xi.jsx)(we,{ast:t.children})}),tq=({node:t,className:e})=>(0,Xi.jsx)("footer",{className:(0,ph.default)("py-1 pl-3 m-0 border-t border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",e),children:(0,Xi.jsx)(we,{ast:t.children})}),iq=({node:t,className:e})=>(0,Xi.jsx)("div",{className:(0,ph.default)("pt-3 font-bold group-hover:underline",e),children:(0,Xi.jsx)(we,{ast:t.children})});function rq(t){var e,i;let r={};if(!Array.isArray(t))return r;let n=[...t];return((e=n[0])===null||e===void 0?void 0:e.type)==="header"&&(r.header=n.splice(0,1)),((i=n[n.length-1])===null||i===void 0?void 0:i.type)==="footer"&&(r.footer=n.splice(-1,1)),r.body=n,r}function nq({to:t,className:e,isStatic:i,prefetch:r="intent",children:n}){let s=ys(),o=Fr();return t.startsWith("http")||i?(0,Xi.jsx)("a",{href:t,className:e,target:"_blank",rel:"noopener noreferrer",children:n}):(0,Xi.jsx)(s,{to:ar(t,o),className:e,prefetch:r,children:n})}var sq=({node:t,className:e})=>{let i=rq(t.children),r=t.url,n=t.static||!1,s=!!r,o="my-5 rounded shadow dark:shadow-neutral-800 overflow-hidden border border-gray-100 dark:border-gray-800 flex flex-col";return s?(0,Xi.jsxs)(nq,{to:r,isStatic:n,className:(0,ph.default)(o,"text-inherit hover:text-inherit","block font-normal no-underline hover:no-underline cursor-pointer group","hover:border-blue-500 dark:hover:border-blue-400",e),children:[(0,Xi.jsx)(we,{ast:i.header}),(0,Xi.jsx)("div",{className:"flex-grow px-4 py-2",children:(0,Xi.jsx)(we,{ast:i.body})}),(0,Xi.jsx)(we,{ast:i.footer})]}):(0,Xi.jsxs)("div",{className:(0,ph.default)(o,e),children:[(0,Xi.jsx)(we,{ast:i.header}),(0,Xi.jsx)("div",{className:"flex-grow px-4 py-2",children:(0,Xi.jsx)(we,{ast:i.body})}),(0,Xi.jsx)(we,{ast:i.footer})]})},oq={card:sq,cardTitle:iq,header:eq,footer:tq},YL=oq;var rv=H(Ce(),1),KL=H(pt(),1);var gh={main:["grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8","grid-cols-9","grid-cols-10","grid-cols-11","grid-cols-12"],sm:["sm:grid-cols-1","sm:grid-cols-2","sm:grid-cols-3","sm:grid-cols-4","sm:grid-cols-5","sm:grid-cols-6","sm:grid-cols-7","sm:grid-cols-8","sm:grid-cols-9","sm:grid-cols-10","sm:grid-cols-11","sm:grid-cols-12"],md:["md:grid-cols-1","md:grid-cols-2","md:grid-cols-3","md:grid-cols-4","md:grid-cols-5","md:grid-cols-6","md:grid-cols-7","md:grid-cols-8","md:grid-cols-9","md:grid-cols-10","md:grid-cols-11","md:grid-cols-12"],lg:["lg:grid-cols-1","lg:grid-cols-2","lg:grid-cols-3","lg:grid-cols-4","lg:grid-cols-5","lg:grid-cols-6","lg:grid-cols-7","lg:grid-cols-8","lg:grid-cols-9","lg:grid-cols-10","lg:grid-cols-11","lg:grid-cols-12"],xl:["xl:grid-cols-1","xl:grid-cols-2","xl:grid-cols-3","xl:grid-cols-4","xl:grid-cols-5","xl:grid-cols-6","xl:grid-cols-7","xl:grid-cols-8","xl:grid-cols-9","xl:grid-cols-10","xl:grid-cols-11","xl:grid-cols-12"]},XL=3;function ed(t,e){var i;let r=Number(e);return!e||Number.isNaN(r)?ed(t,XL):(i=t[r-1])!==null&&i!==void 0?i:t[XL]}function aq(t){return!t||t.length<=1?ed(gh.main,t?.[0]):t.length!==4?ed(gh.main,t[0]):[ed(gh.main,t[0]),ed(gh.md,t[1]),ed(gh.lg,t[2]),ed(gh.xl,t[3])].join(" ")}function lq({columns:t,children:e,className:i}){let r=aq(t);return(0,rv.jsx)("div",{className:(0,KL.default)("myst-grid grid my-5",r,"gap-4",i),children:e})}var cq=({node:t,className:e})=>(0,rv.jsx)(lq,{columns:t.columns,className:e,children:(0,rv.jsx)(we,{ast:t.children})}),dq={grid:cq},JL=dq;var In=H(Ce(),1),QL=H(pt(),1);var nv=H(Ce(),1);var ZL=H(pt(),1);function io({value:t,message:e,className:i}){return(0,nv.jsxs)("span",{className:(0,ZL.default)("text-yellow-600",i),title:e||t,children:[(0,nv.jsx)(Lo,{width:"1rem",height:"1rem",className:"inline mr-1"}),t]})}function uq(){var t;let e=va();return!!(!((t=e?.options)===null||t===void 0)&&t.numbered_references)}function hq({html:t}){return(0,In.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",dangerouslySetInnerHTML:{__html:t||""}})}var fq=({node:t,className:e})=>{var i,r;let n=(r=(i=t.children)===null||i===void 0?void 0:i.every(s=>s.type==="cite"))!==null&&r!==void 0?r:!1;return(0,In.jsx)("span",{className:(0,QL.default)({"cite-group":n,"xref-group":!n,narrative:t.kind==="narrative",parenthetical:t.kind==="parenthetical"},e),children:(0,In.jsx)(we,{ast:t.children})})},mq=({label:t,error:e,children:i,className:r})=>{var n,s;let o=Ro();if(!t)return(0,In.jsx)(io,{value:"cite (no label)",message:"Citation Has No Label",className:r});let{html:a,doi:l,url:c}=(s=(n=o?.cite)===null||n===void 0?void 0:n.data[t])!==null&&s!==void 0?s:{};if(e)return(0,In.jsx)(io,{value:t,message:"Citation Not Found",className:r});let u=l?Vk.buildUrl(l):c;return(0,In.jsx)(cr,{openDelay:300,card:(0,In.jsx)(hq,{html:a}),children:(0,In.jsxs)("cite",{className:r,children:[u&&(0,In.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",className:"hover-link",children:i}),!u&&(0,In.jsx)("span",{className:"hover-link",children:i})]})})},pq=({node:t,className:e})=>{let i=uq();return(0,In.jsx)(mq,{label:t.label,error:t.error,className:e,children:i&&t.kind==="parenthetical"?t.enumerator:(0,In.jsx)(we,{ast:t.children})})},gq={citeGroup:fq,cite:pq},eN=gq;var zo=H(Ce(),1);function _q({identifier:t}){var e,i;let r=Ro(),n=(i=(e=r?.footnotes)===null||e===void 0?void 0:e[t])!==null&&i!==void 0?i:Uk(`footnoteDefinition[identifier=${t}]`,r?.article);return(0,zo.jsx)(x_,{children:(0,zo.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] px-3 text-sm",children:(0,zo.jsx)(we,{ast:n?.children})})})}var vq=({node:t,className:e})=>{var i,r;return(0,zo.jsx)(cr,{openDelay:0,card:(0,zo.jsx)(_q,{identifier:t.identifier}),children:(0,zo.jsx)("span",{id:`fnref-${t.key}`,className:e,children:(0,zo.jsx)("sup",{className:"hover-link",children:(0,zo.jsxs)(oi,{id:`fn-${t.identifier}`,title:"Link to Footnote",scrollBehavior:"instant",canSelectText:!0,children:["[",(r=(i=t.enumerator)!==null&&i!==void 0?i:t.number)!==null&&r!==void 0?r:t.identifier,"]"]})})})})},bq={footnoteReference:vq,footnoteDefinition:()=>null},tN=bq;var an=H(Ce(),1);function iN(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}function rN(t,e){if(t==null)return{};var i,r,n=iN(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}m$();function nN(t){if(Array.isArray(t))return aT(t)}function sN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}p$();function oN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aN(t){return nN(t)||sN(t)||lT(t)||oN()}qy();var jl=H(be());nT();qy();var dN=H(be());function lN(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function _h(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(i),!0).forEach(function(r){xs(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):lN(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function xq(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var uC={};function yq(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return uC[e]||(uC[e]=xq(t)),uC[e]}function wq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=t.filter(function(s){return s!=="token"}),n=yq(r);return n.reduce(function(s,o){return _h(_h({},s),i[o])},e)}function cN(t){return t.join(" ")}function Cq(t,e){var i=0;return function(r){return i+=1,r.map(function(n,s){return sv({node:n,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(i,"-").concat(s)})})}}function sv(t){var e=t.node,i=t.stylesheet,r=t.style,n=r===void 0?{}:r,s=t.useInlineStyles,o=t.key,a=e.properties,l=e.type,c=e.tagName,u=e.value;if(l==="text")return u;if(c){var d=Cq(i,s),f;if(!s)f=_h(_h({},a),{},{className:cN(a.className)});else{var h=Object.keys(i).reduce(function(x,y){return y.split(".").forEach(function(C){x.includes(C)||x.push(C)}),x},[]),m=a.className&&a.className.includes("token")?["token"]:[],p=a.className&&m.concat(a.className.filter(function(x){return!h.includes(x)}));f=_h(_h({},a),{},{className:cN(p)||void 0,style:wq(a.className,Object.assign({},a.style,n),i)})}var _=d(e.children);return dN.default.createElement(c,f_({key:o},f),_)}}var ov=function(t,e){var i=t.listLanguages();return i.indexOf(e)!==-1};var Sq=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function uN(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Po(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(i),!0).forEach(function(r){xs(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):uN(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var Eq=/\n/g;function Iq(t){return t.match(Eq)}function Mq(t){var e=t.lines,i=t.startingLineNumber,r=t.style;return e.map(function(n,s){var o=s+i;return jl.default.createElement("span",{key:"line-".concat(s),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(o):r},"".concat(o,`
`))})}function kq(t){var e=t.codeString,i=t.codeStyle,r=t.containerStyle,n=r===void 0?{float:"left",paddingRight:"10px"}:r,s=t.numberStyle,o=s===void 0?{}:s,a=t.startingLineNumber;return jl.default.createElement("code",{style:Object.assign({},i,n)},Mq({lines:e.replace(/\n$/,"").split(`
`),style:o,startingLineNumber:a}))}function Tq(t){return"".concat(t.toString().length,".25em")}function hN(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function fN(t,e,i){var r={display:"inline-block",minWidth:Tq(i),paddingRight:"1em",textAlign:"right",userSelect:"none"},n=typeof t=="function"?t(e):t,s=Po(Po({},r),n);return s}function av(t){var e=t.children,i=t.lineNumber,r=t.lineNumberStyle,n=t.largestLineNumber,s=t.showInlineLineNumbers,o=t.lineProps,a=o===void 0?{}:o,l=t.className,c=l===void 0?[]:l,u=t.showLineNumbers,d=t.wrapLongLines,f=typeof a=="function"?a(i):a;if(f.className=c,i&&s){var h=fN(r,i,n);e.unshift(hN(i,h))}return d&u&&(f.style=Po(Po({},f.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:f,children:e}}function mN(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<t.length;r++){var n=t[r];if(n.type==="text")i.push(av({children:[n],className:aN(new Set(e))}));else if(n.children){var s=e.concat(n.properties.className);mN(n.children,s).forEach(function(o){return i.push(o)})}}return i}function Aq(t,e,i,r,n,s,o,a,l){var c,u=mN(t.value),d=[],f=-1,h=0;function m(M,v){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return av({children:M,lineNumber:v,lineNumberStyle:a,largestLineNumber:o,showInlineLineNumbers:n,lineProps:i,className:I,showLineNumbers:r,wrapLongLines:l})}function p(M,v){if(r&&v&&n){var I=fN(a,v,o);M.unshift(hN(v,I))}return M}function _(M,v){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||I.length>0?m(M,v,I):p(M,v)}for(var x=function(){var v=u[h],I=v.children[0].value,E=Iq(I);if(E){var T=I.split(`
`);T.forEach(function(R,P){var Y=r&&d.length+s,re={type:"text",value:"".concat(R,`
`)};if(P===0){var de=u.slice(f+1,h).concat(av({children:[re],className:v.properties.className})),te=_(de,Y);d.push(te)}else if(P===T.length-1){var G=u[h+1]&&u[h+1].children&&u[h+1].children[0],X={type:"text",value:"".concat(R)};if(G){var Z=av({children:[X],className:v.properties.className});u.splice(h+1,0,Z)}else{var ye=[X],ue=_(ye,Y,v.properties.className);d.push(ue)}}else{var xe=[re],ke=_(xe,Y,v.properties.className);d.push(ke)}}),f=h}h++};h<u.length;)x();if(f!==u.length-1){var y=u.slice(f+1,u.length);if(y&&y.length){var C=r&&d.length+s,k=_(y,C);d.push(k)}}return e?d:(c=[]).concat.apply(c,d)}function Rq(t){var e=t.rows,i=t.stylesheet,r=t.useInlineStyles;return e.map(function(n,s){return sv({node:n,stylesheet:i,useInlineStyles:r,key:"code-segement".concat(s)})})}function pN(t){return t&&typeof t.highlightAuto<"u"}function Lq(t){var e=t.astGenerator,i=t.language,r=t.code,n=t.defaultCodeValue;if(pN(e)){var s=ov(e,i);return i==="text"?{value:n,language:"text"}:s?e.highlight(i,r):e.highlightAuto(r)}try{return i&&i!=="text"?{value:e.highlight(r,i)}:{value:n}}catch{return{value:n}}}function gN(t,e){return function(r){var n=r.language,s=r.children,o=r.style,a=o===void 0?e:o,l=r.customStyle,c=l===void 0?{}:l,u=r.codeTagProps,d=u===void 0?{className:n?"language-".concat(n):void 0,style:Po(Po({},a['code[class*="language-"]']),a['code[class*="language-'.concat(n,'"]')])}:u,f=r.useInlineStyles,h=f===void 0?!0:f,m=r.showLineNumbers,p=m===void 0?!1:m,_=r.showInlineLineNumbers,x=_===void 0?!0:_,y=r.startingLineNumber,C=y===void 0?1:y,k=r.lineNumberContainerStyle,M=r.lineNumberStyle,v=M===void 0?{}:M,I=r.wrapLines,E=r.wrapLongLines,T=E===void 0?!1:E,R=r.lineProps,P=R===void 0?{}:R,Y=r.renderer,re=r.PreTag,de=re===void 0?"pre":re,te=r.CodeTag,G=te===void 0?"code":te,X=r.code,Z=X===void 0?(Array.isArray(s)?s[0]:s)||"":X,ye=r.astGenerator,ue=rN(r,Sq);ye=ye||t;var xe=p?jl.default.createElement(kq,{containerStyle:k,codeStyle:d.style||{},numberStyle:v,startingLineNumber:C,codeString:Z}):null,ke=a.hljs||a['pre[class*="language-"]']||{backgroundColor:"#fff"},We=pN(ye)?"hljs":"prismjs",Xe=h?Object.assign({},ue,{style:Object.assign({},ke,c)}):Object.assign({},ue,{className:ue.className?"".concat(We," ").concat(ue.className):We,style:Object.assign({},c)});if(T?d.style=Po(Po({},d.style),{},{whiteSpace:"pre-wrap"}):d.style=Po(Po({},d.style),{},{whiteSpace:"pre"}),!ye)return jl.default.createElement(de,Xe,xe,jl.default.createElement(G,d,Z));(I===void 0&&Y||T)&&(I=!0),Y=Y||Rq;var Ze=[{type:"text",value:Z}],st=Lq({astGenerator:ye,language:n,code:Z,defaultCodeValue:Ze});st.language===null&&(st.value=Ze);var vt=st.value.length+C,Dt=Aq(st,I,P,p,x,C,vt,v,T);return jl.default.createElement(de,Xe,jl.default.createElement(G,d,!x&&xe,Y({rows:Dt,stylesheet:a,useInlineStyles:h})))}}function _N(t,e,i,r,n,s,o){try{var a=t[s](o),l=a.value}catch(c){return void i(c)}a.done?e(l):Promise.resolve(l).then(r,n)}function lv(t){return function(){var e=this,i=arguments;return new Promise(function(r,n){var s=t.apply(e,i);function o(l){_N(s,r,n,o,a,"next",l)}function a(l){_N(s,r,n,o,a,"throw",l)}o(void 0)})}}nT();function vN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}f$();function bN(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oT(r.key),r)}}function xN(t,e,i){return e&&bN(t.prototype,e),i&&bN(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},cv(t,e)}function yN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}h$();function wN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CN(t,e){if(e&&(sT(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wN(t)}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hm(t)}qy();var mC=H(fC()),pC=H(be());function Nq(t){var e=Dq();return function(){var r=Hm(t),n;if(e){var s=Hm(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return CN(this,n)}}function Dq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TN=function(t){var e=t.loader,i=t.isLanguageRegistered,r=t.registerLanguage,n=t.languageLoaders,s=t.noAsyncLoadingLanguages,o=function(a){yN(c,a);var l=Nq(c);function c(){return vN(this,c),l.apply(this,arguments)}return xN(c,[{key:"componentDidUpdate",value:function(){!c.isRegistered(this.props.language)&&n&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var d=this;c.astGeneratorPromise||c.loadAstGenerator(),c.astGenerator||c.astGeneratorPromise.then(function(){d.forceUpdate()}),!c.isRegistered(this.props.language)&&n&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var d=this,f=this.props.language;f!=="text"&&c.loadLanguage(f).then(function(){return d.forceUpdate()}).catch(function(){})}},{key:"normalizeLanguage",value:function(d){return c.isSupportedLanguage(d)?d:"text"}},{key:"render",value:function(){return pC.default.createElement(c.highlightInstance,f_({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:c.astGenerator}))}}],[{key:"preload",value:function(){return c.loadAstGenerator()}},{key:"loadLanguage",value:function(){var u=lv(mC.default.mark(function f(h){var m;return mC.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(m=n[h],typeof m!="function"){_.next=5;break}return _.abrupt("return",m(c.registerLanguage));case 5:throw new Error("Language ".concat(h," not supported"));case 6:case"end":return _.stop()}},f)}));function d(f){return u.apply(this,arguments)}return d}()},{key:"isSupportedLanguage",value:function(d){return c.isRegistered(d)||typeof n[d]=="function"}},{key:"loadAstGenerator",value:function(){return c.astGeneratorPromise=e().then(function(d){c.astGenerator=d,r&&c.languages.forEach(function(f,h){return r(d,h,f)})}),c.astGeneratorPromise}}]),c}(pC.default.PureComponent);return xs(o,"astGenerator",null),xs(o,"highlightInstance",gN(null,{})),xs(o,"astGeneratorPromise",null),xs(o,"languages",new Map),xs(o,"supportedLanguages",t.supportedLanguages||Object.keys(n||{})),xs(o,"isRegistered",function(a){if(s)return!0;if(!r)throw new Error("Current syntax highlighter doesn't support registration of languages");return o.astGenerator?i(o.astGenerator,a):o.languages.has(a)}),xs(o,"registerLanguage",function(a,l){if(!r)throw new Error("Current syntax highlighter doesn't support registration of languages");if(o.astGenerator)return r(o.astGenerator,a,l);o.languages.set(a,l)}),o};var gC=H(fC()),Q=function(t,e){return function(){var i=lv(gC.default.mark(function r(n){var s;return gC.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:s=a.sent,n(t,s.default||s);case 4:case"end":return a.stop()}},r)}));return function(r){return i.apply(this,arguments)}}()};var AN={oneC:Q("oneC",function(){return import("/myst_assets_folder/_shared/1c-QCJURFDQ.js")}),abnf:Q("abnf",function(){return import("/myst_assets_folder/_shared/abnf-PQCNHTPL.js")}),accesslog:Q("accesslog",function(){return import("/myst_assets_folder/_shared/accesslog-I4JGQ5OS.js")}),actionscript:Q("actionscript",function(){return import("/myst_assets_folder/_shared/actionscript-A3ONVML4.js")}),ada:Q("ada",function(){return import("/myst_assets_folder/_shared/ada-PBR2HL6T.js")}),angelscript:Q("angelscript",function(){return import("/myst_assets_folder/_shared/angelscript-NFDQAYCG.js")}),apache:Q("apache",function(){return import("/myst_assets_folder/_shared/apache-BI3VH43P.js")}),applescript:Q("applescript",function(){return import("/myst_assets_folder/_shared/applescript-JR5W3M4D.js")}),arcade:Q("arcade",function(){return import("/myst_assets_folder/_shared/arcade-SPFWTANU.js")}),arduino:Q("arduino",function(){return import("/myst_assets_folder/_shared/arduino-HV7RJAK4.js")}),armasm:Q("armasm",function(){return import("/myst_assets_folder/_shared/armasm-MWSNZ5YU.js")}),asciidoc:Q("asciidoc",function(){return import("/myst_assets_folder/_shared/asciidoc-BETGN7FP.js")}),aspectj:Q("aspectj",function(){return import("/myst_assets_folder/_shared/aspectj-KYKTWDSA.js")}),autohotkey:Q("autohotkey",function(){return import("/myst_assets_folder/_shared/autohotkey-RJX5UP4I.js")}),autoit:Q("autoit",function(){return import("/myst_assets_folder/_shared/autoit-M6CLMQEH.js")}),avrasm:Q("avrasm",function(){return import("/myst_assets_folder/_shared/avrasm-K2XCNDO2.js")}),awk:Q("awk",function(){return import("/myst_assets_folder/_shared/awk-4UVS3B64.js")}),axapta:Q("axapta",function(){return import("/myst_assets_folder/_shared/axapta-RJRJJ5R5.js")}),bash:Q("bash",function(){return import("/myst_assets_folder/_shared/bash-4IR6ZH2B.js")}),basic:Q("basic",function(){return import("/myst_assets_folder/_shared/basic-2EOIPALO.js")}),bnf:Q("bnf",function(){return import("/myst_assets_folder/_shared/bnf-ZHFXFVMQ.js")}),brainfuck:Q("brainfuck",function(){return import("/myst_assets_folder/_shared/brainfuck-5PYYJX3Z.js")}),cLike:Q("cLike",function(){return import("/myst_assets_folder/_shared/c-like-VE3ZJTH5.js")}),c:Q("c",function(){return import("/myst_assets_folder/_shared/c-2JHJ4G3E.js")}),cal:Q("cal",function(){return import("/myst_assets_folder/_shared/cal-E656EXAV.js")}),capnproto:Q("capnproto",function(){return import("/myst_assets_folder/_shared/capnproto-XSIH2C3U.js")}),ceylon:Q("ceylon",function(){return import("/myst_assets_folder/_shared/ceylon-ENPHMXAF.js")}),clean:Q("clean",function(){return import("/myst_assets_folder/_shared/clean-WCKWBMTO.js")}),clojureRepl:Q("clojureRepl",function(){return import("/myst_assets_folder/_shared/clojure-repl-ATLR2NTE.js")}),clojure:Q("clojure",function(){return import("/myst_assets_folder/_shared/clojure-DNEUDO3L.js")}),cmake:Q("cmake",function(){return import("/myst_assets_folder/_shared/cmake-FVFQ2CRF.js")}),coffeescript:Q("coffeescript",function(){return import("/myst_assets_folder/_shared/coffeescript-OGE3NFHW.js")}),coq:Q("coq",function(){return import("/myst_assets_folder/_shared/coq-PJ7OLQCC.js")}),cos:Q("cos",function(){return import("/myst_assets_folder/_shared/cos-OPDRJDLH.js")}),cpp:Q("cpp",function(){return import("/myst_assets_folder/_shared/cpp-M3QW7RR4.js")}),crmsh:Q("crmsh",function(){return import("/myst_assets_folder/_shared/crmsh-DNNXXJFB.js")}),crystal:Q("crystal",function(){return import("/myst_assets_folder/_shared/crystal-PHC5NGMZ.js")}),csharp:Q("csharp",function(){return import("/myst_assets_folder/_shared/csharp-DNHFOILV.js")}),csp:Q("csp",function(){return import("/myst_assets_folder/_shared/csp-52PGII7Y.js")}),css:Q("css",function(){return import("/myst_assets_folder/_shared/css-BKRQHQZV.js")}),d:Q("d",function(){return import("/myst_assets_folder/_shared/d-FOE5MLTR.js")}),dart:Q("dart",function(){return import("/myst_assets_folder/_shared/dart-LHZFNYRP.js")}),delphi:Q("delphi",function(){return import("/myst_assets_folder/_shared/delphi-RJPENEOC.js")}),diff:Q("diff",function(){return import("/myst_assets_folder/_shared/diff-K666VW7J.js")}),django:Q("django",function(){return import("/myst_assets_folder/_shared/django-6SQJUEW7.js")}),dns:Q("dns",function(){return import("/myst_assets_folder/_shared/dns-YNMRS53M.js")}),dockerfile:Q("dockerfile",function(){return import("/myst_assets_folder/_shared/dockerfile-H4TH4KEQ.js")}),dos:Q("dos",function(){return import("/myst_assets_folder/_shared/dos-DCHL2WJT.js")}),dsconfig:Q("dsconfig",function(){return import("/myst_assets_folder/_shared/dsconfig-7JO2MINJ.js")}),dts:Q("dts",function(){return import("/myst_assets_folder/_shared/dts-FVV4QA3J.js")}),dust:Q("dust",function(){return import("/myst_assets_folder/_shared/dust-F2C4BSF3.js")}),ebnf:Q("ebnf",function(){return import("/myst_assets_folder/_shared/ebnf-4CBBRZGR.js")}),elixir:Q("elixir",function(){return import("/myst_assets_folder/_shared/elixir-YQNVI5VB.js")}),elm:Q("elm",function(){return import("/myst_assets_folder/_shared/elm-VIBFUIMG.js")}),erb:Q("erb",function(){return import("/myst_assets_folder/_shared/erb-PM3QZFNX.js")}),erlangRepl:Q("erlangRepl",function(){return import("/myst_assets_folder/_shared/erlang-repl-OW3GXX7D.js")}),erlang:Q("erlang",function(){return import("/myst_assets_folder/_shared/erlang-JGUZIUYB.js")}),excel:Q("excel",function(){return import("/myst_assets_folder/_shared/excel-OUSZRBRQ.js")}),fix:Q("fix",function(){return import("/myst_assets_folder/_shared/fix-3ROGAB5B.js")}),flix:Q("flix",function(){return import("/myst_assets_folder/_shared/flix-GE2HM6SY.js")}),fortran:Q("fortran",function(){return import("/myst_assets_folder/_shared/fortran-B5ZFNKNA.js")}),fsharp:Q("fsharp",function(){return import("/myst_assets_folder/_shared/fsharp-PDOUS2AX.js")}),gams:Q("gams",function(){return import("/myst_assets_folder/_shared/gams-KMIZYEP2.js")}),gauss:Q("gauss",function(){return import("/myst_assets_folder/_shared/gauss-QNHBK2Q3.js")}),gcode:Q("gcode",function(){return import("/myst_assets_folder/_shared/gcode-HPMO7RH5.js")}),gherkin:Q("gherkin",function(){return import("/myst_assets_folder/_shared/gherkin-UWZZXYGA.js")}),glsl:Q("glsl",function(){return import("/myst_assets_folder/_shared/glsl-FSJTWTJC.js")}),gml:Q("gml",function(){return import("/myst_assets_folder/_shared/gml-D2JPU6OT.js")}),go:Q("go",function(){return import("/myst_assets_folder/_shared/go-K3RXS5Y7.js")}),golo:Q("golo",function(){return import("/myst_assets_folder/_shared/golo-7QFPKLPA.js")}),gradle:Q("gradle",function(){return import("/myst_assets_folder/_shared/gradle-RMCG6OJT.js")}),groovy:Q("groovy",function(){return import("/myst_assets_folder/_shared/groovy-FTJHNFQF.js")}),haml:Q("haml",function(){return import("/myst_assets_folder/_shared/haml-3PRJVRLM.js")}),handlebars:Q("handlebars",function(){return import("/myst_assets_folder/_shared/handlebars-YIWNDP43.js")}),haskell:Q("haskell",function(){return import("/myst_assets_folder/_shared/haskell-DF2AK5D2.js")}),haxe:Q("haxe",function(){return import("/myst_assets_folder/_shared/haxe-ZUBG3YYE.js")}),hsp:Q("hsp",function(){return import("/myst_assets_folder/_shared/hsp-LKHY4SFF.js")}),htmlbars:Q("htmlbars",function(){return import("/myst_assets_folder/_shared/htmlbars-TP5ILRIE.js")}),http:Q("http",function(){return import("/myst_assets_folder/_shared/http-J3C52ENR.js")}),hy:Q("hy",function(){return import("/myst_assets_folder/_shared/hy-YA3EA4PJ.js")}),inform7:Q("inform7",function(){return import("/myst_assets_folder/_shared/inform7-RVXALKFF.js")}),ini:Q("ini",function(){return import("/myst_assets_folder/_shared/ini-5JRRXDOM.js")}),irpf90:Q("irpf90",function(){return import("/myst_assets_folder/_shared/irpf90-FEJETARD.js")}),isbl:Q("isbl",function(){return import("/myst_assets_folder/_shared/isbl-E4PBUNIF.js")}),java:Q("java",function(){return import("/myst_assets_folder/_shared/java-DTM45OAL.js")}),javascript:Q("javascript",function(){return import("/myst_assets_folder/_shared/javascript-ZY6BOZRZ.js")}),jbossCli:Q("jbossCli",function(){return import("/myst_assets_folder/_shared/jboss-cli-2P3WGFVU.js")}),json:Q("json",function(){return import("/myst_assets_folder/_shared/json-JGZK2F2W.js")}),juliaRepl:Q("juliaRepl",function(){return import("/myst_assets_folder/_shared/julia-repl-LYA7FRTO.js")}),julia:Q("julia",function(){return import("/myst_assets_folder/_shared/julia-26CJKAAL.js")}),kotlin:Q("kotlin",function(){return import("/myst_assets_folder/_shared/kotlin-PBEZXJVZ.js")}),lasso:Q("lasso",function(){return import("/myst_assets_folder/_shared/lasso-NBDTQVZI.js")}),latex:Q("latex",function(){return import("/myst_assets_folder/_shared/latex-UJTG3ORN.js")}),ldif:Q("ldif",function(){return import("/myst_assets_folder/_shared/ldif-I74L7NVR.js")}),leaf:Q("leaf",function(){return import("/myst_assets_folder/_shared/leaf-AO5JIZ37.js")}),less:Q("less",function(){return import("/myst_assets_folder/_shared/less-BPS5EEHY.js")}),lisp:Q("lisp",function(){return import("/myst_assets_folder/_shared/lisp-O7RTP3TC.js")}),livecodeserver:Q("livecodeserver",function(){return import("/myst_assets_folder/_shared/livecodeserver-XQ4A3KSH.js")}),livescript:Q("livescript",function(){return import("/myst_assets_folder/_shared/livescript-2PCOAE3X.js")}),llvm:Q("llvm",function(){return import("/myst_assets_folder/_shared/llvm-HXNQEVRP.js")}),lsl:Q("lsl",function(){return import("/myst_assets_folder/_shared/lsl-EU7VOL3U.js")}),lua:Q("lua",function(){return import("/myst_assets_folder/_shared/lua-D7FH4AI3.js")}),makefile:Q("makefile",function(){return import("/myst_assets_folder/_shared/makefile-QQQQHD7T.js")}),markdown:Q("markdown",function(){return import("/myst_assets_folder/_shared/markdown-LVFDBZFC.js")}),mathematica:Q("mathematica",function(){return import("/myst_assets_folder/_shared/mathematica-CCSIG7ZX.js")}),matlab:Q("matlab",function(){return import("/myst_assets_folder/_shared/matlab-7SVXZ2TD.js")}),maxima:Q("maxima",function(){return import("/myst_assets_folder/_shared/maxima-LLSL3ILN.js")}),mel:Q("mel",function(){return import("/myst_assets_folder/_shared/mel-NKZILSPI.js")}),mercury:Q("mercury",function(){return import("/myst_assets_folder/_shared/mercury-APZM4AS6.js")}),mipsasm:Q("mipsasm",function(){return import("/myst_assets_folder/_shared/mipsasm-WF7BFCDA.js")}),mizar:Q("mizar",function(){return import("/myst_assets_folder/_shared/mizar-WHNIO72A.js")}),mojolicious:Q("mojolicious",function(){return import("/myst_assets_folder/_shared/mojolicious-PB6TG2HR.js")}),monkey:Q("monkey",function(){return import("/myst_assets_folder/_shared/monkey-F5UWJ5WL.js")}),moonscript:Q("moonscript",function(){return import("/myst_assets_folder/_shared/moonscript-6TAHSONA.js")}),n1ql:Q("n1ql",function(){return import("/myst_assets_folder/_shared/n1ql-HPB4CAU3.js")}),nginx:Q("nginx",function(){return import("/myst_assets_folder/_shared/nginx-IL2ZR7RC.js")}),nim:Q("nim",function(){return import("/myst_assets_folder/_shared/nim-UYBXWBHO.js")}),nix:Q("nix",function(){return import("/myst_assets_folder/_shared/nix-4EE2RI7L.js")}),nodeRepl:Q("nodeRepl",function(){return import("/myst_assets_folder/_shared/node-repl-KD3YVRWN.js")}),nsis:Q("nsis",function(){return import("/myst_assets_folder/_shared/nsis-K54FGC7N.js")}),objectivec:Q("objectivec",function(){return import("/myst_assets_folder/_shared/objectivec-YA5XZJNA.js")}),ocaml:Q("ocaml",function(){return import("/myst_assets_folder/_shared/ocaml-C4ILNM7Q.js")}),openscad:Q("openscad",function(){return import("/myst_assets_folder/_shared/openscad-6XVL3HFE.js")}),oxygene:Q("oxygene",function(){return import("/myst_assets_folder/_shared/oxygene-7BBFJWPL.js")}),parser3:Q("parser3",function(){return import("/myst_assets_folder/_shared/parser3-XGLUTWGT.js")}),perl:Q("perl",function(){return import("/myst_assets_folder/_shared/perl-J2XZMS27.js")}),pf:Q("pf",function(){return import("/myst_assets_folder/_shared/pf-ULKLR24W.js")}),pgsql:Q("pgsql",function(){return import("/myst_assets_folder/_shared/pgsql-BK3JM5GW.js")}),phpTemplate:Q("phpTemplate",function(){return import("/myst_assets_folder/_shared/php-template-MGNGMIMU.js")}),php:Q("php",function(){return import("/myst_assets_folder/_shared/php-PPPP66RX.js")}),plaintext:Q("plaintext",function(){return import("/myst_assets_folder/_shared/plaintext-YSNIMJBB.js")}),pony:Q("pony",function(){return import("/myst_assets_folder/_shared/pony-SLIOKEHI.js")}),powershell:Q("powershell",function(){return import("/myst_assets_folder/_shared/powershell-PJH5SFQF.js")}),processing:Q("processing",function(){return import("/myst_assets_folder/_shared/processing-ZUYQRZEG.js")}),profile:Q("profile",function(){return import("/myst_assets_folder/_shared/profile-QR7TN22P.js")}),prolog:Q("prolog",function(){return import("/myst_assets_folder/_shared/prolog-O5UECWJF.js")}),properties:Q("properties",function(){return import("/myst_assets_folder/_shared/properties-2YFTERO2.js")}),protobuf:Q("protobuf",function(){return import("/myst_assets_folder/_shared/protobuf-XAWSCDJU.js")}),puppet:Q("puppet",function(){return import("/myst_assets_folder/_shared/puppet-R2T74JXH.js")}),purebasic:Q("purebasic",function(){return import("/myst_assets_folder/_shared/purebasic-4MI3J7GN.js")}),pythonRepl:Q("pythonRepl",function(){return import("/myst_assets_folder/_shared/python-repl-CVZFDX36.js")}),python:Q("python",function(){return import("/myst_assets_folder/_shared/python-JKQOQPQJ.js")}),q:Q("q",function(){return import("/myst_assets_folder/_shared/q-WAZUCUBH.js")}),qml:Q("qml",function(){return import("/myst_assets_folder/_shared/qml-3P4YO7WN.js")}),r:Q("r",function(){return import("/myst_assets_folder/_shared/r-RAWO2DUZ.js")}),reasonml:Q("reasonml",function(){return import("/myst_assets_folder/_shared/reasonml-MJHEN4AX.js")}),rib:Q("rib",function(){return import("/myst_assets_folder/_shared/rib-WQK6JWIN.js")}),roboconf:Q("roboconf",function(){return import("/myst_assets_folder/_shared/roboconf-JQLVT665.js")}),routeros:Q("routeros",function(){return import("/myst_assets_folder/_shared/routeros-UJPC3XLO.js")}),rsl:Q("rsl",function(){return import("/myst_assets_folder/_shared/rsl-PENSR6QB.js")}),ruby:Q("ruby",function(){return import("/myst_assets_folder/_shared/ruby-JP7EJBN5.js")}),ruleslanguage:Q("ruleslanguage",function(){return import("/myst_assets_folder/_shared/ruleslanguage-PYFLTK2W.js")}),rust:Q("rust",function(){return import("/myst_assets_folder/_shared/rust-K6KR6D2A.js")}),sas:Q("sas",function(){return import("/myst_assets_folder/_shared/sas-2TLEBVRM.js")}),scala:Q("scala",function(){return import("/myst_assets_folder/_shared/scala-HJFZLFVE.js")}),scheme:Q("scheme",function(){return import("/myst_assets_folder/_shared/scheme-7QTLLYED.js")}),scilab:Q("scilab",function(){return import("/myst_assets_folder/_shared/scilab-MX3BFMM5.js")}),scss:Q("scss",function(){return import("/myst_assets_folder/_shared/scss-HTUU6GCT.js")}),shell:Q("shell",function(){return import("/myst_assets_folder/_shared/shell-UB2GP62E.js")}),smali:Q("smali",function(){return import("/myst_assets_folder/_shared/smali-K5O4NN4R.js")}),smalltalk:Q("smalltalk",function(){return import("/myst_assets_folder/_shared/smalltalk-7A2O2LO2.js")}),sml:Q("sml",function(){return import("/myst_assets_folder/_shared/sml-UBW7V7U3.js")}),sqf:Q("sqf",function(){return import("/myst_assets_folder/_shared/sqf-VOTDAMEY.js")}),sql:Q("sql",function(){return import("/myst_assets_folder/_shared/sql-JVTZAKOM.js")}),sqlMore:Q("sqlMore",function(){return import("/myst_assets_folder/_shared/sql_more-RPWJYQ6K.js")}),stan:Q("stan",function(){return import("/myst_assets_folder/_shared/stan-POF2RNSN.js")}),stata:Q("stata",function(){return import("/myst_assets_folder/_shared/stata-SXX454CD.js")}),step21:Q("step21",function(){return import("/myst_assets_folder/_shared/step21-7PCNCWT5.js")}),stylus:Q("stylus",function(){return import("/myst_assets_folder/_shared/stylus-73TIE732.js")}),subunit:Q("subunit",function(){return import("/myst_assets_folder/_shared/subunit-TWIEV7CE.js")}),swift:Q("swift",function(){return import("/myst_assets_folder/_shared/swift-PREMQNLL.js")}),taggerscript:Q("taggerscript",function(){return import("/myst_assets_folder/_shared/taggerscript-M6H3C4CQ.js")}),tap:Q("tap",function(){return import("/myst_assets_folder/_shared/tap-ZDRVKPVH.js")}),tcl:Q("tcl",function(){return import("/myst_assets_folder/_shared/tcl-7B4XWFRB.js")}),thrift:Q("thrift",function(){return import("/myst_assets_folder/_shared/thrift-AWDNG4NX.js")}),tp:Q("tp",function(){return import("/myst_assets_folder/_shared/tp-LJU4HNQE.js")}),twig:Q("twig",function(){return import("/myst_assets_folder/_shared/twig-VMATTLNY.js")}),typescript:Q("typescript",function(){return import("/myst_assets_folder/_shared/typescript-DZQ2Q57N.js")}),vala:Q("vala",function(){return import("/myst_assets_folder/_shared/vala-2ZGDQCOP.js")}),vbnet:Q("vbnet",function(){return import("/myst_assets_folder/_shared/vbnet-XJN5RXC2.js")}),vbscriptHtml:Q("vbscriptHtml",function(){return import("/myst_assets_folder/_shared/vbscript-html-6HIMNRZ7.js")}),vbscript:Q("vbscript",function(){return import("/myst_assets_folder/_shared/vbscript-B742N7FI.js")}),verilog:Q("verilog",function(){return import("/myst_assets_folder/_shared/verilog-USBTQKRL.js")}),vhdl:Q("vhdl",function(){return import("/myst_assets_folder/_shared/vhdl-V6VFQ4SB.js")}),vim:Q("vim",function(){return import("/myst_assets_folder/_shared/vim-KUNUOF7X.js")}),x86asm:Q("x86asm",function(){return import("/myst_assets_folder/_shared/x86asm-TLJOU3P2.js")}),xl:Q("xl",function(){return import("/myst_assets_folder/_shared/xl-CMPDIWU3.js")}),xml:Q("xml",function(){return import("/myst_assets_folder/_shared/xml-XLNZFO5M.js")}),xquery:Q("xquery",function(){return import("/myst_assets_folder/_shared/xquery-LCFWWTLP.js")}),yaml:Q("yaml",function(){return import("/myst_assets_folder/_shared/yaml-TYWOE6JZ.js")}),zephir:Q("zephir",function(){return import("/myst_assets_folder/_shared/zephir-AOK6QL2Y.js")})};var _C=TN({loader:function(){return import("/myst_assets_folder/_shared/core-A2VZQ5DX.js").then(function(e){return e.default||e})},isLanguageRegistered:function(e,i){return!!ov(e,i)},languageLoaders:AN,registerLanguage:function(e,i,r){return e.registerLanguage(i,r)}});var jm=H(pt(),1);var RN=H(be(),1);function Oq(t){switch(t){case"html":return"xml";default:return t}}function Bo(t){let{value:e,lang:i,identifier:r,emphasizeLines:n,showLineNumbers:s,className:o,showCopy:a=!0,startingLineNumber:l=1,filename:c,shadow:u,background:d,border:f}=t,h=(0,RN.useMemo)(()=>{let m=new Set(n);return{language:Oq(i),startingLineNumber:l,showLineNumbers:s,useInlineStyles:!0,wrapLines:!0,lineNumberContainerStyle:{display:"inline-block",float:"left",minWidth:"1.25em",paddingRight:"1em",textAlign:"right",userSelect:"none",borderLeft:"4px solid transparent"},lineProps:p=>typeof p=="boolean"?{}:m.has(p)?{"data-line-number":`${p}`,"data-highlight":"true"}:{"data-line-number":`${p}`},customStyle:{backgroundColor:"unset"}}},[n]);return(0,an.jsxs)("div",{id:r,className:(0,jm.default)("relative group not-prose overflow-auto",o,{"shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm":u,"bg-stone-200/10":d,"border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800":f}),children:[c&&(0,an.jsxs)("div",{className:"flex flex-row pl-2 bg-white border-b dark:bg-slate-600 dark:border-slate-300",children:[(0,an.jsx)(Sm,{width:"16px",height:"16px",className:"self-center flex-none inline-block text-gray-500 dark:text-gray-100"}),(0,an.jsx)("div",{className:"self-center p-2 text-sm leading-3 prose text-slate-600 dark:text-white",children:c})]}),(0,an.jsx)(_C,Object.assign({},h,{className:"block p-3 hljs",children:e})),a&&(0,an.jsx)(dh,{text:e,className:(0,jm.default)("absolute right-1",{"top-[32px]":c,"top-1":!c})})]})}var zq=({node:t,className:e})=>{let i=(0,an.jsx)(Bo,{identifier:t.html_id,"data-mdast-node-type":t.type,"data-mdast-node-id":t.key,value:t.value||"",lang:t.lang,filename:t.filename,emphasizeLines:t.emphasizeLines,showLineNumbers:t.showLineNumbers,startingLineNumber:t.startingLineNumber,shadow:!0,border:t.executable,background:!t.executable,className:(0,jm.default)({hidden:t.visibility==="remove"},t.class,e)});return t.visibility==="hide"?(0,an.jsx)(Hl,{title:"Source",children:i}):i};function Pq(t){if(!t||t.length>9||!new Set([4,7,9]).has(t.length))return;let e=/^#([0-9A-Fa-f]{3,8})$/.exec(t);return e?e[1]:void 0}var Bq=({node:t,className:e})=>Pq(t.value)?(0,an.jsxs)("code",{className:(0,jm.default)("px-1 rounded bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-100",e),children:[t.value,(0,an.jsx)("span",{style:{backgroundColor:t.value},className:"inline-block w-[10px] h-[10px] rounded-full ml-1"})]}):t.children&&t.children.length>0?(0,an.jsx)("code",{className:e,children:(0,an.jsx)(we,{ast:t.children})}):(0,an.jsx)("code",{className:e,children:t.value}),Hq={code:zq,inlineCode:Bq},LN=Hq;var ro=H(Ce(),1);var DN=H(pt(),1),NN=({node:t,className:e})=>{if(t.type==="math"){if(t.error||!t.html)return(0,ro.jsxs)("pre",{title:t.message,className:e,children:[(0,ro.jsxs)("span",{className:"text-red-500",children:[(0,ro.jsx)(Lo,{width:"1rem",height:"1rem",className:"inline mr-1"}),t.message,`

`]}),t.value]});let i=t.html_id||t.identifier||t.key;return(0,ro.jsxs)("div",{id:i,className:(0,DN.default)("flex my-5 group",e),children:[(0,ro.jsx)("div",{dangerouslySetInnerHTML:{__html:t.html},className:"flex-grow overflow-x-auto overflow-y-hidden"}),t.enumerator&&(0,ro.jsx)("div",{className:"relative self-center flex-none pl-2 m-0 text-right select-none",children:(0,ro.jsxs)(oi,{id:i,kind:"Equation",className:"text-inherit hover:text-inherit",children:["(",t.enumerator,")"]})})]})}return t.error||!t.html?(0,ro.jsx)(io,{value:t.value,message:t.message,className:e}):(0,ro.jsx)("span",{dangerouslySetInnerHTML:{__html:t.html},className:e})},jq={math:NN,inlineMath:NN},ON=jq;var Fm=H(be(),1),Fq=({node:t,className:e})=>(0,Fm.createElement)("r-var",{name:t.name,value:t.value,":value":t.valueFunction,format:t.format,className:e}),$q=({node:t,className:e})=>(0,Fm.createElement)("r-display",{name:t.name,value:t.value,":value":t.valueFunction,format:t.format,className:e}),Wq=({node:t,className:e})=>(0,Fm.createElement)("r-dynamic",{name:t.name,value:t.value,":value":t.valueFunction,max:t.max,":max":t.maxFunction,min:t.min,":min":t.minFunction,step:t.step,":step":t.stepFunction,":change":t.changeFunction,format:t.format,className:e}),qq=({node:t,className:e})=>(0,Fm.createElement)("r-range",{name:t.name,value:t.value,":value":t.valueFunction,max:t.max,":max":t.maxFunction,min:t.min,":min":t.minFunction,step:t.step,":step":t.stepFunction,":change":t.changeFunction,className:e}),Uq={"r:var":Fq,"r:display":$q,"r:dynamic":Wq,"r:range":qq},zN=Uq;var uv=H(Ce(),1),PN=H(pt(),1);function vC(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return vC(Number(t.replace("%","")));if(t.endsWith("px")){let e=vC(Number(t.replace("px","")));return e?e/750:70}else if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}var Vq=({node:t,className:e})=>{let i=vC(t.width)||70;return(0,uv.jsx)("div",{id:t.label||void 0,style:{textAlign:t.align||"center"},className:(0,PN.default)("leading-[0]",t.class,e),children:(0,uv.jsx)("div",{className:"relative inline-block",style:{paddingBottom:"60%",width:`min(max(${i}%, 500px), 100%)`},children:(0,uv.jsx)("iframe",{width:"100%",height:"100%",src:t.src,allowFullScreen:!0,allow:"autoplay",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,border:"none"}})})})},Gq={iframe:Vq},BN=Gq;var Fl=H(Ce(),1),HN=H(pt(),1);function hv(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return t;if(t.endsWith("px"))return Number(t.replace("px",""));if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}function jN(t){switch(t){case"left":return{marginRight:"auto"};case"right":return{marginLeft:"auto"};case"center":return{margin:"0 auto"};default:return{}}}function Yq({className:t,id:e,src:i,urlSource:r,align:n="center",width:s,height:o}){return(0,Fl.jsx)("video",{className:t,id:e,style:Object.assign({width:hv(s),height:hv(o)},jN(n)),src:i,"data-canonical-url":r,autoPlay:!0,muted:!0,"webkit-playsinline":"true",playsInline:!0,loop:!0})}function Xq({className:t,id:e,src:i,srcOptimized:r,urlSource:n,align:s="center",alt:o,width:a,height:l}){if(i.endsWith(".mp4")||n?.endsWith(".mp4"))return(0,Fl.jsx)(Yq,{className:t,id:e,width:a,height:l,align:s,src:i,urlSource:n});let c=(0,Fl.jsx)("img",{id:e,style:Object.assign({width:hv(a),height:hv(l)},jN(s)),src:i,alt:o,"data-canonical-url":n});return r?(0,Fl.jsxs)("picture",{className:t,children:[(0,Fl.jsx)("source",{srcSet:r,type:"image/webp"}),c]}):c}var Kq=({node:t,className:e})=>(0,Fl.jsx)(Xq,{className:(0,HN.default)(t.class,e),id:t.html_id||t.identifier||t.key,src:t.url,srcOptimized:t.urlOptimized,alt:t.alt||t.title,width:t.width||void 0,height:t.height||void 0,align:t.align,urlSource:t.urlSource||t.sourceUrl}),Jq={image:Kq},FN=Jq;var gi=H(Ce(),1);var mi=H(Ce(),1);var xr=H(be(),1),cD=H(UN(),1);var Tr=H(be(),1);var $l={};Oc($l,{ERROR_REVALIDATE_EVENT:()=>a6,FOCUS_EVENT:()=>VN,MUTATE_EVENT:()=>YN,RECONNECT_EVENT:()=>GN});var VN=0,GN=1,YN=2,a6=3;var XN=Object.prototype.hasOwnProperty;function fv(t,e){var i,r;if(t===e)return!0;if(t&&e&&(i=t.constructor)===e.constructor){if(i===Date)return t.getTime()===e.getTime();if(i===RegExp)return t.toString()===e.toString();if(i===Array){if((r=t.length)===e.length)for(;r--&&fv(t[r],e[r]););return r===-1}if(!i||typeof t=="object"){r=0;for(i in t)if(XN.call(t,i)&&++r&&!XN.call(e,i)||!(i in e)||!fv(t[i],e[i]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var no=new WeakMap,Ta=()=>{},br=Ta(),bh=Object,Mt=t=>t===br,Un=t=>typeof t=="function",so=(t,e)=>({...t,...e}),bv=t=>Un(t.then),xC={},mv={},MC="undefined",xh=typeof window!=MC,gv=typeof document!=MC,JN=xh&&"Deno"in window,ZN=()=>xh&&typeof window.requestAnimationFrame!=MC,xv=(t,e)=>{let i=no.get(t);return[()=>!Mt(e)&&t.get(e)||xC,r=>{if(!Mt(e)){let n=t.get(e);e in mv||(mv[e]=n),i[5](e,so(n,r),n||xC)}},i[6],()=>!Mt(e)&&e in mv?mv[e]:!Mt(e)&&t.get(e)||xC]},CC=!0,l6=()=>CC,[SC,EC]=xh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ta,Ta],c6=()=>{let t=gv&&document.visibilityState;return Mt(t)||t!=="hidden"},d6=t=>(gv&&document.addEventListener("visibilitychange",t),SC("focus",t),()=>{gv&&document.removeEventListener("visibilitychange",t),EC("focus",t)}),u6=t=>{let e=()=>{CC=!0,t()},i=()=>{CC=!1};return SC("online",e),SC("offline",i),()=>{EC("online",e),EC("offline",i)}},QN={isOnline:l6,isVisible:c6},eD={initFocus:d6,initReconnect:u6},yv=!Tr.default.useId,td=!xh||JN,kC=t=>ZN()?window.requestAnimationFrame(t):setTimeout(t,1),yh=td?Tr.useEffect:Tr.useLayoutEffect,yC=typeof navigator<"u"&&navigator.connection,IC=!td&&yC&&(["slow-2g","2g"].includes(yC.effectiveType)||yC.saveData),pv=new WeakMap,wC=(t,e)=>bh.prototype.toString.call(t)===`[object ${e}]`,h6=0,_v=t=>{let e=typeof t,i=wC(t,"Date"),r=wC(t,"RegExp"),n=wC(t,"Object"),s,o;if(bh(t)===t&&!i&&!r){if(s=pv.get(t),s)return s;if(s=++h6+"~",pv.set(t,s),Array.isArray(t)){for(s="@",o=0;o<t.length;o++)s+=_v(t[o])+",";pv.set(t,s)}if(n){s="#";let a=bh.keys(t).sort();for(;!Mt(o=a.pop());)Mt(t[o])||(s+=o+":"+_v(t[o])+",");pv.set(t,s)}}else s=i?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},Wm=t=>{if(Un(t))try{t=t()}catch{t=""}let e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?_v(t):"",[t,e]},f6=0,$m=()=>++f6;async function wv(...t){let[e,i,r,n]=t,s=so({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{}),o=s.populateCache,a=s.rollbackOnError,l=s.optimisticData,c=f=>typeof a=="function"?a(f):a!==!1,u=s.throwOnError;if(Un(i)){let f=i,h=[],m=e.keys();for(let p of m)!/^\$(inf|sub)\$/.test(p)&&f(e.get(p)._k)&&h.push(p);return Promise.all(h.map(d))}return d(i);async function d(f){let[h]=Wm(f);if(!h)return;let[m,p]=xv(e,h),[_,x,y,C]=no.get(e),k=()=>{let re=_[h];return(Un(s.revalidate)?s.revalidate(m().data,f):s.revalidate!==!1)&&(delete y[h],delete C[h],re&&re[0])?re[0](2).then(()=>m().data):m().data};if(t.length<3)return k();let M=r,v,I=$m();x[h]=[I,0];let E=!Mt(l),T=m(),R=T.data,P=T._c,Y=Mt(P)?R:P;if(E&&(l=Un(l)?l(Y,R):l,p({data:l,_c:Y})),Un(M))try{M=M(Y)}catch(re){v=re}if(M&&bv(M))if(M=await M.catch(re=>{v=re}),I!==x[h][0]){if(v)throw v;return M}else v&&E&&c(v)&&(o=!0,p({data:Y,_c:br}));if(o&&!v)if(Un(o)){let re=o(M,Y);p({data:re,error:br,_c:br})}else p({data:M,error:br,_c:br});if(x[h][1]=$m(),Promise.resolve(k()).then(()=>{p({_c:br})}),v){if(u)throw v;return}return M}}var KN=(t,e)=>{for(let i in t)t[i][0]&&t[i][0](e)},TC=(t,e)=>{if(!no.has(t)){let i=so(eD,e),r={},n=wv.bind(br,t),s=Ta,o={},a=(u,d)=>{let f=o[u]||[];return o[u]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},l=(u,d,f)=>{t.set(u,d);let h=o[u];if(h)for(let m of h)m(d,f)},c=()=>{if(!no.has(t)&&(no.set(t,[r,{},{},{},n,l,a]),!td)){let u=i.initFocus(setTimeout.bind(br,KN.bind(br,r,0))),d=i.initReconnect(setTimeout.bind(br,KN.bind(br,r,1)));s=()=>{u&&u(),d&&d(),no.delete(t)}}};return c(),[t,n,c,s]}return[t,no.get(t)[4]]},m6=(t,e,i,r,n)=>{let s=i.errorRetryCount,o=n.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*i.errorRetryInterval;!Mt(s)&&o>s||setTimeout(r,a,n)},tD=fv,[Cv,iD]=TC(new Map),Sv=so({onLoadingSlow:Ta,onSuccess:Ta,onError:Ta,onErrorRetry:m6,onDiscarded:Ta,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:IC?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:IC?5e3:3e3,compare:tD,isPaused:()=>!1,cache:Cv,mutate:iD,fallback:{}},QN),AC=(t,e)=>{let i=so(t,e);if(e){let{use:r,fallback:n}=t,{use:s,fallback:o}=e;r&&s&&(i.use=r.concat(s)),n&&o&&(i.fallback=so(n,o))}return i},vv=(0,Tr.createContext)({}),RC=t=>{let{value:e}=t,i=(0,Tr.useContext)(vv),r=Un(e),n=(0,Tr.useMemo)(()=>r?e(i):e,[r,i,e]),s=(0,Tr.useMemo)(()=>r?n:AC(i,n),[r,i,n]),o=n&&n.provider,a=(0,Tr.useRef)(br);o&&!a.current&&(a.current=TC(o(s.cache||Cv),n));let l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),yh(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,Tr.createElement)(vv.Provider,so(t,{value:s}))};var rD="$inf$";var Ev=H(be(),1);var nD=xh&&window.__SWR_DEVTOOLS_USE__,p6=nD?window.__SWR_DEVTOOLS_USE__:[],g6=()=>{nD&&(window.__SWR_DEVTOOLS_REACT__=Ev.default)},sD=t=>Un(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],_6=()=>so(Sv,(0,Ev.useContext)(vv));var v6=t=>(e,i,r)=>t(e,i&&((...s)=>{let[o]=Wm(e),[,,,a]=no.get(Cv);if(o.startsWith(rD))return i(...s);let l=a[o];return Mt(l)?i(...s):(delete a[o],l)}),r),b6=p6.concat(v6),oD=t=>function(...i){let r=_6(),[n,s,o]=sD(i),a=AC(r,o),l=t,{use:c}=a,u=(c||[]).concat(b6);for(let d=u.length;d--;)l=u[d](l);return l(n,s||a.fetcher||null,a)},aD=(t,e,i)=>{let r=e[t]||(e[t]=[]);return r.push(i),()=>{let n=r.indexOf(i);n>=0&&(r[n]=r[r.length-1],r.pop())}},lD=(t,e)=>(...i)=>{let[r,n,s]=sD(i),o=(s.use||[]).concat(e);return t(r,n,{...s,use:o})};g6();var x6=()=>{},bae=x6();var LC=xr.default.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),NC={dedupe:!0},y6=(t,e,i)=>{let{cache:r,compare:n,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:f}=i,[h,m,p,_]=no.get(r),[x,y]=Wm(t),C=(0,xr.useRef)(!1),k=(0,xr.useRef)(!1),M=(0,xr.useRef)(x),v=(0,xr.useRef)(e),I=(0,xr.useRef)(i),E=()=>I.current,T=()=>E().isVisible()&&E().isOnline(),[R,P,Y,re]=xv(r,x),de=(0,xr.useRef)({}).current,te=Mt(o)?Mt(i.fallback)?br:i.fallback[x]:o,G=(A,z)=>{for(let W in de){let J=W;if(J==="data"){if(!n(A[J],z[J])&&(!Mt(A[J])||!n(Ze,z[J])))return!1}else if(z[J]!==A[J])return!1}return!0},X=(0,xr.useMemo)(()=>{let A=(()=>!x||!e?!1:Mt(a)?E().isPaused()||s?!1:l!==!1:a)(),z=et=>{let ft=so(et);return delete ft._k,A?{isValidating:!0,isLoading:!0,...ft}:ft},W=R(),J=re(),le=z(W),he=W===J?le:z(J),Fe=le;return[()=>{let et=z(R());return G(et,Fe)?(Fe.data=et.data,Fe.isLoading=et.isLoading,Fe.isValidating=et.isValidating,Fe.error=et.error,Fe):(Fe=et,et)},()=>he]},[r,x]),Z=(0,cD.useSyncExternalStore)((0,xr.useCallback)(A=>Y(x,(z,W)=>{G(W,z)||A()}),[r,x]),X[0],X[1]),ye=!C.current,ue=h[x]&&h[x].length>0,xe=Z.data,ke=Mt(xe)?te&&bv(te)?LC(te):te:xe,We=Z.error,Xe=(0,xr.useRef)(ke),Ze=f?Mt(xe)?Mt(Xe.current)?ke:Xe.current:xe:ke,st=(()=>ue&&!Mt(We)?!1:ye&&!Mt(a)?a:E().isPaused()?!1:s?Mt(ke)?!1:l:Mt(ke)||l)(),vt=!!(x&&e&&ye&&st),Dt=Mt(Z.isValidating)?vt:Z.isValidating,Pt=Mt(Z.isLoading)?vt:Z.isLoading,Wi=(0,xr.useCallback)(async A=>{let z=v.current;if(!x||!z||k.current||E().isPaused())return!1;let W,J,le=!0,he=A||{},Fe=!p[x]||!he.dedupe,et=()=>yv?!k.current&&x===M.current&&C.current:x===M.current,ft={isValidating:!1,isLoading:!1},ni=()=>{P(ft)},Jt=()=>{let $=p[x];$&&$[1]===J&&delete p[x]},Pe={isValidating:!0};Mt(R().data)&&(Pe.isLoading=!0);try{if(Fe&&(P(Pe),i.loadingTimeout&&Mt(R().data)&&setTimeout(()=>{le&&et()&&E().onLoadingSlow(x,i)},i.loadingTimeout),p[x]=[z(y),$m()]),[W,J]=p[x],W=await W,Fe&&setTimeout(Jt,i.dedupingInterval),!p[x]||p[x][1]!==J)return Fe&&et()&&E().onDiscarded(x),!1;ft.error=br;let $=m[x];if(!Mt($)&&(J<=$[0]||J<=$[1]||$[1]===0))return ni(),Fe&&et()&&E().onDiscarded(x),!1;let O=R().data;ft.data=n(O,W)?O:W,Fe&&et()&&E().onSuccess(W,x,i)}catch($){Jt();let O=E(),{shouldRetryOnError:Me}=O;O.isPaused()||(ft.error=$,Fe&&et()&&(O.onError($,x,O),(Me===!0||Un(Me)&&Me($))&&(!E().revalidateOnFocus||!E().revalidateOnReconnect||T())&&O.onErrorRetry($,x,O,Ne=>{let Le=h[x];Le&&Le[0]&&Le[0]($l.ERROR_REVALIDATE_EVENT,Ne)},{retryCount:(he.retryCount||0)+1,dedupe:!0})))}return le=!1,ni(),!0},[x,r]),yi=(0,xr.useCallback)((...A)=>wv(r,M.current,...A),[]);if(yh(()=>{v.current=e,I.current=i,Mt(xe)||(Xe.current=xe)}),yh(()=>{if(!x)return;let A=Wi.bind(br,NC),z=0,J=aD(x,h,(le,he={})=>{if(le==$l.FOCUS_EVENT){let Fe=Date.now();E().revalidateOnFocus&&Fe>z&&T()&&(z=Fe+E().focusThrottleInterval,A())}else if(le==$l.RECONNECT_EVENT)E().revalidateOnReconnect&&T()&&A();else{if(le==$l.MUTATE_EVENT)return Wi();if(le==$l.ERROR_REVALIDATE_EVENT)return Wi(he)}});return k.current=!1,M.current=x,C.current=!0,P({_k:y}),st&&(Mt(ke)||td?A():kC(A)),()=>{k.current=!0,J()}},[x]),yh(()=>{let A;function z(){let J=Un(c)?c(R().data):c;J&&A!==-1&&(A=setTimeout(W,J))}function W(){!R().error&&(u||E().isVisible())&&(d||E().isOnline())?Wi(NC).then(z):z()}return z(),()=>{A&&(clearTimeout(A),A=-1)}},[c,u,d,x]),(0,xr.useDebugValue)(Ze),s&&Mt(ke)&&x){if(!yv&&td)throw new Error("Fallback data is required when using Suspense in SSR.");v.current=e,I.current=i,k.current=!1;let A=_[x];if(!Mt(A)){let z=yi(A);LC(z)}if(Mt(We)){let z=Wi(NC);Mt(Ze)||(z.status="fulfilled",z.value=!0),LC(z)}else throw We}return{mutate:yi,get data(){return de.data=!0,Ze},get error(){return de.error=!0,We},get isValidating(){return de.isValidating=!0,Dt},get isLoading(){return de.isLoading=!0,Pt}}},xae=bh.defineProperty(RC,"defaultValue",{value:Sv}),Ts=oD(y6);var uD=H(pt(),1),dD=()=>(0,mi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"svg3400",viewBox:"0 0 500 85",className:"h-4",children:(0,mi.jsxs)("g",{transform:"translate(-357.71336,-784.65111)",children:[(0,mi.jsx)("path",{fill:"currentColor",d:"m 412.98736,806.72288 c 0,0 -1.468,-2.984 -1.968,-3.976 -3.336,-6.612 -3.264,-6.964 -6.636,-7.408 -0.944,-0.124 -1.432,-0.244 -1.432,-0.712 v -2.092 l 0.284,-0.204 c 6.092,-0.008 19.648,-0.008 19.648,-0.008 l 0.52,0.172 v 2.084 c 0,0.476 -0.34,0.72 -1.032,0.72 l -1.424,0.204 c -3.6,0.28 -3.012,1.752 -0.62,6.516 l 22.708,46.46 0.776,0.212 20.16,-47.844 c 0.7,-1.928 0.592,-3.296 -0.308,-4.1 -0.904,-0.784 -1.54,-1.248 -3.876,-1.344 l -1.892,-0.096 c -0.232,0 -0.452,-0.084 -0.664,-0.24 -0.208,-0.148 -0.316,-0.344 -0.316,-0.58 v -1.992 l 0.288,-0.204 c 5.68,0 22.776,0 22.776,0 l 0.232,0.204 v 1.992 c 0,0.54 -0.308,0.812 -0.916,0.812 -2.984,0.132 -5.196,0.78 -6.628,1.936 -1.436,1.164 -2.556,2.768 -3.36,4.852 0,0 -18.54,42.436 -24.884,56.54 -2.428,4.624 -4.816,4.2 -6.916,-0.132 -4.436,-9.136 -16.928,-36.852 -16.928,-36.852 l -7.592,-14.92 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 449.37136,792.29888 c 0,0 -12.812,-0.04 -18.516,0 l -0.284,0.204 v 1.984 c 0,0.244 0.104,0.436 0.312,0.584 0.212,0.156 0.428,0.236 0.66,0.236 l 0.916,0.1 c 2.332,0.096 3.404,0.708 3.724,1.092 0.556,0.68 0.832,1.416 -0.516,4.356 l -23.92,47.708 -0.628,-0.164 c 0,0 -17.132,-36.124 -22.092,-48.208 -0.516,-1.252 -0.748,-2.18 -0.748,-2.752 0,-1.228 1.108,-1.892 3.324,-1.984 l 2.584,-0.108 c 0.684,0 1.032,-0.264 1.032,-0.812 v -1.984 l -0.232,-0.204 c 0,0 -20.52,-0.024 -24.76,0 l -0.232,0.204 v 2.084 c 0,0.376 0.476,0.608 1.432,0.712 2.604,0.14 4.316,0.556 5.14,1.248 0.82,0.7 1.688,2.468 2.84,5.224 6.228,14.96 19.46,41.656 25.904,56.86 1.856,4.152 4.188,4.796 7.02,-0.128 4.904,-9.096 18.2,-36.872 18.2,-36.872 l 10.472,-19.584 c 1.22,-2.068 2.396,-3.912 2.992,-4.772 1.092,-1.572 1.704,-1.868 4.688,-2.008 0.608,0 0.916,-0.272 0.916,-0.82 v -1.984 l -0.228,-0.212 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 488.32736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 519.01936,854.23088 c 0,2.288 1.352,3.432 4.368,3.952 l 1.144,0.212 c 0.312,0.1 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -6.552,-0.212 -9.672,-0.212 -2.912,0 -11.44,0.212 -11.44,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.12,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.144,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.528,0.208 11.752,0.208 2.916,0 9.464,-0.208 9.464,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.416 -0.624,0.52 l -1.144,0.212 c -3.224,0.62 -4.368,1.144 -4.368,3.228 v 15.704 c 3.432,0 5.408,-1.764 9.984,-6.656 4.16,-4.58 7.384,-8.42 7.384,-10.4 0,-0.836 -0.936,-1.768 -3.016,-2.084 -0.416,-0.1 -0.624,-0.208 -0.624,-0.52 v -2.396 l 0.104,-0.1 c 0,0 8.424,0.208 11.44,0.208 2.704,0 7.28,-0.208 7.28,-0.208 l 0.312,0.1 v 2.396 c 0,0.312 -0.312,0.52 -0.832,0.52 -4.056,0.312 -6.864,0.52 -10.608,4.784 l -8.944,10.292 c -1.768,1.876 -2.392,3.016 -2.392,3.852 0,0.624 0.416,1.14 0.936,1.764 l 15.704,18.928 c 1.248,1.452 3.744,2.08 5.824,2.492 l 0.52,0.1 c 0.312,0.104 0.728,0.312 0.728,0.624 v 2.184 l -0.312,0.104 c 0,0 -5.512,-0.104 -8.424,-0.104 -2.6,0 -6.344,0.104 -6.344,0.104 l -0.104,-0.104 v -1.248 c 0,-1.356 -0.104,-2.492 -1.56,-4.156 l -11.544,-14.356 c -1.56,-2.084 -3.224,-2.596 -5.512,-2.596 v 15.404 l 0,0 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 575.08736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.248,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 597.55936,819.80288 c 0,-3.224 -1.352,-3.328 -6.24,-3.64 -0.624,0 -0.728,-0.308 -0.728,-0.52 v -2.392 l 0.208,-0.104 c 1.56,0 7.696,0.208 10.712,0.208 2.912,0 7.072,-0.208 10.92,-0.208 14.76,0 17.464,7.276 17.464,12.692 0,6.244 -3.016,16.016 -17.776,16.016 -2.6,0 -4.68,-0.212 -6.556,-1.04 v 13.928 c 0,2.288 1.248,2.812 4.58,3.328 l 2.084,0.312 c 0.416,0.104 0.728,0.212 0.728,0.624 v 2.184 l -0.1,0.208 c 0,0 -8.32,-0.208 -11.544,-0.208 -2.912,0 -10.712,0.208 -10.712,0.208 l -0.104,-0.208 v -2.184 c 0,-0.416 0.208,-0.52 0.624,-0.624 l 2.184,-0.312 c 3.224,-0.416 4.264,-1.352 4.264,-3.328 l -0.008,-34.94 0,0 z m 8.008,18.1 c 2.08,0.836 4.68,0.936 6.76,0.936 6.244,0 9.248,-3.752 9.248,-11.752 0,-8.944 -4.056,-10.92 -9.768,-10.92 -4.996,0 -6.244,0.936 -6.244,3.64 l 0.004,18.096 0,0 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 647.80736,861.19888 c -3.12,0 -10.292,0.212 -10.292,0.212 l -0.108,-0.212 v -2.288 c 0,-0.204 0.108,-0.516 0.624,-0.516 l 2.396,-0.212 c 3.228,-0.312 4.164,-2.392 4.164,-4.468 v -34.32 c 0,-2.4 -1.252,-2.812 -4.164,-3.016 l -2.396,-0.216 c -0.624,-0.096 -0.624,-0.308 -0.624,-0.416 v -2.396 l 0.108,-0.208 c 0,0 8.108,0.208 11.228,0.208 h 15.288 c 3.12,0 10.508,-0.208 10.508,-0.208 l 0.212,0.208 c 0.1,4.472 0.828,8.536 1.56,12.484 l -2.596,0.416 c -1.14,-3.852 -3.116,-9.36 -9.772,-9.36 h -8.32 c -1.976,0 -3.016,0.728 -3.016,2.492 v 15.084 h 7.796 c 2.916,0 3.64,-1.248 4.06,-3.328 l 0.62,-2.184 c 0,-0.312 0.212,-0.524 0.624,-0.524 h 1.764 c 0.212,0 0.212,0.108 0.212,0.312 -0.212,2.288 -0.624,5.204 -0.624,7.7 0,2.596 0.416,4.784 0.624,7.176 l -0.212,0.212 h -1.764 c -0.516,0 -0.732,-0.212 -0.732,-0.524 l -0.52,-2.284 c -0.416,-2.084 -1.352,-3.228 -4.064,-3.228 h -7.792 v 15.916 c 0,1.972 1.136,3.948 3.016,3.948 h 9.88 c 5.304,0 8.22,-3.328 9.464,-8.74 l 2.596,0.312 -2.084,11.956 -0.208,0.208 c 0,0 -6.136,-0.208 -9.256,-0.208 l -18.2,0.012 0,0 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 686.91936,858.39488 2.392,-0.212 c 3.124,-0.312 4.164,-1.248 4.164,-4.468 v -34.32 c 0,-2.712 -0.736,-2.712 -4.164,-3.016 l -2.28,-0.216 c -0.416,0 -0.736,-0.208 -0.736,-0.52 v -2.288 l 0.1,-0.208 c 0,0 9.156,0.208 11.032,0.208 1.968,0 11.024,-0.208 13.728,-0.208 17.368,0 25.9,10.816 25.9,24.648 0,18.204 -12.9,23.604 -24.44,23.604 -8.32,0 -11.956,-0.208 -15.18,-0.208 -3.124,0 -11.028,0.208 -11.028,0.208 l -0.104,-0.208 v -2.184 c -0.008,-0.3 0.204,-0.612 0.616,-0.612 z m 23.196,0 c 11.436,0 17.892,-4.26 17.892,-18.828 0,-10.812 -2.396,-23.404 -19.868,-23.404 -4.056,0 -6.656,0.624 -6.656,3.232 v 34.32 c 0,2.904 0.724,4.68 8.632,4.68 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 761.60736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.124,-0.212 -2.916,0 -11.024,0.212 -11.024,0.212 l -0.212,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.084,-0.212 c 3.428,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.084,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.432,0.208 2.808,0 10.82,-0.208 10.82,-0.208 l 0.1,0.208 v 2.288 c 0,0.312 -0.212,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 l 0.008,34.632 0,0 z"}),(0,mi.jsx)("path",{fill:"currentColor",d:"m 793.64736,858.18288 3.016,0.212 c 0.416,0 0.832,0.312 0.832,0.828 v 1.976 l -0.208,0.212 c 0,0 -11.336,-0.212 -13.832,-0.212 -2.708,0 -9.364,0.212 -9.364,0.212 l -0.212,-0.212 v -1.976 c 0,-0.516 0.312,-0.828 0.836,-0.828 4.58,-0.312 7.172,-1.148 10.084,-7.804 l 23.084,-54.084 c 1.14,-2.704 1.976,-3.748 3.54,-3.748 1.452,0 1.976,1.044 2.804,3.124 l 21.32,56.368 c 1.46,4.06 3.54,5.616 7.7,6.032 l 1.144,0.1 c 0.52,0 1.04,0.312 1.04,0.836 v 1.972 l -0.312,0.208 c 0,0 -8.008,-0.208 -12.064,-0.208 -3.64,0 -13.836,0.208 -13.836,0.208 l -0.1,-0.208 v -1.972 c 0,-0.524 0.208,-0.836 0.736,-0.836 l 2.912,-0.208 c 3.948,-0.308 5.412,-1.564 4.368,-4.472 l -6.344,-17.58 h -21.632 c -2.496,0 -3.12,0.416 -3.636,1.764 l -6.036,15.084 c -1.04,2.608 0.312,4.9 4.16,5.212 z m 25.48,-26.424 -10.088,-27.764 h -0.208 l -10.4,26.416 c -0.416,1.044 0.308,1.352 2.596,1.352 h 18.1 z"})]})}),w6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)}),hD="https://en.wikipedia.org/";function C6(t,e){return`${e||hD}wiki/${t}`}function S6(t,e){return`${e||hD}api/rest_v1/page/summary/${t}`}function E6({page:t,wiki:e,load:i}){var r,n;let{data:s,error:o}=Ts(i?S6(t,e):null,w6),{thumbnail:a,extract:l,content_urls:c}=s??{},u=(n=(r=c?.desktop)===null||r===void 0?void 0:r.page)!==null&&n!==void 0?n:C6(t),d=a?.source;return o?(0,mi.jsxs)("span",{children:[(0,mi.jsxs)("a",{href:u,className:"block text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[(0,mi.jsx)(ws,{width:"1rem",height:"1rem",className:"float-right"}),(0,mi.jsx)(dD,{})]}),(0,mi.jsxs)("div",{className:"mt-2",children:['Error loading "',t,'" from wikipedia.']})]}):(0,mi.jsx)(Bl,{loading:!s,url:u,title:(0,mi.jsx)(dD,{}),thumbnail:d,description:l})}function fD({children:t,page:e,url:i,wiki:r,className:n}){return(0,mi.jsx)(cr,{card:({load:s})=>(0,mi.jsx)(E6,{wiki:r,page:e,load:s}),children:(0,mi.jsx)("a",{href:i,className:(0,uD.default)("italic",n),target:"_blank",rel:"noreferrer",children:t})})}var pi=H(Ce(),1);var I6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function M6({rrid:t}){var e,i,r,n,s,o,a;let{data:l,error:c}=Ts(`https://scicrunch.org/resolver/${t}.json`,I6);if(!l&&!c)return(0,pi.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});let u=(i=(e=l?.hits)===null||e===void 0?void 0:e.hits)===null||i===void 0?void 0:i[0];if(c||!u)return(0,pi.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});let{name:d,curie:f,description:h,supercategory:m,keywords:p,types:_}=(n=(r=u?._source)===null||r===void 0?void 0:r.item)!==null&&n!==void 0?n:{},x=(s=m?.[0])===null||s===void 0?void 0:s.name,y=(o=_?.map(({name:k})=>k))!==null&&o!==void 0?o:[],C=(a=p?.map(({keyword:k})=>k))!==null&&a!==void 0?a:[];return(0,pi.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[(0,pi.jsxs)("p",{className:"text-sm font-light",children:["RRID: ",x]}),(0,pi.jsxs)("div",{className:"mb-4 text-xl font-bold",children:[d," ",(0,pi.jsx)("code",{children:f})]}),(0,pi.jsx)("p",{className:"text-md",children:h}),y.length>0&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"my-2 text-xs font-thin",children:"Categories"}),(0,pi.jsx)("div",{className:"flex flex-wrap ml-1",children:y?.map(k=>(0,pi.jsx)("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:k}))})]}),C.length>0&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"my-2 text-xs font-thin",children:"Tags"}),(0,pi.jsx)("div",{className:"flex flex-wrap ml-1",children:C?.map(k=>(0,pi.jsx)("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:k}))})]})]})}function mD({rrid:t,className:e}){return(0,pi.jsx)(cr,{card:(0,pi.jsx)(M6,{rrid:t}),children:(0,pi.jsxs)("a",{href:`https://scicrunch.org/resolver/${t}`,target:"_blank",rel:"noopener noreferrer",className:e,children:["RRID: ",(0,pi.jsx)("cite",{className:"italic",children:t})]})})}var zt=H(Ce(),1);var wh=H(be(),1);function k6({title:t,titleId:e,...i},r){return wh.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?wh.createElement("title",{id:e},t):null,wh.createElement("path",{d:"M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"}))}var T6=wh.forwardRef(k6),Iv=T6;var Ch=H(be(),1);function A6({title:t,titleId:e,...i},r){return Ch.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},i),t?Ch.createElement("title",{id:e},t):null,Ch.createElement("path",{d:"M10 4.2L8.3 6.8 6.6 4.2H10zM17.1 4.2l-1.7 2.6-1.7-2.6h3.4zM6.6 19.8l1.7-2.6 1.7 2.6H6.6zM13.7 19.8l1.7-2.6 1.7 2.6h-3.4zM20.8 12.5c.6-.1 1.1-.4 1.4-.8.3-.4.5-.9.5-1.5 0-.5-.1-.9-.3-1.2-.2-.3-.4-.6-.7-.8-.3-.2-.6-.3-1-.4-.4-.1-.8-.1-1.2-.1h-3.3v2.6c0-.1-.1-.2-.1-.2-.2-.6-.6-1-1-1.4-.4-.4-.9-.7-1.5-.9-.6-.2-1.2-.3-1.9-.3s-1.3.1-1.9.3c-.5.1-1 .4-1.4.8-.3.4-.6.8-.9 1.3 0-.3-.1-.6-.2-.9-.2-.4-.4-.6-.7-.8-.3-.2-.6-.3-1-.4s-.8-.2-1.3-.2H1v8.5h1.9v-3.4h.9l1.8 3.4h2.3l-2.2-3.6c.6-.1 1.1-.4 1.4-.8v-.1.2c0 .7.1 1.3.3 1.8.2.6.6 1 1 1.4.4.4.9.7 1.5.9.6.2 1.2.3 1.9.3s1.3-.1 1.9-.3c.6-.2 1.1-.5 1.5-.9.4-.4.7-.9 1-1.4 0-.1.1-.2.1-.2V16H18v-3.4h.9l1.8 3.4H23l-2.2-3.5zM5.4 10.7c-.1.2-.2.3-.3.3-.2.1-.3.1-.5.1H2.9V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3 0 .5-.1.6zm8.8 2.3c-.1.3-.3.6-.5.9-.2.2-.5.4-.8.6-.3.1-.7.2-1.1.2-.4 0-.8-.1-1.1-.2-.3-.1-.6-.3-.8-.6-.2-.2-.4-.5-.5-.9-.1-.3-.2-.7-.2-1.1 0-.4.1-.8.2-1.1s.3-.6.5-.9c.2-.2.5-.4.8-.6.3-.1.7-.2 1.1-.2.4 0 .8.1 1.1.2.3.1.6.3.8.6.2.2.4.5.5.9.1.3.2.7.2 1.1 0 .4 0 .7-.2 1.1zm6.4-2.3c-.1.1-.2.2-.4.3-.2.1-.3.1-.5.1H18V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3.1.5 0 .6z"}))}var R6=Ch.forwardRef(A6),DC=R6;var L6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function N6({ror:t}){var e,i,r,n;let{data:s,error:o}=Ts(`https://api.ror.org/organizations/${t}`,L6);if(!s&&!o)return(0,zt.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});if(o)return(0,zt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});let a=(e=s?.country)===null||e===void 0?void 0:e.country_name,l=(i=s?.links.map(d=>({url:d})))!==null&&i!==void 0?i:[],c=s.wikipedia_url?[{text:"Wikipedia",url:s.wikipedia_url}]:[],u=[...l,...c];return(0,zt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[(0,zt.jsxs)("p",{className:"flex items-stretch gap-2 text-sm font-light",children:[(0,zt.jsx)(DC,{width:"1.25rem",height:"1.25rem",className:"self-center inline-block"}),(0,zt.jsx)("a",{href:`https://ror.org/${t}`,className:"self-center",target:"_blank",rel:"noopener noreferrer",children:(0,zt.jsx)("code",{children:t})})]}),(0,zt.jsx)("div",{className:"mb-4 text-xl font-bold",children:s.name}),(0,zt.jsxs)("dl",{className:"mb-4 text-sm",children:[(0,zt.jsx)("dt",{children:"Country"}),(0,zt.jsx)("dd",{children:a}),u.length>0&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("dt",{children:"Links"}),u.map(({url:d,text:f})=>(0,zt.jsx)("dd",{children:(0,zt.jsx)("a",{href:d,children:f||d})}))]}),((r=s.acronyms)===null||r===void 0?void 0:r.length)>0&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("dt",{children:"Acronyms"}),s.acronyms.map(d=>(0,zt.jsx)("dd",{children:d}))]}),((n=s.labels)===null||n===void 0?void 0:n.length)>0&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("dt",{children:"Labels"}),s.labels.map(({label:d,iso639:f})=>(0,zt.jsxs)("dd",{children:[d,f?` (${f})`:null]}))]})]})]})}function pD({node:t,ror:e,className:i}){return(0,zt.jsx)(cr,{card:(0,zt.jsx)(N6,{ror:e}),children:(0,zt.jsx)("a",{href:`https://ror.org/${e}`,target:"_blank",rel:"noopener noreferrer",className:i,children:(0,zt.jsx)(we,{ast:t.children})})})}var Ht=H(Ce(),1);var Mv=H(be(),1);var qm=H(pt(),1),D6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.text();throw new Error(`Content returned with status ${e.status}.`)}),O6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function z6(t){var e;return(e={ts:"typescript",js:"javascript",py:"python",md:"markdown",yml:"yaml"}[t??""])!==null&&e!==void 0?e:t}function gD(t,e,i){let[r,n]=(0,Mv.useState)(),{data:s,error:o}=Ts(t?e:null,i);return(0,Mv.useEffect)(()=>{n(r||s)},[r,e,s]),{data:r,error:o}}function P6({url:t,raw:e,org:i,repo:r,file:n,from:s,to:o,open:a,className:l}){let{data:c,error:u}=gD(a,e,D6),d=c;if(u)return(0,Ht.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:[(0,Ht.jsx)("a",{href:t,className:(0,qm.default)("block text-inherit hover:text-inherit",l),target:"_blank",rel:"noreferrer",children:(0,Ht.jsx)(ws,{width:"1rem",height:"1rem",className:"float-right"})}),(0,Ht.jsxs)("div",{className:"mt-2",children:['Error loading "',n,'" from GitHub.']})]});let f=z6(n?.split(".").pop()),h=1,m=[],p=5;d&&s&&o?(h=s,d=d?.split(`
`).slice(s-1,o).join(`
`)):d&&s?(h=s+1-p,m=[s],d=d?.split(`
`).slice(Math.max(0,s-p),s+p).join(`
`)):d=d?.split(`
`).slice(0,10).join(`
`);let _=d?(0,Ht.jsx)(Ht.Fragment,{children:(0,Ht.jsx)(Bo,{value:d,lang:f,filename:n,showLineNumbers:!0,startingLineNumber:h,emphasizeLines:m,showCopy:!1})}):null;return(0,Ht.jsx)(Bl,{loading:!d,url:t,title:`GitHub - ${i}/${r}`,description:_,className:"hover-document article max-w-[80vw]"})}function B6(t){let e=t.charAt(0)==="#"?t.substring(1,7):t,i=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16);return i*.299+r*.587+n*.114<=186}function H6({url:t,org:e,repo:i,issue_number:r,open:n,className:s}){var o,a;let{data:l,error:c}=gD(n,`https://api.github.com/repos/${e}/${i}/issues/${r}`,O6);if(!l&&!c)return(0,Ht.jsx)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});let u=l;if(c)return(0,Ht.jsxs)("div",{className:"hover-document article",children:[(0,Ht.jsx)("a",{href:t,className:(0,qm.default)("block text-inherit hover:text-inherit",s),target:"_blank",rel:"noreferrer",children:(0,Ht.jsx)(ws,{className:"float-right w-4 h-4"})}),(0,Ht.jsx)("div",{className:"mt-2",children:"Error loading from GitHub."})]});let d=new Date(u.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,Ht.jsxs)("div",{className:"hover-document article w-[400px] sm:max-w-[400px] p-3",children:[(0,Ht.jsxs)("div",{className:"text-xs font-light",children:[e,"/",i]}),(0,Ht.jsxs)("div",{className:"my-2 text-lg font-bold dark:text-white",children:[u.state==="open"&&(0,Ht.jsx)(gw,{width:"1.5rem",height:"1.5rem",className:"inline-block mr-2 text-green-700 -translate-y-px dark:text-green-500"}),u.state==="closed"&&(0,Ht.jsx)(aw,{width:"1.5rem",height:"1.5rem",className:"inline-block mr-2 text-purple-700 -translate-y-px dark:text-purple-500"}),u.title]}),(0,Ht.jsxs)("div",{className:"text-xs font-light",children:["#",r," opened on ",d," by"," ",(0,Ht.jsxs)("span",{className:"font-normal",children:["@",u.user.login]})]}),(0,Ht.jsx)("p",{className:"text-md max-h-[4rem] overflow-hidden",children:u.body}),((o=u.labels)===null||o===void 0?void 0:o.length)>0&&(0,Ht.jsx)("div",{className:"flex flex-wrap",children:(a=u.labels)===null||a===void 0?void 0:a.map(f=>(0,Ht.jsx)("span",{className:(0,qm.default)("mr-1 text-xs inline-flex items-center px-2 py-0.5 rounded-full",{"text-white":B6(f.color)}),style:{backgroundColor:`#${f.color}`},children:f.name},f.id))})]})}function _D({kind:t,children:e,url:i,org:r,repo:n,raw:s,file:o,from:a,to:l,issue_number:c,className:u}){return(0,Ht.jsx)(cr,{card:({load:d})=>{if(t==="file")return(0,Ht.jsx)(P6,{url:i,raw:s,file:o,from:a,to:l,open:d,org:r,repo:n,className:u});if(t==="issue")return(0,Ht.jsx)(H6,{url:i,open:d,org:r,issue_number:c,repo:n,className:u})},children:(0,Ht.jsx)("a",{href:i,className:(0,qm.default)("italic",u),target:"_blank",rel:"noreferrer",children:e})})}var Aa=H(pt(),1);function j6(t,e){var i;if(!t)return;let[r,n]=e.replace(/^\//,"").split("/"),s=(i=t.projects)===null||i===void 0?void 0:i.find(o=>o.slug===r||!o.slug&&!n);if(s)return s.pages.find(o=>o.slug===(n||r))}function F6({url:t,children:e,className:i}){let r=ys(),n=va(),s=j6(n,t),o=Fr(),a=!s||!s.description&&!s.thumbnail;return!s||a?(0,gi.jsx)(r,{to:ar(t,o),prefetch:"intent",className:i,children:e}):(0,gi.jsx)(cr,{card:(0,gi.jsx)(Bl,{internal:!0,url:t,title:s.title,description:s.description,thumbnail:s.thumbnailOptimized||s.thumbnail}),children:(0,gi.jsx)(r,{to:ar(t,o),prefetch:"intent",className:i,children:e})})}var vD=({node:t,className:e})=>{var i,r;return(0,gi.jsx)(fD,{url:t.url,page:(i=t.data)===null||i===void 0?void 0:i.page,wiki:(r=t.data)===null||r===void 0?void 0:r.wiki,className:(0,Aa.default)(t.class,e),children:(0,gi.jsx)(we,{ast:t.children})})},bD=({node:t,className:e})=>{var i,r,n,s,o,a,l,c;return(0,gi.jsx)(_D,{kind:(i=t.data)===null||i===void 0?void 0:i.kind,url:t.url,org:(r=t.data)===null||r===void 0?void 0:r.org,repo:(n=t.data)===null||n===void 0?void 0:n.repo,raw:(s=t.data)===null||s===void 0?void 0:s.raw,file:(o=t.data)===null||o===void 0?void 0:o.file,from:(a=t.data)===null||a===void 0?void 0:a.from,to:(l=t.data)===null||l===void 0?void 0:l.to,issue_number:(c=t.data)===null||c===void 0?void 0:c.issue_number,className:(0,Aa.default)(t.class,e),children:(0,gi.jsx)(we,{ast:t.children})})},xD=({node:t,className:e})=>{var i;return(0,gi.jsx)(mD,{rrid:(i=t.data)===null||i===void 0?void 0:i.rrid,className:(0,Aa.default)(t.class,e)})},yD=({node:t,className:e})=>{var i;return(0,gi.jsx)(pD,{node:t,ror:(i=t.data)===null||i===void 0?void 0:i.ror,className:(0,Aa.default)(t.class,e)})},$6=({node:t,className:e})=>{var i;return((i=t.internal)!==null&&i!==void 0?i:!1)?(0,gi.jsx)(F6,{url:t.url,className:(0,Aa.default)(t.class,e),children:(0,gi.jsx)(we,{ast:t.children})}):(0,gi.jsx)("a",{target:"_blank",rel:"noreferrer",href:t.url,className:(0,Aa.default)(t.class,e),children:(0,gi.jsx)(we,{ast:t.children})})},W6=({node:t,className:e})=>{var i;let r="self-center transition-transform flex-none ml-3",n="flex-1 p-4 my-5 block border font-normal hover:border-blue-500 dark:hover:border-blue-400 no-underline hover:text-blue-600 dark:hover:text-blue-400 text-gray-600 dark:text-gray-100 border-gray-200 dark:border-gray-500 rounded shadow-sm hover:shadow-lg dark:shadow-neutral-700",s=(i=t.internal)!==null&&i!==void 0?i:!1,o=(0,gi.jsxs)("div",{className:"flex h-full align-middle",children:[(0,gi.jsxs)("div",{className:"flex-grow",children:[t.title,(0,gi.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(0,gi.jsx)(we,{ast:t.children})})]}),s&&(0,gi.jsx)(uw,{width:"1.5rem",height:"1.5rem",className:r}),!s&&(0,gi.jsx)(ws,{width:"1.5rem",height:"1.5rem",className:r})]});return s?(0,gi.jsx)("a",{href:t.url,className:(0,Aa.default)(n,e),children:o}):(0,gi.jsx)("a",{className:(0,Aa.default)(n,e),target:"_blank",rel:"noopener noreferrer",href:t.url,children:o})},q6={link:{base:$6,"link[protocol=github]":bD,"link[protocol=wiki]":vD,"link[protocol=rrid]":xD,"link[protocol=ror]":yD,"link[kind=github]":bD,"link[kind=wiki]":vD,"link[kind=rrid]":xD,"link[kind=ror]":yD},linkBlock:W6},wD=q6;var Ra=H(Ce(),1),CD=H(be(),1);var SD=H(pt(),1),U6=({node:t,className:e})=>{let{enumerator:i,depth:r,key:n,identifier:s,html_id:o}=t,a=o||s||n,l=(0,Ra.jsxs)(Ra.Fragment,{children:[i&&(0,Ra.jsx)("span",{className:"mr-3 select-none",children:i}),(0,Ra.jsx)("span",{className:"heading-text",children:(0,Ra.jsx)(we,{ast:t.children})}),(0,Ra.jsx)(oi,{id:a,kind:"Section",className:"px-2 font-normal",hover:!0,hideInPopup:!0})]});return(0,CD.createElement)(`h${r}`,{id:a,className:(0,SD.default)("relative group",e)},l)},V6={heading:U6},ED=V6;var Yt=H(Ce(),1);var Sh=H(pt(),1),G6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function Y6({load:t,identifier:e}){let i=K6({load:t,identifier:e});return i?i.loading?(0,Yt.jsx)(Yt.Fragment,{children:"Loading..."}):i.error?(0,Yt.jsx)(Yt.Fragment,{children:"Error loading remote page."}):!i.nodes||i.nodes.length===0?(0,Yt.jsx)(Yt.Fragment,{children:(0,Yt.jsx)(io,{value:e||"No Label",message:"Cross Reference Not Found"})}):(0,Yt.jsx)(we,{ast:i?.nodes}):null}function OC(t,e){return e&&t?.startsWith(e)?t:`${e||""}${t||""}`}function X6({url:t,remoteBaseUrl:e,dataUrl:i,baseurl:r}){return e||i?.startsWith("http")?i?OC(i,e):(console.error("Expected external URL to provide a dataUrl"),null):i?ar(i,r):`${ar(t,r)}.json`}function kv({remote:t,url:e,remoteBaseUrl:i,dataUrl:r}){let n=Fr(),s=X6({url:e,remoteBaseUrl:i,dataUrl:r,baseurl:n});return Ts(t?s:null,G6)}function K6({load:t,identifier:e}){var i;let r=Ro(),n=kT(),{remote:s,url:o,remoteBaseUrl:a,dataUrl:l}=Nl();if(!t)return;let{data:c,error:u}=kv({remote:s,url:o,remoteBaseUrl:a,dataUrl:l}),d=c?c.mdast:r?.article,f=c?(i=c.frontmatter)===null||i===void 0?void 0:i.parts:n?.parts,h=[],m;return[{mdast:d},...Object.values(f??{})].forEach(({mdast:p})=>{if(!p||h.length>0)return;let _=Xk(p,e,3);h=_.nodes,m=_.htmlId}),{htmlId:m,nodes:h,loading:s&&!c,error:s&&u}}function J6({url:t,dataUrl:e,remote:i,remoteBaseUrl:r,children:n,identifier:s,className:o,htmlId:a=""}){var l;let c=ys(),u=Fr(),d=Nl(),f=r??d.remoteBaseUrl,h=!!f||d.remote||i,m=d.remote?t??d.url:t,p=d.remote?e??d.dataUrl:e,_=!!f||((l=m?.startsWith("http"))!==null&&l!==void 0?l:!1),x=C=>{if(C.preventDefault(),!a)return;let k=document.getElementById(a);H_(k,{htmlId:a})},y=(o??"").split(" ").includes("button");return(0,Yt.jsx)(cr,{card:({load:C})=>(0,Yt.jsx)(x_,{remote:h,remoteBaseUrl:f,url:m,dataUrl:p,children:(0,Yt.jsxs)("div",{className:"hover-document article w-[500px] sm:max-w-[500px] overflow-auto",children:[f&&(0,Yt.jsxs)("div",{className:"w-full px-3 py-1 text-xs border-b bg-gray-50",children:[(0,Yt.jsx)("strong",{className:"text-gray-700",children:"Source: "}),(0,Yt.jsx)("a",{className:(0,Sh.default)("text-gray-700",o),href:`${OC(m,f)}${a?`#${a}`:""}`,target:"_blank",children:f})]}),(0,Yt.jsx)("div",{className:"px-3",children:(0,Yt.jsx)(Y6,{load:C,identifier:s})})]})}),children:(0,Yt.jsxs)("span",{children:[h&&_&&(0,Yt.jsx)("a",{href:`${OC(m,f)}${a?`#${a}`:""}`,target:"_blank",className:(0,Sh.default)({"hover-link":!y},o),children:n}),h&&!_&&(0,Yt.jsx)(c,{to:`${ar(m,u)}${a?`#${a}`:""}`,prefetch:"intent",className:(0,Sh.default)({"hover-link":!y},o),children:n}),!h&&(0,Yt.jsx)("a",{href:`#${a}`,onClick:x,className:(0,Sh.default)({"hover-link":!y},o),children:n})]})})}var Z6=({node:t,className:e})=>{if(!t.children)return(0,Yt.jsx)(io,{value:t.label||t.identifier||"No Label",message:"Cross Reference Not Found",className:e});let{remote:i,url:r,dataUrl:n,remoteBaseUrl:s,identifier:o,html_id:a,class:l}=t;return(0,Yt.jsxs)(J6,{identifier:o,htmlId:a,remote:i,url:r,dataUrl:n,remoteBaseUrl:s,className:(0,Sh.default)(l,e),children:[t.prefix&&(0,Yt.jsxs)(Yt.Fragment,{children:[t.prefix," "]}),(0,Yt.jsx)(we,{ast:t.children}),t.suffix||null]})},Q6={crossReference:Z6},ID=Q6;var Mn=H(Ce(),1),Tv=H(pt(),1),Wl=H(be(),1);var MD=(0,Wl.createContext)(void 0);function eU({active:t,children:e}){return(0,Mn.jsx)(MD.Provider,{value:t,children:e})}function kD({tabs:t,children:e,className:i}){var r,n,s,o;let[a,l]=(r=DT())!==null&&r!==void 0?r:[],[c,u]=(0,Wl.useState)((s=(n=t.find(f=>f.selected))===null||n===void 0?void 0:n.id)!==null&&s!==void 0?s:(o=t?.[0])===null||o===void 0?void 0:o.id),d=f=>{u(f.id),f.sync&&(l||console.error("TabStateProvider is not defined, synced tabs will not work."),l?.(f.sync))};return(0,Wl.useEffect)(()=>{if(!a)return;let f=t.find(h=>h.sync===a);f&&u(f?.id)},[t,a,u]),(0,Mn.jsx)(eU,{active:c,children:(0,Mn.jsxs)("div",{className:(0,Tv.default)("my-5",i),children:[(0,Mn.jsx)("div",{className:"flex flex-row overflow-x-auto border-b border-b-gray-100",children:t.map(f=>(0,Mn.jsx)("div",{className:(0,Tv.default)("flex-none px-3 py-1 font-semibold cursor-pointer",{"text-blue-600 border-b-2 border-b-blue-600 dark:border-b-white dark:text-white":c===f.id,"text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100":c!==f.id}),onClick:()=>d(f),children:f.title},f.id))}),(0,Mn.jsx)("div",{className:"flex shadow",children:(0,Mn.jsx)("div",{className:"w-full px-6",children:e})})]})})}function TD({id:t,children:e,className:i}){let n=(0,Wl.useContext)(MD)===t;return(0,Mn.jsx)("div",{className:(0,Tv.default)({hidden:!n},i),children:e})}var tU=({node:t,className:e})=>{let i=Il("tabItem",t).map(r=>({title:r.title,id:r.key,sync:r.sync}));return(0,Mn.jsx)(kD,{tabs:i,className:e,children:(0,Mn.jsx)(we,{ast:t.children})})},iU=({node:t,className:e})=>(0,Mn.jsx)(TD,{id:t.key,className:e,children:(0,Mn.jsx)(we,{ast:t.children})}),rU={tabSet:tU,tabItem:iU},AD=rU;var Av=H(Ce(),1),RD=H(pt(),1);function nU(t){return[...t??""].reduce((e,i)=>{let r=e.pop(),n=i==="+"?"\u207A":i==="-"?"\u207B":i,s=n.match(/[0-9]/),o=r?.match(/[0-9]/);return s?o?[...e,`${r??""}${n}`]:[...e,r,n].filter(a=>!!a):o?[...e,r,n].filter(a=>!!a):[...e,`${r??""}${n}`]},[])}var sU=({node:t,className:e})=>{let i=nU(t.value);return(0,Av.jsx)("span",{className:(0,RD.default)("text-inherit",e),"aria-roledescription":"Chemical Formula",children:i.map((r,n)=>r.match(/[0-9]/)?(0,Av.jsx)("sub",{children:r},n):(0,Av.jsx)("span",{children:r},n))})},oU={chemicalFormula:sU},LD=oU;var ND=H(Ce(),1),aU=({node:t,className:e})=>{var i;let r=t.number==null?"":" ",n=`${(i=t.number)!==null&&i!==void 0?i:""}${r}${t.alt}`;return(0,ND.jsx)("span",{title:n,className:e,children:t.value})},lU={si:aU},DD=lU;var cU=Object.assign(Object.assign({},LD),DD),OD=cU;var id=H(Ce(),1);var zD=H(pt(),1),dU=({node:t,className:e})=>{var i,r,n;return t.result?((i=t.result)===null||i===void 0?void 0:i.status)!=="ok"?(0,id.jsx)(io,{value:`${(r=t.result)===null||r===void 0?void 0:r.ename}: ${(n=t.result)===null||n===void 0?void 0:n.evalue}`,className:e}):(0,id.jsx)(mh,{title:(0,id.jsx)("code",{children:t.value}),children:(0,id.jsx)("span",{className:(0,zD.default)("border-b border-dotted cursor-help",e),children:(0,id.jsx)(we,{ast:t.children})})}):(0,id.jsx)(io,{value:`Unexecuted inline expression for: ${t.value}`,className:e})},uU={inlineExpression:dU},PD=uU;var Ki=H(Ce(),1);var Eh=H(pt(),1);var Ar;(function(t){t.proof="proof",t.axiom="axiom",t.lemma="lemma",t.definition="definition",t.criterion="criterion",t.remark="remark",t.conjecture="conjecture",t.corollary="corollary",t.algorithm="algorithm",t.example="example",t.property="property",t.observation="observation",t.proposition="proposition",t.assumption="assumption",t.theorem="theorem"})(Ar||(Ar={}));function hU(t){var e;let i=(e=t?.split(" ").map(r=>r.trim().toLowerCase()).filter(r=>!!r))!==null&&e!==void 0?e:[];return[...new Set(i)]}function BD(t){return t?t.slice(0,1).toUpperCase()+t.slice(1):""}function fU({kind:t}){switch(t){case Ar.proof:case Ar.algorithm:return{color:"gray"};case Ar.lemma:case Ar.conjecture:case Ar.theorem:return{color:"purple"};case Ar.observation:case Ar.assumption:case Ar.axiom:return{color:"yellow"};case Ar.criterion:case Ar.corollary:case Ar.property:return{color:"orange"};case Ar.example:return{color:"green"};case Ar.remark:return{color:"red"};case Ar.definition:case Ar.proposition:default:return{color:"blue"}}}var mU=({id:t,dropdown:e,className:i,children:r})=>e?(0,Ki.jsx)("details",{id:t,className:i,children:r}):(0,Ki.jsx)("aside",{id:t,className:i,children:r}),pU=({dropdown:t,className:e,children:i})=>t?(0,Ki.jsx)("summary",{className:e,children:i}):(0,Ki.jsx)("div",{className:e,children:i}),gU="inline-block pl-2 mr-2 self-center flex-none";function _U({title:t,kind:e,color:i,dropdown:r,children:n,identifier:s,enumerator:o,className:a}){return(0,Ki.jsxs)(mU,{id:s,dropdown:r,className:(0,Eh.default)("my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!i||i==="gray","dark:border-blue-500/60":i==="blue","dark:border-green-500/60":i==="green","dark:border-amber-500/70":i==="yellow","dark:border-orange-500/60":i==="orange","dark:border-red-500/60":i==="red","dark:border-purple-500/60":i==="purple"},a),children:[(0,Ki.jsxs)(pU,{dropdown:r,className:(0,Eh.default)("m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!i||i==="gray","bg-blue-50/80 dark:bg-slate-900":i==="blue","bg-green-50/80 dark:bg-slate-900":i==="green","bg-amber-50/80 dark:bg-slate-900":i==="yellow","bg-orange-50/80 dark:bg-slate-900":i==="orange","bg-red-50/80 dark:bg-slate-900":i==="red","bg-purple-50/80 dark:bg-slate-900":i==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":r}),children:[(0,Ki.jsxs)("div",{className:(0,Eh.default)("text-neutral-900 dark:text-white grow self-center overflow-hidden break-words","ml-4"),children:[(0,Ki.jsxs)(oi,{id:s,kind:BD(e),children:[BD(e)," ",o]})," ",t&&(0,Ki.jsxs)(Ki.Fragment,{children:["(",t,")"]})]}),r&&(0,Ki.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Ki.jsx)(xa,{width:"1.5rem",height:"1.5rem",className:(0,Eh.default)(gU,"transition-transform details-toggle")})})]}),(0,Ki.jsx)("div",{className:(0,Eh.default)("px-4",{"details-body":r}),children:n})]})}var vU=({node:t,className:e})=>{let[i,...r]=t.children,n=hU(t.class),{color:s}=fU({kind:t.kind,classes:n}),o=n.includes("dropdown"),a=i?.type==="admonitionTitle";return(0,Ki.jsx)(_U,{identifier:t.html_id,title:a?(0,Ki.jsx)(we,{ast:[i]}):void 0,kind:t.kind,enumerator:t.enumerator,color:s,dropdown:o,className:e,children:a?(0,Ki.jsx)(we,{ast:r}):(0,Ki.jsx)(we,{ast:t.children})})},bU={proof:vU},HD=bU;var Nt=H(Ce(),1);var ql=H(pt(),1);function jD(t){var e;let i=(e=t?.split(" ").map(r=>r.trim().toLowerCase()).filter(r=>!!r))!==null&&e!==void 0?e:[];return[...new Set(i)]}function FD({classes:t=[]},e="blue"){return t.includes("gray")?{color:"gray"}:t.includes("purple")?{color:"purple"}:t.includes("yellow")?{color:"yellow"}:t.includes("orange")?{color:"orange"}:t.includes("green")?{color:"green"}:t.includes("red")?{color:"red"}:t.includes("blue")?{color:"blue"}:{color:e}}var xU=({id:t,dropdown:e,className:i,children:r})=>e?(0,Nt.jsx)("details",{id:t,className:i,children:r}):(0,Nt.jsx)("aside",{id:t,className:i,children:r}),yU=({dropdown:t,className:e,children:i})=>t?(0,Nt.jsx)("summary",{className:e,children:i}):(0,Nt.jsx)("div",{className:e,children:i}),wU="inline-block pl-2 mr-2 self-center flex-none";function Rv({title:t,color:e,dropdown:i,children:r,identifier:n,className:s,Icon:o}){return(0,Nt.jsxs)(xU,{id:n,dropdown:i,className:(0,ql.default)("my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!e||e==="gray","dark:border-blue-500/60":e==="blue","dark:border-green-500/60":e==="green","dark:border-amber-500/70":e==="yellow","dark:border-orange-500/60":e==="orange","dark:border-red-500/60":e==="red","dark:border-purple-500/60":e==="purple"},s),children:[(0,Nt.jsxs)(yU,{dropdown:i,className:(0,ql.default)("m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!e||e==="gray","bg-blue-50/80 dark:bg-slate-900":e==="blue","bg-green-50/80 dark:bg-slate-900":e==="green","bg-amber-50/80 dark:bg-slate-900":e==="yellow","bg-orange-50/80 dark:bg-slate-900":e==="orange","bg-red-50/80 dark:bg-slate-900":e==="red","bg-purple-50/80 dark:bg-slate-900":e==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":i}),children:[o&&(0,Nt.jsx)(o,{width:"2rem",height:"2rem",className:(0,ql.default)("inline-block pl-2 mr-2 self-center flex-none",(0,ql.default)({"text-gray-600":!e||e==="gray","text-blue-600":e==="blue","text-green-600":e==="green","text-amber-600":e==="yellow","text-orange-600":e==="orange","text-red-600":e==="red","text-purple-600":e==="purple"}))}),(0,Nt.jsx)("div",{className:(0,ql.default)("text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":!o},"group"),children:t}),i&&(0,Nt.jsx)("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:(0,Nt.jsx)(xa,{width:"1.5rem",height:"1.5rem",className:(0,ql.default)(wU,"transition-transform details-toggle")})})]}),(0,Nt.jsx)("div",{className:(0,ql.default)("px-4",{"details-body":i}),children:r})]})}var CU=({node:t,className:e})=>{var i,r,n;if(t.hidden)return null;let[s,...o]=(i=t.children)!==null&&i!==void 0?i:[],a=jD(t.class),{color:l}=FD({classes:a}),c=a.includes("dropdown"),u=((n=(r=t.children)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.type)==="admonitionTitle",d=t.html_id,f=t.enumerator,h=(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)(oi,{id:d,kind:"Exercise",children:[t.gate==="start"&&"Start of ",t.gate==="end"&&"End of ","Exercise",f!=null&&(0,Nt.jsxs)(Nt.Fragment,{children:[" ",f]})]}),u&&(0,Nt.jsxs)(Nt.Fragment,{children:[" ","(",(0,Nt.jsx)(we,{ast:[s]}),")"]})]});return(0,Nt.jsx)(Rv,{identifier:d,title:h,color:l,dropdown:c,className:e,children:u?(0,Nt.jsx)(we,{ast:o}):(0,Nt.jsx)(we,{ast:t.children})})},SU=({node:t,className:e})=>{var i,r,n;if(t.hidden)return null;let[s,...o]=(i=t.children)!==null&&i!==void 0?i:[],a=jD(t.class),{color:l}=FD({classes:a},"gray"),c=a.includes("dropdown"),u=((n=(r=t.children)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.type)==="admonitionTitle",d=t.html_id,f=(0,Nt.jsxs)(Nt.Fragment,{children:[t.gate==="start"&&"Start of ",t.gate==="end"&&"End of ",(0,Nt.jsx)(we,{ast:[s]}),(0,Nt.jsx)(oi,{id:d,kind:"Solution",hover:!0,hideInPopup:!0,children:" #"})]});return(0,Nt.jsx)(Rv,{identifier:d,title:u?f:void 0,color:l,dropdown:c,className:e,children:u?(0,Nt.jsx)(we,{ast:o}):(0,Nt.jsx)(we,{ast:t.children})})},EU={exercise:CU,solution:SU},$D=EU;var La=H(Ce(),1);var zC=H(pt(),1);function IU(t){switch(t){case"topic":return{container:"my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400",title:"m-0 font-medium py-2 px-4 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900",body:"px-4"};case"margin":case"sidebar":default:return{container:"text-sm lg:h-0 col-margin-right",title:"text-base font-semibold",body:""}}}var MU=({node:t,className:e})=>{let[i,...r]=t.children,n=IU(t.kind);return i.type!=="admonitionTitle"?(0,La.jsx)("aside",{className:(0,zC.default)(n.container,t.class,e),children:(0,La.jsx)(we,{ast:t.children})}):(0,La.jsxs)("aside",{className:(0,zC.default)(n.container,t.class,e),children:[(0,La.jsx)("div",{className:n.title,children:(0,La.jsx)(we,{ast:i})}),(0,La.jsx)("div",{className:n.body,children:(0,La.jsx)(we,{ast:r})})]})},kU={aside:MU},WD=kU;var Ul=H(Ce(),1);var TU=({node:t,className:e})=>{let i=(0,Ul.jsxs)(Ul.Fragment,{children:[(0,Ul.jsx)("code",{children:t.name})," - Unknown Directive"]});return(0,Ul.jsx)(Rv,{title:i,color:"red",dropdown:!0,Icon:Em,className:e,children:(0,Ul.jsx)("pre",{children:t.value})})},AU={mystDirective:TU},qD=AU;var Lv=uT([WL,qD,FN,wD,LN,ON,eN,AD,BN,tN,VL,zN,ED,ID,GL,YL,JL,PD,OD,HD,$D,WD],!0);var gt=H(Ce(),1);var Nv=function(t){if(t==null)return DU;if(typeof t=="function")return Dv(t);if(typeof t=="object")return Array.isArray(t)?RU(t):LU(t);if(typeof t=="string")return NU(t);throw new Error("Expected function, string, or object as test")};function RU(t){let e=[],i=-1;for(;++i<t.length;)e[i]=Nv(t[i]);return Dv(r);function r(...n){let s=-1;for(;++s<e.length;)if(e[s].apply(this,n))return!0;return!1}}function LU(t){let e=t;return Dv(i);function i(r){let n=r,s;for(s in t)if(n[s]!==e[s])return!1;return!0}}function NU(t){return Dv(e);function e(i){return i&&i.type===t}}function Dv(t){return e;function e(i,r,n){return Boolean(OU(i)&&t.call(this,i,typeof r=="number"?r:void 0,n||void 0))}}function DU(){return!0}function OU(t){return t!==null&&typeof t=="object"&&"type"in t}function Ov(t,e,i){let r=Nv(i||e),n=!0;e&&typeof e=="object"&&"cascade"in e&&typeof e.cascade=="boolean"&&(n=e.cascade),s(t);function s(o,a,l){if(o!==t&&r(o,a,l))return!1;if("children"in o&&Array.isArray(o.children)){let c=o,u=c.children,d=-1,f=0;if(u.length>0){for(;++d<u.length;)s(u[d],d,c)&&(u[f++]=u[d]);if(o!==t&&n&&!f)return!1;u.length=f}}return!0}}function oO(t){return typeof t>"u"||t===null}function zU(t){return typeof t=="object"&&t!==null}function PU(t){return Array.isArray(t)?t:oO(t)?[]:[t]}function BU(t,e){var i,r,n,s;if(e)for(s=Object.keys(e),i=0,r=s.length;i<r;i+=1)n=s[i],t[n]=e[n];return t}function HU(t,e){var i="",r;for(r=0;r<e;r+=1)i+=t;return i}function jU(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var FU=oO,$U=zU,WU=PU,qU=HU,UU=jU,VU=BU,dr={isNothing:FU,isObject:$U,toArray:WU,repeat:qU,isNegativeZero:UU,extend:VU};function aO(t,e){var i="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),r+" "+i):r}function Vm(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=aO(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Vm.prototype=Object.create(Error.prototype);Vm.prototype.constructor=Vm;Vm.prototype.toString=function(e){return this.name+": "+aO(this,e)};var kn=Vm;function PC(t,e,i,r,n){var s="",o="",a=Math.floor(n/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),i-r>a&&(o=" ...",i=r+a-o.length),{str:s+t.slice(e,i).replace(/\t/g,"\u2192")+o,pos:r-e+s.length}}function BC(t,e){return dr.repeat(" ",e-t.length)+t}function GU(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],n=[],s,o=-1;s=i.exec(t.buffer);)n.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,c,u=Math.min(t.line+e.linesAfter,n.length).toString().length,d=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=PC(t.buffer,r[o-l],n[o-l],t.position-(r[o]-r[o-l]),d),a=dr.repeat(" ",e.indent)+BC((t.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=PC(t.buffer,r[o],n[o],t.position,d),a+=dr.repeat(" ",e.indent)+BC((t.line+1).toString(),u)+" | "+c.str+`
`,a+=dr.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=n.length);l++)c=PC(t.buffer,r[o+l],n[o+l],t.position-(r[o]-r[o+l]),d),a+=dr.repeat(" ",e.indent)+BC((t.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var YU=GU,XU=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],KU=["scalar","sequence","mapping"];function JU(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(r){e[String(r)]=i})}),e}function ZU(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(XU.indexOf(i)===-1)throw new kn('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=JU(e.styleAliases||null),KU.indexOf(this.kind)===-1)throw new kn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var qr=ZU;function UD(t,e){var i=[];return t[e].forEach(function(r){var n=i.length;i.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(n=o)}),i[n]=r}),i}function QU(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function r(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(r);return t}function jC(t){return this.extend(t)}jC.prototype.extend=function(e){var i=[],r=[];if(e instanceof qr)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new kn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof qr))throw new kn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new kn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new kn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof qr))throw new kn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(jC.prototype);return n.implicit=(this.implicit||[]).concat(i),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=UD(n,"implicit"),n.compiledExplicit=UD(n,"explicit"),n.compiledTypeMap=QU(n.compiledImplicit,n.compiledExplicit),n};var e7=jC,t7=new qr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),i7=new qr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),r7=new qr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),n7=new e7({explicit:[t7,i7,r7]});function s7(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function o7(){return null}function a7(t){return t===null}var l7=new qr("tag:yaml.org,2002:null",{kind:"scalar",resolve:s7,construct:o7,predicate:a7,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function c7(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function d7(t){return t==="true"||t==="True"||t==="TRUE"}function u7(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var h7=new qr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:c7,construct:d7,predicate:u7,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function f7(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function m7(t){return 48<=t&&t<=55}function p7(t){return 48<=t&&t<=57}function g7(t){if(t===null)return!1;var e=t.length,i=0,r=!1,n;if(!e)return!1;if(n=t[i],(n==="-"||n==="+")&&(n=t[++i]),n==="0"){if(i+1===e)return!0;if(n=t[++i],n==="b"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(n!=="0"&&n!=="1")return!1;r=!0}return r&&n!=="_"}if(n==="x"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!f7(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}if(n==="o"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!m7(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}}if(n==="_")return!1;for(;i<e;i++)if(n=t[i],n!=="_"){if(!p7(t.charCodeAt(i)))return!1;r=!0}return!(!r||n==="_")}function _7(t){var e=t,i=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}function v7(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!dr.isNegativeZero(t)}var b7=new qr("tag:yaml.org,2002:int",{kind:"scalar",resolve:g7,construct:_7,predicate:v7,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),x7=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function y7(t){return!(t===null||!x7.test(t)||t[t.length-1]==="_")}function w7(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}var C7=/^[-+]?[0-9]+e/;function S7(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(dr.isNegativeZero(t))return"-0.0";return i=t.toString(10),C7.test(i)?i.replace("e",".e"):i}function E7(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||dr.isNegativeZero(t))}var I7=new qr("tag:yaml.org,2002:float",{kind:"scalar",resolve:y7,construct:w7,predicate:E7,represent:S7,defaultStyle:"lowercase"}),M7=n7.extend({implicit:[l7,h7,b7,I7]}),k7=M7,lO=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),cO=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function T7(t){return t===null?!1:lO.exec(t)!==null||cO.exec(t)!==null}function A7(t){var e,i,r,n,s,o,a,l=0,c=null,u,d,f;if(e=lO.exec(t),e===null&&(e=cO.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],r=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(i,r,n));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],d=+(e[11]||0),c=(u*60+d)*6e4,e[9]==="-"&&(c=-c)),f=new Date(Date.UTC(i,r,n,s,o,a,l)),c&&f.setTime(f.getTime()-c),f}function R7(t){return t.toISOString()}var L7=new qr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:T7,construct:A7,instanceOf:Date,represent:R7});function N7(t){return t==="<<"||t===null}var D7=new qr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:N7}),UC=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function O7(t){if(t===null)return!1;var e,i,r=0,n=t.length,s=UC;for(i=0;i<n;i++)if(e=s.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function z7(t){var e,i,r=t.replace(/[\r\n=]/g,""),n=r.length,s=UC,o=0,a=[];for(e=0;e<n;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return i=n%4*6,i===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):i===18?(a.push(o>>10&255),a.push(o>>2&255)):i===12&&a.push(o>>4&255),new Uint8Array(a)}function P7(t){var e="",i=0,r,n,s=t.length,o=UC;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]),i=(i<<8)+t[r];return n=s%3,n===0?(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]):n===2?(e+=o[i>>10&63],e+=o[i>>4&63],e+=o[i<<2&63],e+=o[64]):n===1&&(e+=o[i>>2&63],e+=o[i<<4&63],e+=o[64],e+=o[64]),e}function B7(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var H7=new qr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:O7,construct:z7,predicate:B7,represent:P7}),j7=Object.prototype.hasOwnProperty,F7=Object.prototype.toString;function $7(t){if(t===null)return!0;var e=[],i,r,n,s,o,a=t;for(i=0,r=a.length;i<r;i+=1){if(n=a[i],o=!1,F7.call(n)!=="[object Object]")return!1;for(s in n)if(j7.call(n,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function W7(t){return t!==null?t:[]}var q7=new qr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:$7,construct:W7}),U7=Object.prototype.toString;function V7(t){if(t===null)return!0;var e,i,r,n,s,o=t;for(s=new Array(o.length),e=0,i=o.length;e<i;e+=1){if(r=o[e],U7.call(r)!=="[object Object]"||(n=Object.keys(r),n.length!==1))return!1;s[e]=[n[0],r[n[0]]]}return!0}function G7(t){if(t===null)return[];var e,i,r,n,s,o=t;for(s=new Array(o.length),e=0,i=o.length;e<i;e+=1)r=o[e],n=Object.keys(r),s[e]=[n[0],r[n[0]]];return s}var Y7=new qr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:V7,construct:G7}),X7=Object.prototype.hasOwnProperty;function K7(t){if(t===null)return!0;var e,i=t;for(e in i)if(X7.call(i,e)&&i[e]!==null)return!1;return!0}function J7(t){return t!==null?t:{}}var Z7=new qr("tag:yaml.org,2002:set",{kind:"mapping",resolve:K7,construct:J7}),dO=k7.extend({implicit:[L7,D7],explicit:[H7,q7,Y7,Z7]}),Gl=Object.prototype.hasOwnProperty,zv=1,uO=2,hO=3,Pv=4,HC=1,Q7=2,VD=3,e9=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,t9=/[\x85\u2028\u2029]/,i9=/[,\[\]\{\}]/,fO=/^(?:!|!!|![a-z\-]+!)$/i,mO=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function GD(t){return Object.prototype.toString.call(t)}function Ho(t){return t===10||t===13}function nd(t){return t===9||t===32}function Tn(t){return t===9||t===32||t===10||t===13}function Mh(t){return t===44||t===91||t===93||t===123||t===125}function r9(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function n9(t){return t===120?2:t===117?4:t===85?8:0}function s9(t){return 48<=t&&t<=57?t-48:-1}function YD(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function o9(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var pO=new Array(256),gO=new Array(256);for(rd=0;rd<256;rd++)pO[rd]=YD(rd)?1:0,gO[rd]=YD(rd);var rd;function a9(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||dO,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function _O(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=YU(i),new kn(e,i)}function Qe(t,e){throw _O(t,e)}function Bv(t,e){t.onWarning&&t.onWarning.call(null,_O(t,e))}var XD={YAML:function(e,i,r){var n,s,o;e.version!==null&&Qe(e,"duplication of %YAML directive"),r.length!==1&&Qe(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),n===null&&Qe(e,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),o=parseInt(n[2],10),s!==1&&Qe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Bv(e,"unsupported YAML version of the document")},TAG:function(e,i,r){var n,s;r.length!==2&&Qe(e,"TAG directive accepts exactly two arguments"),n=r[0],s=r[1],fO.test(n)||Qe(e,"ill-formed tag handle (first argument) of the TAG directive"),Gl.call(e.tagMap,n)&&Qe(e,'there is a previously declared suffix for "'+n+'" tag handle'),mO.test(s)||Qe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Qe(e,"tag prefix is malformed: "+s)}e.tagMap[n]=s}};function Vl(t,e,i,r){var n,s,o,a;if(e<i){if(a=t.input.slice(e,i),r)for(n=0,s=a.length;n<s;n+=1)o=a.charCodeAt(n),o===9||32<=o&&o<=1114111||Qe(t,"expected valid JSON character");else e9.test(a)&&Qe(t,"the stream contains non-printable characters");t.result+=a}}function KD(t,e,i,r){var n,s,o,a;for(dr.isObject(i)||Qe(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(i),o=0,a=n.length;o<a;o+=1)s=n[o],Gl.call(e,s)||(e[s]=i[s],r[s]=!0)}function kh(t,e,i,r,n,s,o,a,l){var c,u;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),c=0,u=n.length;c<u;c+=1)Array.isArray(n[c])&&Qe(t,"nested arrays are not supported inside keys"),typeof n=="object"&&GD(n[c])==="[object Object]"&&(n[c]="[object Object]");if(typeof n=="object"&&GD(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)KD(t,e,s[c],i);else KD(t,e,s,i);else!t.json&&!Gl.call(i,n)&&Gl.call(e,n)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,Qe(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[n]=s,delete i[n];return e}function VC(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Qe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Ji(t,e,i){for(var r=0,n=t.input.charCodeAt(t.position);n!==0;){for(;nd(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(Ho(n))for(VC(t),n=t.input.charCodeAt(t.position),r++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return i!==-1&&r!==0&&t.lineIndent<i&&Bv(t,"deficient indentation"),r}function Fv(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||Tn(i)))}function GC(t,e){e===1?t.result+=" ":e>1&&(t.result+=dr.repeat(`
`,e-1))}function l9(t,e,i){var r,n,s,o,a,l,c,u,d=t.kind,f=t.result,h;if(h=t.input.charCodeAt(t.position),Tn(h)||Mh(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(n=t.input.charCodeAt(t.position+1),Tn(n)||i&&Mh(n)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;h!==0;){if(h===58){if(n=t.input.charCodeAt(t.position+1),Tn(n)||i&&Mh(n))break}else if(h===35){if(r=t.input.charCodeAt(t.position-1),Tn(r))break}else{if(t.position===t.lineStart&&Fv(t)||i&&Mh(h))break;if(Ho(h))if(l=t.line,c=t.lineStart,u=t.lineIndent,Ji(t,!1,-1),t.lineIndent>=e){a=!0,h=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(Vl(t,s,o,!1),GC(t,t.line-l),s=o=t.position,a=!1),nd(h)||(o=t.position+1),h=t.input.charCodeAt(++t.position)}return Vl(t,s,o,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function c9(t,e){var i,r,n;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Vl(t,r,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)r=t.position,t.position++,n=t.position;else return!0;else Ho(i)?(Vl(t,r,n,!0),GC(t,Ji(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Fv(t)?Qe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);Qe(t,"unexpected end of the stream within a single quoted scalar")}function d9(t,e){var i,r,n,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Vl(t,i,t.position,!0),t.position++,!0;if(a===92){if(Vl(t,i,t.position,!0),a=t.input.charCodeAt(++t.position),Ho(a))Ji(t,!1,e);else if(a<256&&pO[a])t.result+=gO[a],t.position++;else if((o=n9(a))>0){for(n=o,s=0;n>0;n--)a=t.input.charCodeAt(++t.position),(o=r9(a))>=0?s=(s<<4)+o:Qe(t,"expected hexadecimal character");t.result+=o9(s),t.position++}else Qe(t,"unknown escape sequence");i=r=t.position}else Ho(a)?(Vl(t,i,r,!0),GC(t,Ji(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Fv(t)?Qe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Qe(t,"unexpected end of the stream within a double quoted scalar")}function u9(t,e){var i=!0,r,n,s,o=t.tag,a,l=t.anchor,c,u,d,f,h,m=Object.create(null),p,_,x,y;if(y=t.input.charCodeAt(t.position),y===91)u=93,h=!1,a=[];else if(y===123)u=125,h=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),y=t.input.charCodeAt(++t.position);y!==0;){if(Ji(t,!0,e),y=t.input.charCodeAt(t.position),y===u)return t.position++,t.tag=o,t.anchor=l,t.kind=h?"mapping":"sequence",t.result=a,!0;i?y===44&&Qe(t,"expected the node content, but found ','"):Qe(t,"missed comma between flow collection entries"),_=p=x=null,d=f=!1,y===63&&(c=t.input.charCodeAt(t.position+1),Tn(c)&&(d=f=!0,t.position++,Ji(t,!0,e))),r=t.line,n=t.lineStart,s=t.position,Th(t,e,zv,!1,!0),_=t.tag,p=t.result,Ji(t,!0,e),y=t.input.charCodeAt(t.position),(f||t.line===r)&&y===58&&(d=!0,y=t.input.charCodeAt(++t.position),Ji(t,!0,e),Th(t,e,zv,!1,!0),x=t.result),h?kh(t,a,m,_,p,x,r,n,s):d?a.push(kh(t,null,m,_,p,x,r,n,s)):a.push(p),Ji(t,!0,e),y=t.input.charCodeAt(t.position),y===44?(i=!0,y=t.input.charCodeAt(++t.position)):i=!1}Qe(t,"unexpected end of the stream within a flow collection")}function h9(t,e){var i,r,n=HC,s=!1,o=!1,a=e,l=0,c=!1,u,d;if(d=t.input.charCodeAt(t.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)HC===n?n=d===43?VD:Q7:Qe(t,"repeat of a chomping mode identifier");else if((u=s9(d))>=0)u===0?Qe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Qe(t,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(nd(d)){do d=t.input.charCodeAt(++t.position);while(nd(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!Ho(d)&&d!==0)}for(;d!==0;){for(VC(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Ho(d)){l++;continue}if(t.lineIndent<a){n===VD?t.result+=dr.repeat(`
`,s?1+l:l):n===HC&&s&&(t.result+=`
`);break}for(r?nd(d)?(c=!0,t.result+=dr.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=dr.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=dr.repeat(`
`,l):t.result+=dr.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,i=t.position;!Ho(d)&&d!==0;)d=t.input.charCodeAt(++t.position);Vl(t,i,t.position,!1)}return!0}function JD(t,e){var i,r=t.tag,n=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Tn(o))));){if(a=!0,t.position++,Ji(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(i=t.line,Th(t,e,hO,!1,!0),s.push(t.result),Ji(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&l!==0)Qe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=n,t.kind="sequence",t.result=s,!0):!1}function f9(t,e,i){var r,n,s,o,a,l,c=t.tag,u=t.anchor,d={},f=Object.create(null),h=null,m=null,p=null,_=!1,x=!1,y;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),y=t.input.charCodeAt(t.position);y!==0;){if(!_&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(y===63||y===58)&&Tn(r))y===63?(_&&(kh(t,d,f,h,m,null,o,a,l),h=m=p=null),x=!0,_=!0,n=!0):_?(_=!1,n=!0):Qe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,y=r;else{if(o=t.line,a=t.lineStart,l=t.position,!Th(t,i,uO,!1,!0))break;if(t.line===s){for(y=t.input.charCodeAt(t.position);nd(y);)y=t.input.charCodeAt(++t.position);if(y===58)y=t.input.charCodeAt(++t.position),Tn(y)||Qe(t,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(kh(t,d,f,h,m,null,o,a,l),h=m=p=null),x=!0,_=!1,n=!1,h=t.tag,m=t.result;else if(x)Qe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(x)Qe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(_&&(o=t.line,a=t.lineStart,l=t.position),Th(t,e,Pv,!0,n)&&(_?m=t.result:p=t.result),_||(kh(t,d,f,h,m,p,o,a,l),h=m=p=null),Ji(t,!0,-1),y=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&y!==0)Qe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return _&&kh(t,d,f,h,m,null,o,a,l),x&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=d),x}function m9(t){var e,i=!1,r=!1,n,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Qe(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(i=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,n="!!",o=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Qe(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Tn(o);)o===33&&(r?Qe(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),fO.test(n)||Qe(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),i9.test(s)&&Qe(t,"tag suffix cannot contain flow indicator characters")}s&&!mO.test(s)&&Qe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Qe(t,"tag name is malformed: "+s)}return i?t.tag=s:Gl.call(t.tagMap,n)?t.tag=t.tagMap[n]+s:n==="!"?t.tag="!"+s:n==="!!"?t.tag="tag:yaml.org,2002:"+s:Qe(t,'undeclared tag handle "'+n+'"'),!0}function p9(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&Qe(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Tn(i)&&!Mh(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function g9(t){var e,i,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Tn(r)&&!Mh(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),Gl.call(t.anchorMap,i)||Qe(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],Ji(t,!0,-1),!0}function Th(t,e,i,r,n){var s,o,a,l=1,c=!1,u=!1,d,f,h,m,p,_;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Pv===i||hO===i,r&&Ji(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;m9(t)||p9(t);)Ji(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||n),(l===1||Pv===i)&&(zv===i||uO===i?p=e:p=e+1,_=t.position-t.lineStart,l===1?a&&(JD(t,_)||f9(t,_,p))||u9(t,p)?u=!0:(o&&h9(t,p)||c9(t,p)||d9(t,p)?u=!0:g9(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&Qe(t,"alias node should not have any properties")):l9(t,p,zv===i)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&JD(t,_))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Qe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(m=t.implicitTypes[d],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Gl.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,h=t.typeMap.multi[t.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(t.tag.slice(0,h[d].tag.length)===h[d].tag){m=h[d];break}m||Qe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&Qe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Qe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function _9(t){var e=t.position,i,r,n,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(Ji(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),i=t.position;o!==0&&!Tn(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(i,t.position),n=[],r.length<1&&Qe(t,"directive name must not be less than one character in length");o!==0;){for(;nd(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Ho(o));break}if(Ho(o))break;for(i=t.position;o!==0&&!Tn(o);)o=t.input.charCodeAt(++t.position);n.push(t.input.slice(i,t.position))}o!==0&&VC(t),Gl.call(XD,r)?XD[r](t,r,n):Bv(t,'unknown document directive "'+r+'"')}if(Ji(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ji(t,!0,-1)):s&&Qe(t,"directives end mark is expected"),Th(t,t.lineIndent-1,Pv,!1,!0),Ji(t,!0,-1),t.checkLineBreaks&&t9.test(t.input.slice(e,t.position))&&Bv(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Fv(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ji(t,!0,-1));return}if(t.position<t.length-1)Qe(t,"end of the stream or a document separator is expected");else return}function vO(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new a9(t,e),r=t.indexOf("\0");for(r!==-1&&(i.position=r,Qe(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)_9(i);return i.documents}function v9(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var r=vO(t,i);if(typeof e!="function")return r;for(var n=0,s=r.length;n<s;n+=1)e(r[n])}function b9(t,e){var i=vO(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new kn("expected a single document in the stream, but found more")}}var x9=v9,y9=b9,bO={loadAll:x9,load:y9},xO=Object.prototype.toString,yO=Object.prototype.hasOwnProperty,YC=65279,w9=9,Gm=10,C9=13,S9=32,E9=33,I9=34,FC=35,M9=37,k9=38,T9=39,A9=42,wO=44,R9=45,Hv=58,L9=61,N9=62,D9=63,O9=64,CO=91,SO=93,z9=96,EO=123,P9=124,IO=125,Ur={};Ur[0]="\\0";Ur[7]="\\a";Ur[8]="\\b";Ur[9]="\\t";Ur[10]="\\n";Ur[11]="\\v";Ur[12]="\\f";Ur[13]="\\r";Ur[27]="\\e";Ur[34]='\\"';Ur[92]="\\\\";Ur[133]="\\N";Ur[160]="\\_";Ur[8232]="\\L";Ur[8233]="\\P";var B9=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],H9=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function j9(t,e){var i,r,n,s,o,a,l;if(e===null)return{};for(i={},r=Object.keys(e),n=0,s=r.length;n<s;n+=1)o=r[n],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&yO.call(l.styleAliases,a)&&(a=l.styleAliases[a]),i[o]=a;return i}function F9(t){var e,i,r;if(e=t.toString(16).toUpperCase(),t<=255)i="x",r=2;else if(t<=65535)i="u",r=4;else if(t<=4294967295)i="U",r=8;else throw new kn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+dr.repeat("0",r-e.length)+e}var $9=1,Ym=2;function W9(t){this.schema=t.schema||dO,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=dr.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=j9(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Ym:$9,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ZD(t,e){for(var i=dr.repeat(" ",e),r=0,n=-1,s="",o,a=t.length;r<a;)n=t.indexOf(`
`,r),n===-1?(o=t.slice(r),r=a):(o=t.slice(r,n+1),r=n+1),o.length&&o!==`
`&&(s+=i),s+=o;return s}function $C(t,e){return`
`+dr.repeat(" ",t.indent*e)}function q9(t,e){var i,r,n;for(i=0,r=t.implicitTypes.length;i<r;i+=1)if(n=t.implicitTypes[i],n.resolve(e))return!0;return!1}function jv(t){return t===S9||t===w9}function Xm(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==YC||65536<=t&&t<=1114111}function QD(t){return Xm(t)&&t!==YC&&t!==C9&&t!==Gm}function eO(t,e,i){var r=QD(t),n=r&&!jv(t);return(i?r:r&&t!==wO&&t!==CO&&t!==SO&&t!==EO&&t!==IO)&&t!==FC&&!(e===Hv&&!n)||QD(e)&&!jv(e)&&t===FC||e===Hv&&n}function U9(t){return Xm(t)&&t!==YC&&!jv(t)&&t!==R9&&t!==D9&&t!==Hv&&t!==wO&&t!==CO&&t!==SO&&t!==EO&&t!==IO&&t!==FC&&t!==k9&&t!==A9&&t!==E9&&t!==P9&&t!==L9&&t!==N9&&t!==T9&&t!==I9&&t!==M9&&t!==O9&&t!==z9}function V9(t){return!jv(t)&&t!==Hv}function Um(t,e){var i=t.charCodeAt(e),r;return i>=55296&&i<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function MO(t){var e=/^\n* /;return e.test(t)}var kO=1,WC=2,TO=3,AO=4,Ih=5;function G9(t,e,i,r,n,s,o,a){var l,c=0,u=null,d=!1,f=!1,h=r!==-1,m=-1,p=U9(Um(t,0))&&V9(Um(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Um(t,l),!Xm(c))return Ih;p=p&&eO(c,u,a),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Um(t,l),c===Gm)d=!0,h&&(f=f||l-m-1>r&&t[m+1]!==" ",m=l);else if(!Xm(c))return Ih;p=p&&eO(c,u,a),u=c}f=f||h&&l-m-1>r&&t[m+1]!==" "}return!d&&!f?p&&!o&&!n(t)?kO:s===Ym?Ih:WC:i>9&&MO(t)?Ih:o?s===Ym?Ih:WC:f?AO:TO}function Y9(t,e,i,r,n){t.dump=function(){if(e.length===0)return t.quotingType===Ym?'""':"''";if(!t.noCompatMode&&(B9.indexOf(e)!==-1||H9.test(e)))return t.quotingType===Ym?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,i),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&i>=t.flowLevel;function l(c){return q9(t,c)}switch(G9(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,n)){case kO:return e;case WC:return"'"+e.replace(/'/g,"''")+"'";case TO:return"|"+tO(e,t.indent)+iO(ZD(e,s));case AO:return">"+tO(e,t.indent)+iO(ZD(X9(e,o),s));case Ih:return'"'+K9(e)+'"';default:throw new kn("impossible error: invalid scalar style")}}()}function tO(t,e){var i=MO(t)?String(e):"",r=t[t.length-1]===`
`,n=r&&(t[t.length-2]===`
`||t===`
`),s=n?"+":r?"":"-";return i+s+`
`}function iO(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function X9(t,e){for(var i=/(\n+)([^\n]*)/g,r=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,i.lastIndex=c,rO(t.slice(0,c),e)}(),n=t[0]===`
`||t[0]===" ",s,o;o=i.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!n&&!s&&l!==""?`
`:"")+rO(l,e),n=s}return r}function rO(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,r,n=0,s,o=0,a=0,l="";r=i.exec(t);)a=r.index,a-n>e&&(s=o>n?o:a,l+=`
`+t.slice(n,s),n=s+1),o=a;return l+=`
`,t.length-n>e&&o>n?l+=t.slice(n,o)+`
`+t.slice(o+1):l+=t.slice(n),l.slice(1)}function K9(t){for(var e="",i=0,r,n=0;n<t.length;i>=65536?n+=2:n++)i=Um(t,n),r=Ur[i],!r&&Xm(i)?(e+=t[n],i>=65536&&(e+=t[n+1])):e+=r||F9(i);return e}function J9(t,e,i){var r="",n=t.tag,s,o,a;for(s=0,o=i.length;s<o;s+=1)a=i[s],t.replacer&&(a=t.replacer.call(i,String(s),a)),(Na(t,e,a,!1,!1)||typeof a>"u"&&Na(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=n,t.dump="["+r+"]"}function nO(t,e,i,r){var n="",s=t.tag,o,a,l;for(o=0,a=i.length;o<a;o+=1)l=i[o],t.replacer&&(l=t.replacer.call(i,String(o),l)),(Na(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Na(t,e+1,null,!0,!0,!1,!0))&&((!r||n!=="")&&(n+=$C(t,e)),t.dump&&Gm===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=s,t.dump=n||"[]"}function Z9(t,e,i){var r="",n=t.tag,s=Object.keys(i),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",r!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[o],c=i[l],t.replacer&&(c=t.replacer.call(i,l,c)),Na(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Na(t,e,c,!1,!1)&&(u+=t.dump,r+=u));t.tag=n,t.dump="{"+r+"}"}function Q9(t,e,i,r){var n="",s=t.tag,o=Object.keys(i),a,l,c,u,d,f;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new kn("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)f="",(!r||n!=="")&&(f+=$C(t,e)),c=o[a],u=i[c],t.replacer&&(u=t.replacer.call(i,c,u)),Na(t,e+1,c,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&Gm===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=$C(t,e)),Na(t,e+1,u,!0,d)&&(t.dump&&Gm===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,n+=f));t.tag=s,t.dump=n||"{}"}function sO(t,e,i){var r,n,s,o,a,l;for(n=i?t.explicitTypes:t.implicitTypes,s=0,o=n.length;s<o;s+=1)if(a=n[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(i?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,xO.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(yO.call(a.represent,l))r=a.represent[l](e,l);else throw new kn("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Na(t,e,i,r,n,s,o){t.tag=null,t.dump=i,sO(t,i,!1)||sO(t,i,!0);var a=xO.call(t.dump),l=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",d,f;if(u&&(d=t.duplicates.indexOf(i),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(n=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(u&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(Q9(t,e,t.dump,n),f&&(t.dump="&ref_"+d+t.dump)):(Z9(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?nO(t,e-1,t.dump,n):nO(t,e,t.dump,n),f&&(t.dump="&ref_"+d+t.dump)):(J9(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Y9(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new kn("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function eV(t,e){var i=[],r=[],n,s;for(qC(t,i,r),n=0,s=r.length;n<s;n+=1)e.duplicates.push(i[r[n]]);e.usedDuplicates=new Array(s)}function qC(t,e,i){var r,n,s;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)i.indexOf(n)===-1&&i.push(n);else if(e.push(t),Array.isArray(t))for(n=0,s=t.length;n<s;n+=1)qC(t[n],e,i);else for(r=Object.keys(t),n=0,s=r.length;n<s;n+=1)qC(t[r[n]],e,i)}function tV(t,e){e=e||{};var i=new W9(e);i.noRefs||eV(t,i);var r=t;return i.replacer&&(r=i.replacer.call({"":r},"",r)),Na(i,0,r,!0,!0)?i.dump+`
`:""}var iV=tV,rV={dump:iV};function XC(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var RO=bO.load,wce=bO.loadAll,LO=rV.dump;var Cce=XC("safeLoad","load"),Sce=XC("safeLoadAll","loadAll"),Ece=XC("safeDump","dump");var xi=H(be(),1),As=H(pt(),1);var NO=function(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},nV=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i};function sV(t,e){let i=document.createElement("a"),r=URL.createObjectURL(e);i.href=r,i.download=t,i.click()}function oV(t,e){return NO(this,void 0,void 0,function*(){let{unified:i}=yield import("/myst_assets_folder/_shared/unified-W3MMCS54.js"),{mystToDocx:r,fetchImagesAsBuffers:n}=yield import("/myst_assets_folder/_shared/dist-7PO2VHOK.js"),s=JSON.parse(JSON.stringify(e)),o=yield n(s),a=yield i().use(r,o).stringify(s).result;sV(t,a)})}function aV(t,e){var i,r;let s=(r=(((i=e.children[0])===null||i===void 0?void 0:i.type)==="block"?e.children[0]:e).children)===null||r===void 0?void 0:r[0],o={};if(s?.type==="code"&&s?.lang==="yaml")try{o=RO(s.value)||{},s.type="__delete__"}catch(c){Wk(t,"Invalid YAML frontmatter",{note:c.message,ruleId:Yk.frontmatterIsYaml})}return Ov(e,"__delete__")===null&&Ov(e,{cascade:!1},"__delete__"),o}function lV(t,e,i){return NO(this,void 0,void 0,function*(){var r,n,s;let{visit:o}=yield import("/myst_assets_folder/_shared/unist-util-visit-VWS5G4ZZ.js"),{unified:a}=yield import("/myst_assets_folder/_shared/unified-W3MMCS54.js"),{mystParse:l}=yield import("/myst_assets_folder/_shared/dist-ZVLY2CRZ.js"),{mathPlugin:c,footnotesPlugin:u,keysPlugin:d,htmlPlugin:f,reconstructHtmlPlugin:h,basicTransformationsPlugin:m,enumerateTargetsPlugin:p,resolveReferencesPlugin:_,WikiTransformer:x,GithubTransformer:y,DOITransformer:C,RRIDTransformer:k,RORTransformer:M,linksPlugin:v,ReferenceState:I,abbreviationPlugin:E,glossaryPlugin:T,joinGatesPlugin:R}=yield import("/myst_assets_folder/_shared/dist-LAY2QPP5.js"),{default:P}=yield import("/myst_assets_folder/_shared/dist-AH3T4O7N.js"),{default:Y}=yield import("/myst_assets_folder/_shared/dist-MWNJUNH6.js"),{default:re}=yield import("/myst_assets_folder/_shared/dist-B4DIKCOY.js").catch(()=>({default:null})),{mystToHtml:de}=yield import("/myst_assets_folder/_shared/dist-3DFRMFZP.js"),{buttonRole:te}=yield import("/myst_assets_folder/_shared/dist-FBGQL6IK.js"),{cardDirective:G}=yield import("/myst_assets_folder/_shared/dist-PV6KYZZ7.js"),{gridDirective:X}=yield import("/myst_assets_folder/_shared/dist-UWIZB4BK.js"),{tabDirectives:Z}=yield import("/myst_assets_folder/_shared/dist-IAKJCXER.js"),{proofDirective:ye}=yield import("/myst_assets_folder/_shared/dist-OPJUCS7V.js"),{exerciseDirectives:ue}=yield import("/myst_assets_folder/_shared/dist-E2U7KJ7U.js"),xe=new bm,ke=he=>l(he,{markdownit:{linkify:!0},directives:[G,X,...Z,ye,...ue],roles:[te],vfile:xe}),We=ke(t),Xe=[new x,new y,new C,new k,new M],Ze=JSON.parse(JSON.stringify(We));o(Ze,he=>delete he.position);let st=de(JSON.parse(JSON.stringify(We))),vt={cite:{order:[],data:{}},footnotes:{}},Dt=aV(xe,We),Pt=Gk(Dt,{property:"frontmatter",messages:{}}),Wi=new I("",{frontmatter:Object.assign(Object.assign({},Pt),{numbering:(r=Pt.numbering)!==null&&r!==void 0?r:e?.numbering}),vfile:xe});o(We,he=>{he.type==="cite"&&(he.error=!0)}),a().use(h).use(f).use(m,{parser:ke}).use(c,{macros:(n=Pt?.math)!==null&&n!==void 0?n:{}}).use(T).use(E,{abbreviations:Pt.abbreviations}).use(p,{state:Wi}).use(v,{transformers:Xe}).use(u).use(R).use(_,{state:Wi}).use(d).runSync(We,xe);let yi=JSON.parse(JSON.stringify(We));o(yi,he=>{delete he.position,delete he.key});let ir=new bm,A=a().use(P,{references:vt}).stringify(We,ir).result,z=new bm,W;try{W=a().use(Y).stringify(We,z).result}catch(he){console.error(he),W={value:`Problem with typst conversion: ${he.message||"Unknown Error"}`,macros:[],commands:{}}}let J=new bm,le=re?a().use(re,Ei.Article,Pt,void 0,"",{format:2,writeFullArticle:(s=i?.jats)===null||s===void 0?void 0:s.fullArticle}).stringify(We,J).result:"Problem loading myst-to-jats";return{frontmatter:Pt,mdastPre:Ze,mdastPost:yi,references:Object.assign(Object.assign({},vt),{article:We}),html:st,tex:A.value,texWarnings:ir.messages,typst:W.value,typstWarnings:z.messages,jats:le,jatsWarnings:J.messages,warnings:xe.messages}})}function cV({id:t,value:e,column:i,fullscreen:r,numbering:n,TitleBlock:s,captureTab:o,className:a}){var l;let c=(0,xi.useRef)(null),[u,d]=(0,xi.useState)(e.trim()),[f,h]=(0,xi.useState)({}),[m,p]=(0,xi.useState)({}),[_,x]=(0,xi.useState)("Loading..."),[y,C]=(0,xi.useState)("Loading..."),[k,M]=(0,xi.useState)("Loading..."),[v,I]=(0,xi.useState)("Loading..."),[E,T]=(0,xi.useState)([]),[R,P]=(0,xi.useState)("Loading..."),[Y,re]=(0,xi.useState)([]),[de,te]=(0,xi.useState)("Loading..."),[G,X]=(0,xi.useState)([]),[Z,ye]=(0,xi.useState)([]),[ue,xe]=(0,xi.useState)("DEMO"),[ke,We]=(0,xi.useState)("yaml"),[Xe,Ze]=(0,xi.useState)("pre");(0,xi.useEffect)(()=>{let A={current:!0};return lV(u,{numbering:n},{removeHeading:!!s,jats:{fullArticle:!!s}}).then(z=>{A.current&&(p(z.frontmatter),x(z.mdastPre),C(z.mdastPost),h(z.references),M(z.html),I(z.tex),T(z.texWarnings),P(z.typst),re(z.typstWarnings),te(z.jats),X(z.jatsWarnings),ye(z.warnings))}),()=>{A.current=!1}},[u]),(0,xi.useEffect)(()=>{if(c.current){if(i){c.current.style.height="";return}c.current.style.height="auto",c.current.style.height=`${c.current.scrollHeight}px`}},[u,i]),(0,xi.useEffect)(()=>{!c.current||!o||c.current.addEventListener("keydown",A=>{A.key==="Tab"&&(A.preventDefault(),A.stopPropagation())})},[c,o]);let st=[];switch(ue){case"DEMO":st=Z;break;case"LaTeX":st=E;break;case"Typst":st=Y;break;case"JATS":st=G;break;default:break}let vt=(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("div",{className:"self-center text-sm border cursor-pointer dark:border-slate-600",children:["DEMO","AST","HTML","LaTeX","Typst","JATS","DOCX"].map(A=>(0,gt.jsx)("button",{className:(0,As.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":ue!==A,"bg-blue-800 text-white":ue===A}),title:`Show the ${A}`,"aria-label":`Show the ${A}`,"aria-pressed":ue===A?"true":"false",onClick:()=>xe(A),children:A},A))}),ue==="AST"&&(0,gt.jsxs)("div",{className:"self-center text-sm border cursor-pointer w-fit dark:border-slate-600",children:[["yaml","json"].map(A=>(0,gt.jsx)("button",{className:(0,As.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":ke!==A,"bg-blue-800 text-white":ke===A}),title:`Show the AST as ${A.toUpperCase()}`,"aria-pressed":ke===A?"true":"false",onClick:()=>We(A),children:A.toUpperCase()},A)),["pre","post"].map(A=>(0,gt.jsx)("button",{className:(0,As.default)("px-2 py-1",{"bg-white hover:bg-slate-200 dark:bg-slate-500 dark:hover:bg-slate-700":Xe!==A,"bg-blue-800 text-white":Xe===A}),title:`Show the AST Stage ${A.toUpperCase()}`,"aria-pressed":Xe===A?"true":"false",onClick:()=>Ze(A),children:A.toUpperCase()},A))]})]}),Dt=Xe==="pre"?_:y,{downloads:Pt,exports:Wi,parts:yi}=m,ir=nV(m,["downloads","exports","parts"]);return(0,gt.jsxs)("figure",{id:t,className:(0,As.default)("relative",{"grid grid-cols-2 gap-0 grid-rows-[3rem_1fr]":i,"rounded shadow-lg":!r,"m-0":r},a),children:[i&&(0,gt.jsxs)("div",{className:"flex flex-row col-span-2 items-stretch px-2 h-full border dark:border-slate-600",children:[(0,gt.jsx)("div",{className:"flex-grow"}),vt]}),(0,gt.jsxs)("div",{className:(0,As.default)("relative myst",{"overflow-auto":i}),children:[(0,gt.jsx)(dh,{text:u,className:"absolute right-0 p-1"}),(0,gt.jsxs)("label",{children:[(0,gt.jsx)("span",{className:"sr-only",children:"Edit the MyST Markdown text"}),(0,gt.jsx)("textarea",{ref:c,value:u,className:(0,As.default)("block p-6 w-full font-mono shadow-inner outline-none resize-none bg-slate-50/50 dark:bg-slate-800/50",{"text-sm":!i},{"h-full":i}),onChange:A=>d(A.target.value)})]})]}),(0,gt.jsxs)("div",{className:(0,As.default)("relative exclude-from-outline min-h-1 dark:bg-slate-900",{"overflow-auto":i}),children:[!i&&(0,gt.jsx)("div",{className:"absolute top-0 left-0",children:vt}),(0,gt.jsxs)("div",{className:(0,As.default)("px-6 pb-6",{"pt-[40px]":!i&&ue!=="AST","pt-[80px]":!i&&ue==="AST","pt-4":i}),children:[ue==="DEMO"&&(0,gt.jsx)(gt.Fragment,{children:(0,gt.jsxs)(MT,{references:f,frontmatter:ir,children:[s&&(0,gt.jsx)(s,{frontmatter:m}),(0,gt.jsx)(we,{ast:(l=f.article)===null||l===void 0?void 0:l.children})]})}),ue==="AST"&&(0,gt.jsx)(gt.Fragment,{children:(0,gt.jsx)(Bo,{lang:ke,value:ke==="yaml"?LO(Dt):JSON.stringify(Dt,null,2)})}),ue==="HTML"&&(0,gt.jsx)(Bo,{lang:"xml",value:k,showCopy:!1}),ue==="LaTeX"&&(0,gt.jsx)(Bo,{lang:"latex",value:v,showCopy:!1}),ue==="Typst"&&(0,gt.jsx)(Bo,{lang:"typst",value:R,showCopy:!1}),ue==="JATS"&&(0,gt.jsx)(Bo,{lang:"xml",value:de,showCopy:!1}),ue==="DOCX"&&(0,gt.jsx)("div",{children:(0,gt.jsxs)("button",{className:"p-3 rounded border",onClick:()=>oV("demo.docx",f.article),title:"Download Micorsoft Word","aria-label":"Download Micorsoft Word",children:[(0,gt.jsx)(rw,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"})," ","Download as Microsoft Word"]})})]}),st.length>0&&(0,gt.jsx)("div",{className:(0,As.default)("w-full",{"absolute bottom-0":i}),children:st.map((A,z)=>(0,gt.jsxs)("div",{className:(0,As.default)("p-1 shadow-inner text-white not-prose",{"bg-red-500 dark:bg-red-800":A.fatal===!0,"bg-orange-500 dark:bg-orange-700":A.fatal===!1,"bg-slate-500 dark:bg-slate-800":A.fatal===null}),children:[A.fatal===!0&&(0,gt.jsx)(Lo,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),A.fatal===!1&&(0,gt.jsx)(Em,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),A.fatal===null&&(0,gt.jsx)(Gu,{width:"1.3rem",height:"1.3rem",className:"inline mr-1"}),(0,gt.jsx)("code",{children:A.ruleId||A.source}),": ",A.message]},z))})]})]})}var DO=({node:t,className:e})=>(0,gt.jsx)(cV,{id:t.html_id||t.identifier,value:t.value,numbering:t.numbering,className:(0,As.default)(t.class,e)});var Ah=H(Ce(),1),sd=H(be(),1),OO=H(pt(),1),dV=function(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function uV(t,e){return dV(this,void 0,void 0,function*(){let{default:i}=yield import("/myst_assets_folder/_shared/mermaid.core-BI5K2V4I.js");return yield new Promise(r=>{i.render(t,e,n=>{r(n)})})})}function hV({id:t,value:e,className:i}){let r=(0,sd.useId)(),[n,s]=(0,sd.useState)(),[o,a]=(0,sd.useState)();return(0,sd.useEffect)(()=>{uV(`mermaid-${r.replace(/:/g,"")}`,e).then(l=>{s(l),a(void 0)}).catch(l=>{s(void 0),a(l)})},[]),(0,Ah.jsxs)("figure",{id:t,className:i,children:[n&&(0,Ah.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}),o&&(0,Ah.jsxs)("pre",{children:["Error parsing mermaid graph.",`

`,o.message,`

`,e]})]})}var zO=({node:t,className:e})=>(0,Ah.jsx)(hV,{id:t.html_id||t.identifier,value:t.value,className:(0,OO.default)(t.class,e)});var ay=H(Ce(),1);var di=H(Ce(),1),sy=H(be(),1);var os=H(be(),1);var xo=H(Ce(),1);var la=H(be(),1);function PO(t){let e=t;return typeof e.slug=="string"&&typeof e.location=="string"&&typeof e.mdast=="object"&&Array.isArray(e.dependencies)&&Array.isArray(e.computables)}function Km(t){return typeof t.slug=="string"}function BO(t){return typeof t.status=="string"&&Km(t)}function HO(t){let e=t;return typeof e.slug=="string"&&typeof e.mdast=="object"}function jO(t){let e=t;return typeof e.pageSlug=="string"&&typeof e.notebookSlug=="string"&&typeof e.notebook=="object"&&typeof e.rendermime=="object"}function FO(t){let e=t;return typeof e.pageSlug=="string"&&typeof e.notebookSlug=="string"&&typeof e.session=="object"}var $O=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i};function WO(t,e){var i;switch(e.type){case"NAVIGATE":{if(!PO(e.payload))throw console.error(e.payload),new Error("invalid NAVIGATE payload");let{kind:r,slug:n,location:s,mdast:o,dependencies:a,computables:l}=e.payload;return t.pages[n]?t:Object.assign(Object.assign({},t),{mdast:Object.assign(Object.assign({},t.mdast),{[n]:{root:o}}),pages:Object.assign(Object.assign({},t.pages),{[n]:{kind:r,slug:n,location:s,dependencies:a,computables:l,computable:l.length>0||r===Ei.Notebook,ready:!1,scopes:{}}})})}case"ADD_MDAST":{if(!HO(e.payload))throw console.error(e.payload),new Error("invalid ADD_MDAST payload");let{slug:r,mdast:n}=e.payload;return t.mdast[r]?t:Object.assign(Object.assign({},t),{mdast:Object.assign(Object.assign({},t.mdast),{[r]:{root:n}})})}case"REQUEST_BUILD":{if(!Km(e.payload))throw console.error(e.payload),new Error("invalid REQUEST_BUILD payload");let{slug:r}=e.payload;return t.builds[r]&&t.builds[r].status==="pending"?t:Object.assign(Object.assign({},t),{builds:Object.assign(Object.assign({},t.builds),{[r]:{status:"pending"}})})}case"BUILD_STATUS":{if(!BO(e.payload))throw console.error(e.payload),new Error("invalid BUILD_STATUS payload");let{slug:r}=e.payload;if(!t.builds[r])throw console.error(t,e.payload),new Error("Trying to set build status when there is no build state");return t.builds[r].status===e.payload.status?t:Object.assign(Object.assign({},t),{builds:Object.assign(Object.assign({},t.builds),{[r]:Object.assign(Object.assign({},t.builds[r]),{status:e.payload.status})})})}case"CLEAR_BUILD":{if(!Km(e.payload))throw console.error(e.payload),new Error("invalid CLEAR_BUILD payload");let{slug:r}=e.payload;if(!t.builds[r])return t;let n=t.builds,s=r,o=n[s],a=$O(n,[typeof s=="symbol"?s:s+""]);return Object.assign(Object.assign({},t),{builds:a})}case"SET_RENDERING_READY":{if(!Km(e.payload))throw console.error(e.payload),new Error("invalid SET_READY payload");let{slug:r}=e.payload;if(t.pages[r].ready)return t;let n=t.builds,s=r,o=n[s],a=$O(n,[typeof s=="symbol"?s:s+""]);return Object.assign(Object.assign({},t),{builds:a,pages:Object.assign(Object.assign({},t.pages),{[r]:Object.assign(Object.assign({},t.pages[r]),{ready:!0})})})}case"ADD_NOTEBOOK":{if(!jO(e.payload))throw console.error(e.payload),new Error("invalid ADD_NOTEBOOK payload");let{pageSlug:r,notebookSlug:n,notebook:s,rendermime:o}=e.payload;if(!t.pages[r])throw console.error(t,e.payload),new Error("Trying to add notebook when there is no rendering state");return t.pages[r].scopes[n]?(console.warn("Trying to add notebook scope when rendering already has one",e.payload),t):Object.assign(Object.assign({},t),{pages:Object.assign(Object.assign({},t.pages),{[r]:Object.assign(Object.assign({},t.pages[r]),{scopes:Object.assign(Object.assign({},t.pages[r].scopes),{[n]:{notebook:s,rendermime:o}})})})})}case"ADD_SESSION":{if(!FO(e.payload))throw console.error(e.payload),new Error("invalid ADD_SESSION payload");let{pageSlug:r,notebookSlug:n,session:s}=e.payload;if(!t.pages[r])throw console.error(t,e.payload),new Error("Trying to add session when there is no rendering state");return!((i=t.pages[r].scopes[n])===null||i===void 0)&&i.session?(console.warn("Trying to add session scope when rendering already has one",e.payload),t):Object.assign(Object.assign({},t),{pages:Object.assign(Object.assign({},t.pages),{[r]:Object.assign(Object.assign({},t.pages[r]),{scopes:Object.assign(Object.assign({},t.pages[r].scopes),{[n]:Object.assign(Object.assign({},t.pages[r].scopes[n]),{session:s})})})})})}}return t}function Da(t,e,i){var r,n;return(n=(r=t.pages[e])===null||r===void 0?void 0:r.scopes[i])===null||n===void 0?void 0:n.notebook}function qO(t,e){var i,r;return(r=(i=t.pages[e])===null||i===void 0?void 0:i.computable)!==null&&r!==void 0?r:!1}function Rh(t,e){var i;return!(!((i=t.pages[e])===null||i===void 0)&&i.ready)&&!!t.builds[e]}function UO(t,e){var i,r,n;return!((i=t.pages[e])===null||i===void 0)&&i.ready?"ready":(n=(r=t.builds[e])===null||r===void 0?void 0:r.status)!==null&&n!==void 0?n:"unknown"}function VO(t){return Object.entries(t.builds).filter(([,{status:e}])=>e==="fetching").reduce((e,[i])=>[...e,...t.pages[i].dependencies.filter(r=>{var n;return!t.mdast[(n=r.slug)!==null&&n!==void 0?n:r.url]}).map(r=>{var n;return{slug:(n=r.slug)!==null&&n!==void 0?n:r.url,url:r.url}})],[])}function GO(t){return e=>Object.entries(e.builds).filter(([,{status:i}])=>i===t).reduce((i,[r])=>{let n=[];return e.pages[r].kind===Ei.Notebook&&n.push({pageSlug:r,notebookSlug:r,location:e.pages[r].location}),n.push(...e.pages[r].dependencies.map(s=>{var o;return{pageSlug:r,notebookSlug:(o=s.slug)!==null&&o!==void 0?o:s.url,location:s.location}})),[...i,...n]},[])}var YO=GO("build-notebooks"),XO=GO("start-session");function KO(t,e){var i;return(i=t.pages[e])===null||i===void 0?void 0:i.dependencies.every(r=>{var n;return!!t.mdast[(n=r.slug)!==null&&n!==void 0?n:r.url]})}function JO(t,e){let i=t.pages[e];return i?.dependencies.every(r=>{var n;return!!i.scopes[(n=r.slug)!==null&&n!==void 0?n:r.url]})}function ZO(t,e){let i=t.pages[e];return i?.dependencies.every(r=>{var n,s;return!!(!((s=i.scopes[(n=r.slug)!==null&&n!==void 0?n:r.url])===null||s===void 0)&&s.session)})}var L3=H(Ce(),1),Vs=H(be(),1),vl=H(_l(),1);function vk(t){if(!t||t.type!=="block")return;let e=t;if(t.children&&t.children.length===1&&t.children[0].type==="container"&&(e=t.children[0]),e.children&&e.children.length>=2&&e.children[0].type==="code")return{codeCell:e.children[0],output:e.children[1]}}function T3(t,e,i,r,n,s,o){let a=new t.ThebeNotebook(r,e,o);return a.cells=n.children.map(l=>{var c,u,d;l.type!=="block"&&console.warn(`Unexpected block type ${l.type}`);let f=vk(l);if(f){let{codeCell:h,output:m}=f,p={pageSlug:i,notebookSlug:r,cellId:l.key};return s[l.key]=p,s[m.id]=p,l.identifier&&(s[l.identifier]=p),h.identifier&&(s[h.identifier]=p),m.identifier&&(s[m.identifier]=p),new t.ThebeCodeCell(p.cellId,a.id,(c=h.value)!==null&&c!==void 0?c:"",e,(u=l.data)!==null&&u!==void 0?u:{},a.rendermime)}else return new t.ThebeMarkdownCell(l.key,a.id,l.children.reduce((m,p)=>{var _;return m+`
`+((_=p.value)!==null&&_!==void 0?_:"")},""),(d=l.data)!==null&&d!==void 0?d:{},a.rendermime)}),a}var Kf=H(be(),1);function A3(){let[t,e]=(0,Kf.useState)();return(0,Kf.useEffect)(()=>{t||import("/myst_assets_folder/_shared/plotly-renderer-BHZJMWFE.js").then(i=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:i}),e(i)})},[t]),{plotly:t}}var ZJ="application/vnd.plotly.v1+json";function QJ(t){return t.some(e=>{var i;return Object.keys((i=e.data)!==null&&i!==void 0?i:[]).includes(ZJ)})}function R3(t,e){let i=QJ(e),[r,n]=(0,Kf.useState)(!i);return(0,Kf.useEffect)(()=>{r||!i||import("/myst_assets_folder/_shared/plotly-renderer-BHZJMWFE.js").then(s=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:s}),t.addFactory(s.rendererFactory,41),n(!0)})},[r,i]),{loaded:r}}function N3({slug:t,url:e,dispatch:i}){let{data:r,error:n}=kv({remote:!0,dataUrl:`${e}.json`});return(0,Vs.useEffect)(()=>{r&&i({type:"ADD_MDAST",payload:{slug:t,mdast:r.mdast}})},[r]),n?(0,L3.jsxs)("div",{children:["error: ",t,n.message]}):null}function D3({pageSlug:t,notebookSlug:e,idkmap:i,state:r,dispatch:n}){var s;let{core:o}=(0,vl.useThebeLoader)(),{config:a}=(0,vl.useThebeConfig)(),l=(0,Vs.useRef)(!1),c=!!(!((s=r.pages[t])===null||s===void 0)&&s.scopes[e]),{plotly:u}=A3();(0,Vs.useEffect)(()=>{var f;if(!o||!a||!u||c||l.current)return;l.current=!0,console.debug(`Jupyter: NotebookBuilder - ${e} being added to scope ${t}`);let h=o?.makeRenderMimeRegistry(a?.mathjax);u&&h.addFactory(u.rendererFactory,41);let m=T3(o,a,t,e,r.mdast[e].root,i,h),p=(f=r.pages[t])===null||f===void 0?void 0:f.computables;p?.forEach(_=>{i[_.label]&&(i[_.outputKey]=i[_.label],i[_.embedKey]=i[_.label])}),n({type:"ADD_NOTEBOOK",payload:{pageSlug:t,notebookSlug:e,rendermime:h,notebook:m}})},[o,a,t,e,c,l,u]);let d=u&&JO(r,t);return(0,Vs.useEffect)(()=>{d&&n({type:"BUILD_STATUS",payload:{slug:t,status:"wait-for-server"}})},[d]),null}function O3({pageSlug:t,notebookSlug:e,location:i,state:r,dispatch:n}){var s;let{core:o}=(0,vl.useThebeLoader)(),{config:a,server:l}=(0,vl.useThebeServer)(),c=(0,Vs.useRef)(!1),u=(s=r.pages[t])===null||s===void 0?void 0:s.scopes[e];(0,Vs.useEffect)(()=>{!o||!l||u?.session||c.current||(c.current=!0,console.debug(`Jupyter: Starting session for ${t}-${e} at ${i}`),i===void 0&&console.warn("Article/Notebook json is missing the location field, this maybe break notebook execution when located outside of the root folder"),l.listRunningSessions().then(f=>{var h;console.debug("Jupyter: running sessions",f);let m=`/${t}-${e}.ipynb`;console.debug("session starter path:",m);let p=(h=i?.match(/(.*)\/.*/))!==null&&h!==void 0?h:null;p&&(console.debug("session starter match:",p),m=`${p[1]}/${t}-${e}.ipynb`,console.debug("session starter path (modified):",m));let _=f.find(x=>x.path===m);_?(console.debug(`session already exists for ${m}`,_),l.connectToExistingSession(_,u.rendermime).then(x=>{var y;if(x==null){console.error(`Could not connect to session for ${m}`);return}console.debug(`reconnected to session for ${m}`,x),console.debug("restarting session",x),(y=x.kernel)===null||y===void 0||y.restart().then(()=>{Da(r,t,e).attachSession(x),n({type:"ADD_SESSION",payload:{pageSlug:t,notebookSlug:e,session:x}})})})):l.startNewSession(u.rendermime,Object.assign(Object.assign({},a?.kernels),{path:m})).then(x=>{if(x==null){l?.getKernelSpecs().then(C=>{console.error(`Could not start session for ${m}`),console.debug(`Available kernels: ${Object.keys(C)}`)});return}console.debug(`session started for ${m}`,x),Da(r,t,e).attachSession(x),n({type:"ADD_SESSION",payload:{pageSlug:t,notebookSlug:e,session:x}})})}))},[o,a,u,t,e,c]);let d=ZO(r,t);return(0,Vs.useEffect)(()=>{d&&n({type:"SET_RENDERING_READY",payload:{slug:t}})},[d]),null}function z3({state:t,dispatch:e}){let{core:i,load:r,loading:n}=(0,vl.useThebeLoader)(),{ready:s,error:o}=(0,vl.useThebeServer)();return(0,Vs.useEffect)(()=>{i||n||r()},[i,r,n]),(0,Vs.useEffect)(()=>{s&&Object.entries(t.builds).forEach(([a,{status:l}])=>{l==="wait-for-server"&&e({type:"BUILD_STATUS",payload:{slug:a,status:"start-session"}})})},[s,t]),(0,Vs.useEffect)(()=>{},[o]),null}var Pg=la.default.createContext(void 0);function eZ({contents:{slug:t,location:e,kind:i,mdast:r,dependencies:n},state:s,dispatch:o}){(0,la.useEffect)(()=>{if(s.pages[t]){console.debug(`Jupyter: ExecuteScopeProvider - ${t} is already in scope`);return}let a=P3(r);o({type:"NAVIGATE",payload:{kind:i,slug:t,location:e??(i===Ei.Notebook?"/fallback.ipynb":"/"),mdast:r,dependencies:n??[],computables:a}})},[t])}function tZ({slug:t,state:e,dispatch:i}){(0,la.useEffect)(()=>{e.builds[t]&&(e.builds[t].status==="pending"&&i({type:"BUILD_STATUS",payload:{slug:t,status:"fetching"}}),e.builds[t].status==="fetching"&&KO(e,t)&&i({type:"BUILD_STATUS",payload:{slug:t,status:"build-notebooks"}}))},[e.builds,e.mdast])}function P3(t){return Il("container[kind=figure]:has(output), embed:has(output)",t).map(e=>{let{key:i,label:r,source:n}=e,s=Il("output",e);return{embedKey:i,outputKey:s[0].key,label:r,source:n}})}function JMe({children:t,enable:e,contents:i}){var r,n;let s=P3(i.mdast),o=i.kind===Ei.Notebook?"/fallback.ipynb":"/",a={mdast:{[i.slug]:{root:i.mdast}},pages:{[i.slug]:{computable:s.length>0||i.kind===Ei.Notebook,kind:i.kind,slug:i.slug,location:(r=i.location)!==null&&r!==void 0?r:o,dependencies:(n=i.dependencies)!==null&&n!==void 0?n:[],computables:s,ready:!1,scopes:{}}},builds:{}},[l,c]=(0,la.useReducer)(WO,a),u=(0,la.useRef)({});eZ({contents:i,state:l,dispatch:c}),tZ({slug:i.slug,state:l,dispatch:c});let d=VO(l),f=YO(l),h=XO(l),m=la.default.useMemo(()=>({canCompute:e,slug:i.slug,location:i.location,state:l,dispatch:c,idkmap:u.current}),[l,i.slug,e]);return typeof window<"u"&&(window.executeScope=m),(0,xo.jsxs)(Pg.Provider,{value:m,children:[(0,xo.jsxs)("div",{className:"hidden",children:[d.length>0&&(0,xo.jsx)("div",{className:"p-1 pl-4",children:d.map(({slug:p,url:_})=>(0,xo.jsx)(N3,{slug:p,url:_,dispatch:c},`fetch-${p}`))}),f.length>0&&(0,xo.jsx)("div",{className:"p-1 pl-4",children:f.map(({pageSlug:p,notebookSlug:_})=>(0,xo.jsx)(D3,{pageSlug:p,notebookSlug:_,idkmap:u.current,state:l,dispatch:c},`build-${p}-${_}`))}),h.length>0&&(0,xo.jsx)("div",{className:"p-1 pl-4",children:h.map(({pageSlug:p,notebookSlug:_,location:x})=>(0,xo.jsx)(O3,{pageSlug:p,notebookSlug:_,location:x,state:l,dispatch:c},`session-${p}-${_}`))})]}),(0,xo.jsx)(z3,{state:l,dispatch:c}),t]})}var j3=H(Ce(),1),zr=H(be(),1),tu=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i},bk=zr.default.createContext(void 0);function xk(t){return typeof t.pageSlug=="string"&&typeof t.notebookSlug=="string"&&typeof t.kind=="string"}function B3(t){return xk(t)&&typeof t.cellId=="string"&&typeof t.kind=="string"}function iZ(t){return xk(t)&&Array.isArray(t.cellIds)&&t.cellIds.every(e=>typeof e=="string")&&typeof t.kind=="string"}function H3(t){var e,i;return typeof t.pageSlug=="string"&&typeof t.notebookSlug=="string"&&t.errors===void 0||((i=Array.isArray(t.errors)&&((e=t.errors)===null||e===void 0?void 0:e.every(r=>typeof r=="object")))!==null&&i!==void 0?i:!1)}function rZ(t,e){var i,r,n,s,o,a,l;switch(e.type){case"SET_CELL_BUSY":{if(!B3(e.payload))return console.error("SET_CELL_BUSY payload must be a cell payload",e.payload),t;let{pageSlug:c,notebookSlug:u,cellId:d,kind:f}=e.payload;return!((r=(i=t[f][c])===null||i===void 0?void 0:i[u])===null||r===void 0)&&r[d]?t:Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[c]:Object.assign(Object.assign({},t[f][c]),{[u]:Object.assign(Object.assign({},(n=t[f][c])===null||n===void 0?void 0:n[u]),{[d]:!0})})})})}case"CLEAR_CELL_BUSY":{if(!B3(e.payload))return console.error("CLEAR_CELL_BUSY payload must be a cell payload",e.payload),t;let{pageSlug:c,notebookSlug:u,cellId:d,kind:f}=e.payload,h=t[f],m=c,p=h[m],_=tu(h,[typeof m=="symbol"?m:m+""]);if(!p)return t;let x=p,y=u,C=x[y],k=tu(x,[typeof y=="symbol"?y:y+""]);if(!C||!C[d])return t;let M=C,v=d,I=M[v],E=tu(M,[typeof v=="symbol"?v:v+""]);return Object.keys(E).length===0&&Object.keys(k).length===0?Object.assign(Object.assign({},t),{[f]:_}):Object.keys(E).length===0?Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[c]:Object.assign({},k)})}):Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[e.payload.pageSlug]:Object.assign(Object.assign({},k),{[u]:Object.assign({},E)})})})}case"SET_NOTEBOOK_BUSY":{if(!iZ(e.payload))return console.error("SET_NOTEBOOK_BUSY payload must be a notebook payload",e.payload),t;let{pageSlug:c,notebookSlug:u,cellIds:d,kind:f}=e.payload;return Object.assign(Object.assign({},t),{[f]:Object.assign(Object.assign({},t[f]),{[c]:Object.assign(Object.assign({},t[f][c]),{[u]:Object.assign(Object.assign({},(s=t[f][c])===null||s===void 0?void 0:s[u]),d.reduce((h,m)=>Object.assign(Object.assign({},h),{[m]:!0}),{}))})})})}case"CLEAR_NOTEBOOK_BUSY":{if(!xk(e.payload))return console.error("CLEAR_NOTEBOOK_BUSY payload must be a notebook payload",e.payload),t;let{pageSlug:c,notebookSlug:u,kind:d}=e.payload;if(!t[d][c]||!(!((o=t[d][c])===null||o===void 0)&&o[u]))return t;let f=t[d][c],h=u,m=f[h],p=tu(f,[typeof h=="symbol"?h:h+""]);if(Object.keys(p).length===0){let _=t[d],x=c,y=_[x],C=tu(_,[typeof x=="symbol"?x:x+""]);return Object.assign(Object.assign({},t),{[d]:C})}return Object.assign(Object.assign({},t),{[d]:Object.assign(Object.assign({},t[d]),{[c]:Object.assign({},p)})})}case"SET_ERROR":{if(!H3(e.payload))return console.error("SET_ERROR payload must be an error payload",e.payload),t;let{pageSlug:c,notebookSlug:u,errors:d}=e.payload;return d?t.error[c]||!((a=t.error[c])===null||a===void 0)&&a[u]?t:Object.assign(Object.assign({},t),{error:Object.assign(Object.assign({},t.error),{[c]:Object.assign(Object.assign({},t.error[c]),{[u]:d})})}):(console.error("SET_ERROR payload must have errors",e.payload),t)}case"CLEAR_ERROR":{if(!H3(e.payload))return console.error("CLEAR_ERROR payload must be a error payload",e.payload),t;let{pageSlug:c,notebookSlug:u}=e.payload;if(!t.error[c]||!(!((l=t.error[c])===null||l===void 0)&&l[u]))return t;let d=t.error[c],f=u,h=d[f],m=tu(d,[typeof f=="symbol"?f:f+""]);if(Object.keys(m).length>0)return Object.assign(Object.assign({},t),{error:Object.assign(Object.assign({},t.error),{[c]:Object.assign({},m)})});let p=t.error,_=c,x=p[_],y=tu(p,[typeof _=="symbol"?_:_+""]);return Object.assign(Object.assign({},t),{error:y})}}return t}function QMe({children:t}){let[e,i]=(0,zr.useReducer)(rZ,{execute:{},reset:{},error:{}}),r=zr.default.useMemo(()=>({state:e,dispatch:i}),[e]);return typeof window<"u"&&(window.busyScopeState=r.state),(0,j3.jsx)(bk.Provider,{value:r,children:t})}function Jf(){let t=zr.default.useContext(bk);if(t===void 0)throw new Error("useBusyScope must be used within a BusyScopeProvider");let{dispatch:e,state:i}=t,r=(0,zr.useCallback)((f,h,m,p)=>nZ(i,f,h,m,p),[i]),n=(0,zr.useCallback)((f,h,m)=>sZ(i,f,h,m),[i]),s=(0,zr.useCallback)((f,h)=>oZ(i,f,h),[i]),o=(0,zr.useCallback)((f,h,m,p)=>{e({type:"SET_CELL_BUSY",payload:{pageSlug:f,notebookSlug:h,cellId:m,kind:p}})},[e]),a=(0,zr.useCallback)((f,h,m,p)=>e({type:"CLEAR_CELL_BUSY",payload:{pageSlug:f,notebookSlug:h,cellId:m,kind:p}}),[e]),l=(0,zr.useCallback)((f,h,m,p)=>e({type:"SET_NOTEBOOK_BUSY",payload:{pageSlug:f,notebookSlug:h,cellIds:m,kind:p}}),[e]),c=(0,zr.useCallback)((f,h,m)=>e({type:"CLEAR_NOTEBOOK_BUSY",payload:{pageSlug:f,notebookSlug:h,kind:m}}),[e]),u=(0,zr.useCallback)((f,h,m)=>e({type:"SET_ERROR",payload:{pageSlug:f,notebookSlug:h,errors:m}}),[e]),d=(0,zr.useCallback)((f,h)=>e({type:"CLEAR_ERROR",payload:{pageSlug:f,notebookSlug:h}}),[e]);return{cell:r,notebook:n,page:s,setCell:o,clearCell:a,setNotebook:l,clearNotebook:c,setError:u,clearError:d}}function F3(t){let e=zr.default.useContext(bk);if(e===void 0)throw new Error("useBusyScope must be used within a BusyScopeProvider");let{state:i,dispatch:r}=e,n=()=>{Object.keys(i.error[t]).forEach(o=>{r({type:"CLEAR_ERROR",payload:{pageSlug:t,notebookSlug:o}})})},s;return Object.keys(i.error).length>0&&i.error[t]&&(s=Object.entries(i.error[t]).map(([o,a])=>({pageSlug:t,notebookSlug:o,errors:a}))),{items:s,clearErrors:n}}function nZ(t,e,i,r,n){var s,o;return!!(!((o=(s=t[n][e])===null||s===void 0?void 0:s[i])===null||o===void 0)&&o[r])}function sZ(t,e,i,r){var n;return!!(!((n=t[r][e])===null||n===void 0)&&n[i])}function oZ(t,e,i){return!!t[i][e]}var Zf=H(_l(),1);var yk=function(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Jx({clearOutputsOnExecute:t=!1}={}){var e;let i=os.default.useContext(Pg),{config:r}=(0,Zf.useThebeConfig)(),n=Jf();if(i===void 0)throw new Error("useExecuteScope must be used within a ExecuteScopeProvider");let{state:s,dispatch:o}=i,a=(0,os.useCallback)(f=>{console.debug(`Jupyter: Starting ${f}`),o({type:"REQUEST_BUILD",payload:{slug:f}})},[]),l=f=>{Object.entries(s.pages[f].scopes).forEach(([h,{notebook:m}])=>{n.clearError(f,h),n.setNotebook(f,h,m.code.map(p=>p.id),"execute")}),t&&Object.values(s.pages[f].scopes).forEach(({notebook:h})=>{h.clear()}),setTimeout(()=>yk(this,void 0,void 0,function*(){let h=(m,p)=>{var _,x;if(p.subject==="cell"&&p.status==="idle"){let y=(_=p.object.notebookId)!==null&&_!==void 0?_:"unknown";n.clearCell(f,y,(x=p.id)!==null&&x!==void 0?x:"unknown","execute")}};r?.events.on("status",h),yield Promise.all(Object.entries(s.pages[f].scopes).map(m=>yk(this,[m],void 0,function*([,{notebook:p}]){let _=yield p.executeAll(!0),x=(0,Zf.findErrors)(_);x!=null&&(console.error("errors",x),n.setError(f,p.id,x),n.clearNotebook(f,p.id,"execute"))}))),r?.events.off("status",h)}),100)},c=(0,os.useCallback)(f=>{var h;Object.entries((h=s.pages[f])===null||h===void 0?void 0:h.scopes).forEach(([,{notebook:m}])=>{m.clear()})},[s]),u=(0,os.useCallback)(f=>{var h;Object.entries((h=s.pages[f])===null||h===void 0?void 0:h.scopes).forEach(([m,{notebook:p,session:_}])=>{n.clearError(f,m),n.setNotebook(f,m,p.code.map(x=>x.id),"reset"),setTimeout(()=>{var x;p.reset(),(x=_?.kernel)===null||x===void 0||x.restart().finally(()=>{n.clearNotebook(f,m,"reset")})},300)})},[s]),d=(e=i.state.pages[i.slug])===null||e===void 0?void 0:e.ready;return Object.assign(Object.assign({},i),{ready:d,start:a,clearAll:c,resetAll:u,execute:l})}function Zx(t,e=!1){var i,r;let n=os.default.useContext(Pg),{config:s}=(0,Zf.useThebeConfig)(),o=Jf();if(n===void 0)throw new Error("useNotebookExecution must be used within a ExecuteScopeProvider");let{state:a,dispatch:l,idkmap:c}=n,u=(i=c[t])!==null&&i!==void 0?i:{},{pageSlug:d,notebookSlug:f,cellId:h}=u,m=(0,os.useCallback)(()=>{l({type:"REQUEST_BUILD",payload:{slug:n.slug}})},[u]),p,_;u&&a.pages[d]&&(_=Da(a,d,f),_&&(p=_?.getCellById(h)));let x=()=>{let E=Da(a,d,f);o.clearError(d,f),o.setNotebook(d,f,E.code.map(T=>T.id),"execute"),e&&E.clear(),setTimeout(()=>yk(this,void 0,void 0,function*(){let T=(Y,re)=>{var de;re.subject==="cell"&&re.status==="idle"&&o.clearCell(d,f,(de=re.id)!==null&&de!==void 0?de:"unknown","execute")};s?.events.on("status",T);let R=yield E.executeAll(!0),P=(0,Zf.findErrors)(R);P!=null&&(console.error("an error occurred during notebook execution"),o.setError(d,f,P),o.clearNotebook(d,f,"execute")),s?.events.off("status",T)}),100)},y=(0,os.useCallback)(()=>{Da(a,d,f).clear()},[a]),C=(0,os.useCallback)(()=>{let E=Da(a,d,f);o.clearError(d,f),o.setNotebook(d,f,E.code.map(T=>T.id),"reset"),setTimeout(()=>{var T,R;E.reset(),(R=(T=E.session)===null||T===void 0?void 0:T.kernel)===null||R===void 0||R.restart().finally(()=>{o.clearNotebook(d,f,"reset")})},300)},[a]),k=(r=n.state.pages[n.slug])===null||r===void 0?void 0:r.ready,M=o.notebook(d,f,"execute"),v=o.notebook(d,f,"reset"),I=M||v;return Object.assign(Object.assign({},n),{ready:k,start:m,clear:y,reset:C,execute:x,cellIsExecuting:p?o.cell(d,f,p?.id,"execute"):!1,notebookIsExecuting:M,notebookIsResetting:v,notebookIsBusy:I,executionCount:p?.executionCount})}function yo(t,e=!1){var i,r,n,s;let o=Jf(),a=os.default.useContext(Pg);if(a===void 0)throw new Error("useCellExecution must be used within a ExecuteScopeProvider");let{state:l,idkmap:c}=a,u=(i=c[t])!==null&&i!==void 0?i:{},{pageSlug:d,notebookSlug:f,cellId:h}=u,m,p;u&&l.pages[d]&&(p=Da(l,d,f),p&&(m=p?.getCellById(h)));let _=(r=a.state.pages[a.slug])===null||r===void 0?void 0:r.ready,x=(s=(n=a.state.pages[a.slug])===null||n===void 0?void 0:n.kind)!==null&&s!==void 0?s:Ei.Article,y=(0,os.useCallback)(()=>{if(!m){console.error("no cell found on execute",{pageSlug:d,notebookSlug:f,cellId:h});return}o.setCell(d,f,m.id,"execute"),e&&m.clear(),setTimeout(()=>{if(!m)throw new Error("no cell found on execute");m.execute().then(()=>{if(!m)throw new Error("no cell found after execute");o.clearCell(d,f,m?.id,"execute")})},100)},[l,m]),C=(0,os.useCallback)(()=>{if(!m){console.error("no cell found on clear",{pageSlug:d,notebookSlug:f,cellId:h});return}m.clear()},[l,m]),k=o.notebook(d,f,"execute"),M=o.notebook(d,f,"reset"),v=k||M;return{canCompute:a.canCompute,kind:x,ready:_,execute:y,clear:C,cellIsExecuting:m?o.cell(d,f,m?.id,"execute"):!1,notebookIsExecuting:k,notebookIsResetting:M,notebookIsBusy:v,cell:m}}var iy=H(Ce(),1),Y3=H(_l(),1);var $i=H(Ce(),1);var Qx=H(pt(),1);var iu=H(Ce(),1);function Bg({size:t}){return(0,iu.jsxs)("div",{role:"status",children:[(0,iu.jsxs)("svg",{"aria-hidden":"true",width:t,height:t,className:"mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-green-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,iu.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,iu.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,iu.jsx)("span",{className:"sr-only",children:"Loading..."})]})}var aZ=t=>(e,i,r)=>(r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,t(e,i,r)),wk=lD(Ts,aZ);var Ck=H(be(),1);var lZ=function(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function $3(t){return lZ(this,void 0,void 0,function*(){let e=yield fetch(t);if(e.status===200){let i=yield e.text();if(t.endsWith(".json"))try{let r=JSON.parse(i),n=Object.keys(r);if(n.length===2&&n.includes("content")&&n.includes("content_type"))return r}catch{}return{content:i}}throw new Error(`Content returned with status ${e.status}.`)})}function W3(t,e){if(typeof document>"u")return e?{}:{data:{content:t??""}};let{data:i,error:r}=wk(e||null,$3);return e?{data:i,error:r}:{data:{content:t??""}}}var cZ=(...t)=>Promise.all(t.map(e=>$3(e[0])));function dZ(t){return t.map(e=>{if("data"in e&&e.data){let i=e.data;return Object.assign(Object.assign({},e),{data:Object.entries(i).reduce((r,[n,s])=>Object.assign(Object.assign({},r),{[n]:Object.assign({},s)}),{})})}return Object.assign({},e)})}function q3(t){let e=[],i=dZ(t);hT(i,s=>{"content_type"in s&&s.content_type.startsWith("image/")||s.path&&e.push(s)});let{data:r,error:n}=wk(e.map(({path:s})=>s),cZ);return r?.forEach(({content:s},o)=>{let a=e[o];"text"in a?a.text=s:"traceback"in a?a.traceback=s:a.content=s,a.path=void 0}),{data:e.length===0||r?i:void 0,error:n}}function U3({ready:t,busy:e,modified:i,onClick:r}){let n="Enable compute to make this figure interactive";t&&(n=i?"The figure has been modified":"The figure is in its original state");let s=(0,$i.jsx)(Im,{width:"1.5rem",height:"1.5rem"});return t&&(i?s=(0,$i.jsx)(ow,{width:"1.5rem",height:"1.5rem",className:"text-green-600"}):s=(0,$i.jsx)(wm,{width:"1.5rem",height:"1.5rem",className:"text-green-600"})),(0,$i.jsxs)("div",{className:"relative flex text-sm",children:[(0,$i.jsx)("button",{className:(0,Qx.default)("cursor-pointer text-gray-700 dark:text-white active:text-green-700 hover:opacity-100",{"opacity-10":e,"opacity-70":!e}),disabled:t,title:n,"aria-label":"status",onClick:r??(()=>({})),children:s}),e&&(0,$i.jsx)("span",{className:"absolute top-0 left-0 z-10 opacity-100",children:(0,$i.jsx)(Bg,{size:24})})]})}function V3({ready:t,icon:e,busy:i,disabled:r,title:n,onClick:s}){return(0,$i.jsxs)("div",{className:"relative flex text-sm",children:[(0,$i.jsx)("button",{className:(0,Qx.default)(" text-gray-700 dark:text-white active:text-green-700 ",{"opacity-10 hover:opacity-10":i,"opacity-70":!i&&!r,"cursor-pointer hover:opacity-100":!r,"cursor-not-allowed opacity-10 hover:opacity-10":r}),disabled:r||!t||i,onClick:()=>s(),title:n??"run all cells","aria-label":n??"run all cells",children:e}),i&&(0,$i.jsx)("span",{className:"absolute top-0 left-0 z-10 opacity-100",children:(0,$i.jsx)(Bg,{size:24})})]})}function ru({ready:t,executing:e,disabled:i,title:r,onClick:n}){return(0,$i.jsx)(V3,{ready:t,busy:e,disabled:i,title:r??"run all cells",onClick:n,icon:(0,$i.jsx)(pw,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function ey({ready:t,resetting:e,disabled:i,title:r,onClick:n}){return(0,$i.jsx)(V3,{ready:t,busy:e,disabled:i,title:r??"reset notebook",onClick:n,icon:(0,$i.jsx)(sw,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function ty({ready:t,disabled:e,title:i,onClick:r}){return(0,$i.jsx)("button",{className:(0,Qx.default)("flex text-gray-700 dark:text-white",{"cursor-not-allowed opacity-10":e||!t,"active:text-green-700 opacity-70 hover:opacity-100 cursor-pointer":!e}),disabled:e||!t,onClick:()=>r(),title:i??"clear","aria-label":i??"clear",children:(0,$i.jsx)(fw,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function G3({ready:t,disabled:e,title:i,onClick:r}){return(0,$i.jsx)("button",{className:"flex items-center text-gray-700 cursor-pointer dark:text-white active:text-green-700 opacity-70 hover:opacity-100",disabled:e||!t,onClick:()=>r(),title:i??"launch in jupyter","aria-label":i??"launch in jupyter",children:(0,$i.jsx)(ws,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})}function X3({id:t}){let{connect:e,connecting:i}=(0,Y3.useThebeServer)(),{slug:r,state:n,start:s,ready:o,executionCount:a}=Zx(t),l=Rh(n,r),c=()=>{if(!e){console.debug("ArticleStatusBadge: Trying to start a connection but connect() isn't defined");return}e(),s()};return(0,iy.jsx)(U3,{ready:o,busy:l||i,modified:a!=null,onClick:c})}function K3({id:t}){let{ready:e,cellIsExecuting:i,notebookIsBusy:r,execute:n}=Zx(t);return e?(0,iy.jsx)(ru,{ready:e,executing:i,disabled:r,onClick:n,title:"Run the notebook that creates this figure"}):null}function J3({id:t}){let{ready:e,notebookIsResetting:i,notebookIsBusy:r,reset:n}=Zx(t);return e?(0,iy.jsx)(ey,{ready:e,resetting:i,disabled:r,onClick:n,title:"Reset the figure to its original state and restart the kernel"}):null}var ry=H(Ce(),1),Hg=H(be(),1);function hZ(t){return typeof t=="object"&&t!==null}function Z3(t){if(t===void 0)return;let{binder:e,server:i,lite:r,kernelName:n,disableSessionSaving:s,mathjaxConfig:o,mathjaxUrl:a}=t??{},l={mathjaxConfig:o,mathjaxUrl:a};if(s&&(l.savedSessionOptions={enabled:!1}),n&&(l.kernelOptions={kernelName:n}),e){l.useBinder=!0;let{repo:c,ref:u,url:d,provider:f}=e;l.binderOptions={repo:c,ref:u,binderUrl:d,repoProvider:f}}if(r===!0&&(l.useJupyterLite=!0),hZ(i)){let{url:c,token:u}=i;l.serverSettings={},c&&(l.serverSettings.baseUrl=c),u&&(l.serverSettings.token=u)}return l}var ny=H(_l(),1),Q3=Hg.default.createContext(void 0);function Dke({features:t,optionOverrideFn:e,customRepoProviders:i,children:r}){let n=HT(),s=Hg.default.useMemo(()=>{if(!n)return;let o=n?.thebe,a=n?.github,l=n?.binder,c=Z3(o),u=e?e(c):c;return{enabled:!!u,thebe:u,githubBadgeUrl:a,binderBadgeUrl:l,features:t,customRepoProviders:i}},[n,e]);return(0,ry.jsx)(Q3.Provider,{value:s,children:r})}function jg(){return(0,Hg.useContext)(Q3)}function Oke({baseurl:t,connect:e,children:i}){var r,n,s,o,a,l,c;let u=jg();return(0,ry.jsx)(ny.ThebeBundleLoaderProvider,{loadThebeLite:(n=(r=u?.thebe)===null||r===void 0?void 0:r.useJupyterLite)!==null&&n!==void 0?n:!1,publicPath:t,children:(0,ry.jsx)(ny.ThebeServerProvider,{connect:e??!1,options:u?.thebe,useBinder:(o=(s=u?.thebe)===null||s===void 0?void 0:s.useBinder)!==null&&o!==void 0?o:!1,useJupyterLite:(l=(a=u?.thebe)===null||a===void 0?void 0:a.useJupyterLite)!==null&&l!==void 0?l:!1,customRepoProviders:(c=u?.customRepoProviders)!==null&&c!==void 0?c:[],children:i})})}var t5=sy.default.createContext({});function e5({placeholder:t,children:e}){let i=sy.default.useMemo(()=>({placeholder:t}),[t]);return(0,di.jsx)(t5.Provider,{value:i,children:e})}function Fg(){return sy.default.useContext(t5).placeholder}function oy({outputId:t,placeholder:e,children:i,title:r="Jupyter Notebook",url:n,remoteBaseUrl:s}){let{kind:o}=yo(t),a=jg(),l=ys(),c=xm(),u=Fr();return a?.enabled&&a?.features.figureCompute&&o===Ei.Article&&!s?(0,di.jsxs)("div",{className:"mb-4 shadow",children:[(0,di.jsx)("div",{className:"sticky z-[2] w-full bg-gray-100/80 backdrop-blur dark:bg-neutral-800/80 py-1 px-2",style:{top:c},children:(0,di.jsxs)("div",{className:"flex items-center",children:[(0,di.jsxs)("div",{className:"flex items-center",children:[(0,di.jsx)(Iv,{width:"1.25rem",height:"1.25rem",className:"inline-block"}),(0,di.jsx)("span",{className:"ml-2",children:"Source:"}),n&&(0,di.jsx)(l,{to:ar(n,s??u),className:"ml-2 no-underline text-normal hover:underline",children:r})]}),(0,di.jsx)("div",{className:"flex-grow"}),(0,di.jsx)(X3,{id:t}),(0,di.jsx)(K3,{id:t}),(0,di.jsx)(J3,{id:t})]})}),(0,di.jsx)(e5,{placeholder:e,children:i})]}):o===Ei.Article?(0,di.jsxs)(di.Fragment,{children:[(0,di.jsxs)("div",{className:"flex items-center justify-end text-xs",children:[(0,di.jsx)(Iv,{width:"0.75rem",height:"0.75rem",className:"inline-block"}),(0,di.jsx)("div",{className:"ml-1",children:"Source:"}),n&&(0,di.jsx)(l,{to:ar(n,s??u),className:"ml-1 no-underline text-normal hover:underline",children:r})]}),(0,di.jsx)(e5,{placeholder:e,children:i})]}):(0,di.jsx)(di.Fragment,{children:i})}function i5({node:t}){var e,i,r,n;let s=(e=t.children)===null||e===void 0?void 0:e.find(o=>o.type==="output");return s?(0,ay.jsx)(oy,{outputId:s.id,title:(i=t.source)===null||i===void 0?void 0:i.title,url:(r=t.source)===null||r===void 0?void 0:r.url,remoteBaseUrl:(n=t.source)===null||n===void 0?void 0:n.remoteBaseUrl,children:(0,ay.jsx)(we,{ast:t.children})},t.key):(0,ay.jsx)(we,{ast:t.children})}var su=H(Ce(),1);var Mk=H(pt(),1);var wo=H(Ce(),1);var dy=H(Ce(),1);var l5=H(s5(),1),c5=H(a5(),1),$g=H(be(),1);function vZ(t,e=!1){return t=(0,c5.escapeCarriageReturn)(wZ(t)),l5.default.ansiToJson(t,{json:!0,remove_empty:!0,use_classes:e})}function bZ(t){let e="";return t.bg&&(e+=`${t.bg}-bg `),t.fg&&(e+=`${t.fg}-fg `),t.decoration&&(e+=`ansi-${t.decoration} `),e===""?null:(e=e.substring(0,e.length-1),e)}function xZ(t){let e={};switch(t.bg&&(e.backgroundColor=`rgb(${t.bg})`),t.fg&&(e.color=`rgb(${t.fg})`),t.decoration){case"bold":e.fontWeight="bold";break;case"dim":e.opacity="0.5";break;case"italic":e.fontStyle="italic";break;case"hidden":e.visibility="hidden";break;case"strikethrough":e.textDecoration="line-through";break;case"underline":e.textDecoration="underline";break;case"blink":e.textDecoration="blink";break;default:break}return e}function yZ(t,e,i,r){let n=e?null:xZ(i),s=e?bZ(i):null;if(!t)return $g.createElement("span",{style:n,key:r,className:s},i.content);let o=[],a=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g,l=0,c;for(;(c=a.exec(i.content))!==null;){let[,u,d]=c,f=c.index+u.length;f>l&&o.push(i.content.substring(l,f));let h=d.startsWith("www.")?`http://${d}`:d;o.push($g.createElement("a",{key:l,href:h,target:"_blank"},`${d}`)),l=a.lastIndex}return l<i.content.length&&o.push(i.content.substring(l)),$g.createElement("span",{style:n,key:r,className:s},o)}function nu(t){let{className:e,useClasses:i,children:r,linkify:n}=t;return $g.createElement("code",{className:e},vZ(r??"",i??!1).map(yZ.bind(null,n??!1,i??!1)))}function wZ(t){let e=t;do t=e,e=t.replace(/[^\n]\x08/gm,"");while(e.length<t.length);return t}var Wg=H(Ce(),1),d5=H(be(),1);var cy=({content:t,path:e,render:i})=>{let{error:r,data:n}=W3(t,e);return r?(0,Wg.jsxs)("div",{className:"text-red-500",children:["Error loading content: ",r.message]}):n?(0,Wg.jsx)("div",{children:i(n.content)}):(0,Wg.jsx)("div",{children:"Fetching long content...."})};function Ek({output:t}){return(0,dy.jsx)(cy,{content:Su(t.text),path:t.path,render:e=>(0,dy.jsx)("pre",{className:"text-sm font-thin font-system",children:(0,dy.jsx)(nu,{children:e??""})})})}var uy=H(Ce(),1);function Ik({output:t}){return(0,uy.jsx)(cy,{content:Su(t.traceback),path:t.path,render:e=>(0,uy.jsx)("pre",{className:"text-sm font-thin font-system jupyter-error",children:(0,uy.jsx)(nu,{children:e??""})})})}var CZ=[Cn.ImagePng,Cn.ImageJpeg,Cn.ImageGif,Cn.ImageBmp];function SZ(t){let e=t.data,i=CZ.reduce((n,s)=>{if(n)return n;if(e&&e[s])return e[s]},void 0),r=e&&e["text/plain"];return{image:i,text:r}}function EZ({image:t,text:e}){var i;return(0,wo.jsx)("img",{src:t?.path,alt:(i=e?.content)!==null&&i!==void 0?i:"Image produced in Jupyter"})}function IZ({output:t}){switch(t.output_type){case"stream":return(0,wo.jsx)(Ek,{output:t});case"error":return(0,wo.jsx)(Ik,{output:t});case"display_data":case"execute_result":case"update_display_data":{let{image:e,text:i}=SZ(t);return!e&&!i?null:e?(0,wo.jsx)(EZ,{image:e,text:i}):i?(0,wo.jsx)("div",{className:"font-mono text-sm whitespace-pre-wrap",children:(0,wo.jsx)(nu,{children:i.content})}):null}default:return console.warn(`Unknown output_type ${t.output_type}`),null}}function u5({keyStub:t,outputs:e}){if(!e)return null;let i=e.map((r,n)=>(0,wo.jsx)(IZ,{output:r},`${t}-${n}`));return(0,wo.jsx)(wo.Fragment,{children:i})}var Hn=H(Ce(),1),as=H(be(),1);var hy=function(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function MZ(t){return hy(this,void 0,void 0,function*(){let e=new Image;return e.crossOrigin="Anonymous",new Promise((r,n)=>{e.onload=function(){let o=document.createElement("canvas"),a=o.getContext("2d");if(!a)return console.error("Could not get canvas context"),n();o.height=e.naturalHeight,o.width=e.naturalWidth,a.drawImage(e,0,0);let l=o.toDataURL("image/png"),[,c]=l.split(";base64,");r(c)},e.src=t})})}function h5(t){return hy(this,void 0,void 0,function*(){return Promise.all(t.map(e=>hy(this,void 0,void 0,function*(){if(!("data"in e))return e;let i=Object.keys(e.data).filter(n=>n!=="image/svg"&&n!=="image/svg+xml"&&n.startsWith("image/"));if(i.length===0)return e;let r=yield Promise.all(i.map(n=>hy(this,void 0,void 0,function*(){let s=e.data[n];if(s.path){let o=yield MZ(s.path);return Object.assign(Object.assign({},s),{content:o})}return s})));return i.forEach((n,s)=>{e.data[n]=r[s]}),e})))})}var f5=H(_l(),1);var m5=H(pt(),1);function kZ({id:t,initialData:e,core:i}){var r;let n=yo(t),s=Fg(),o=(0,as.useRef)(null);(0,as.useEffect)(()=>{var l,c,u;if(!o.current||!n?.cell){console.debug(`Jupyter: No cell ref available for cell ${t}:${(l=n?.cell)===null||l===void 0?void 0:l.id}`);return}let d=n.cell.isAttachedToDOM?"reattaching":"attaching";console.debug(`${d} cell ${n.cell.id} to DOM at:`,{el:o.current,connected:o.current.isConnected,data:(c=i?.stripWidgets(e))!==null&&c!==void 0?c:e}),n.cell.attachToDOM(o.current),n.cell.executionCount==null&&n.cell.initOutputs((u=i?.stripWidgets(e,!0,s?()=>"":void 0))!==null&&u!==void 0?u:e)},[o?.current,n?.cell]);let a=((r=n?.cell)===null||r===void 0?void 0:r.executionCount)!=null;return console.debug(`Jupyter: Cell ${t} executed: ${a}; Show output: ${a||!s}`),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("div",{ref:o,"data-thebe-active-ref":"true",className:(0,m5.default)("relative",{"invisible h-0":!a&&s})}),s&&!a&&(0,Hn.jsx)(we,{ast:s})]})}function TZ({id:t,data:e,core:i}){let r=i.makeRenderMimeRegistry(),n=(0,as.useRef)(new i.PassiveCellRenderer(t,r,void 0)),s=(0,as.useRef)(null),{loaded:o}=R3(r,e);return(0,as.useEffect)(()=>{var a,l;!s.current||!o||(n.current.attachToDOM((a=s.current)!==null&&a!==void 0?a:void 0,!0),n.current.render((l=i?.stripWidgets(e))!==null&&l!==void 0?l:e))},[s,o]),(0,Hn.jsx)("div",{ref:s,"data-thebe-passive-ref":"true"})}var p5=as.default.memo(({id:t,outputs:e})=>{let{core:i,load:r}=(0,f5.useThebeLoader)(),{inCrossRef:n}=Nl(),{data:s,error:o}=q3(e),[a,l]=(0,as.useState)(null),c=yo(t),u=Fg();return(0,as.useEffect)(()=>{i||r()},[i,r]),(0,as.useEffect)(()=>{!s||a!=null||h5(s).then(d=>{let f=Vy(d,{});l(f)})},[t,s,a]),o?(console.error(o),(0,Hn.jsxs)("div",{className:"text-red-500",children:["Error rendering output: ",o.message]})):!n&&c?.ready?(0,Hn.jsxs)("div",{children:[!a&&(0,Hn.jsx)("div",{className:"p-2.5",children:"Fetching full output data..."}),i&&a&&(0,Hn.jsx)(kZ,{id:t,initialData:a,core:i},t)]}):u?(0,Hn.jsx)(we,{ast:u}):(0,Hn.jsxs)("div",{children:[!a&&(0,Hn.jsx)("div",{className:"p-2.5",children:"Loading..."}),a&&i&&(0,Hn.jsx)(TZ,{id:t,data:a,core:i,kind:Ei.Notebook})]})});var g5=H(be(),1);var AZ=new Set(["stream","error"]),RZ=new Set([Cn.TextPlain,Cn.ImagePng,Cn.ImageGif,Cn.ImageJpeg,Cn.ImageBmp]);function LZ(t,e,i){return!t||t.length===0?!0:t.reduce((r,n)=>{if(e.has(n.output_type))return r&&!0;let s=n.data,o=s?Object.keys(s):[],a="data"in n&&Boolean(n.data)&&o.every(l=>i.has(l));return r&&a},!0)}function NZ({outputId:t,identifier:e,data:i,align:r,className:n}){let{ready:s}=yo(t),o=i,a=(0,g5.useMemo)(()=>LZ(o,AZ,RZ),[o]),l=Fg(),c;if(a&&!s){if(l&&(!o||o.length===0)&&l)return(0,su.jsx)(we,{ast:l});c=(0,su.jsx)(u5,{keyStub:t,outputs:o})}else c=(0,su.jsx)(p5,{id:t,outputs:o});return(0,su.jsx)("div",{id:e||void 0,"data-mdast-node-id":t,className:(0,Mk.default)("max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative",{"text-left":!r||r==="left","text-center":r==="center","text-right":r==="right","mb-5":o&&o.length>0},n),children:c})}function _5({node:t}){let e=(0,su.jsx)(NZ,{className:(0,Mk.default)({hidden:t.visibility==="remove"}),outputId:t.id,identifier:t.identifier,align:t.align,data:t.data});return t.visibility==="hide"?(0,su.jsx)(Hl,{title:"Output",children:e}):e}var qg=H(Ce(),1);var v5=H(pt(),1);function b5({node:t}){var e,i,r,n,s,o,a;let{base:l}=Lv.container,c=((e=t.source)===null||e===void 0?void 0:e.kind)===Ei.Notebook,u=(i=t.children)===null||i===void 0?void 0:i.find(d=>d.type==="output");if(c&&u){let d=(r=t.children)===null||r===void 0?void 0:r.find(h=>h.type==="image"&&h.placeholder),f=(n=t.children)===null||n===void 0?void 0:n.filter(h=>!(h.type==="image"&&h.placeholder));return(0,qg.jsx)("figure",{id:t.html_id||t.identifier||t.key,className:(0,v5.default)({subcontainer:t.subcontainer},t.class),children:(0,qg.jsx)(oy,{outputId:u.id,placeholder:d,title:(s=t.source)===null||s===void 0?void 0:s.title,url:(o=t.source)===null||o===void 0?void 0:o.url,remoteBaseUrl:(a=t.source)===null||a===void 0?void 0:a.remoteBaseUrl,children:(0,qg.jsx)(we,{ast:f})},t.key)})}return(0,qg.jsx)(l,{node:t})}var x5=H(Ce(),1);var tn=H(Ce(),1),Ug=H(be(),1),y5=H(_l(),1);function DZ({children:t,idx:e}){return(0,tn.jsxs)("div",{className:"relative py-3 mx-2 my-8 border rounded",children:[(0,tn.jsx)("div",{className:"absolute z-10 flex items-center bg-white -top-3 -left-2",children:e&&(0,tn.jsxs)("div",{className:"ml-1 text-sm text-gray-500",children:["cell #: ",e+1]})}),(0,tn.jsx)("div",{className:"mx-3",children:t})]})}function OZ({errors:t}){let{core:e}=(0,y5.useThebeLoader)(),[i,r]=(0,Ug.useState)([]),[n,s]=(0,Ug.useState)([]);return(0,Ug.useEffect)(()=>{if(!e)return;let o=t.map(()=>new e.PassiveCellRenderer("any"));s(t.map((a,l)=>c=>{var u;c&&(o[l].attachToDOM(c),o[l].render((u=t[l].error)!==null&&u!==void 0?u:[]))})),r(i)},[e,t]),e?(0,tn.jsx)("div",{children:t.map((o,a)=>(0,tn.jsx)("div",{className:"not-prose min-w-[400px]",children:(0,tn.jsx)(DZ,{idx:o.index,children:(0,tn.jsx)("div",{className:"z-100",ref:n[a]},o.id)})},`error-${o.id}`))}):null}function OTe({pageSlug:t,index:e}){let{items:i}=F3(t);return!i||i.length===0||e&&e?null:(0,tn.jsx)("div",{className:"relative px-4 pt-3 my-8 text-sm text-red-600 border border-red-400 rounded border-1",children:i.map(({notebookSlug:r,errors:n},s)=>(0,tn.jsxs)("div",{children:[(0,tn.jsxs)("div",{children:[(0,tn.jsx)("span",{className:"font-bold",children:"Error"})," in notebook ",(0,tn.jsxs)("span",{children:['"',r,'"']})]}),(0,tn.jsx)(OZ,{errors:n})]},`${r}-${s}`))})}var jn=H(Ce(),1),ou=H(be(),1),w5=H(_l(),1);function HTe({waitForSessions:t}){var e,i,r;let n=jg(),{connecting:s,ready:o,error:a,events:l}=(0,w5.useThebeServer)(),{slug:c,ready:u,state:d}=Jx(),[f,h]=(0,ou.useState)(!1),[m,p]=(0,ou.useState)(),[_,x]=(0,ou.useState)("[client] Connecting..."),y=a,C=o&&(!t||u),k=s||Rh(d,c),M=(I,E)=>{x(`[${E.subject}]: ${E.message}`)};(0,ou.useEffect)(()=>{l&&l.on("status",M)},[l]),(0,ou.useEffect)(()=>{n?.thebe&&(k||y?h(!0):C&&setTimeout(()=>{h(!1),m?.(),p(void 0)},1e3))},[n,k,C,y]);let v=!((e=n?.thebe)===null||e===void 0)&&e.useBinder?"Jupyter":!((i=n?.thebe)===null||i===void 0)&&i.useJupyterLite?"JupyterLite":"Local Server";return f&&y?(0,jn.jsxs)("div",{className:"fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,jn.jsxs)("div",{className:"mb-2 font-semibold text-center",children:["\u26D4\uFE0F Error connecting to ",v," \u26D4\uFE0F"]}),(0,jn.jsx)("div",{className:"my-1 max-h-[15rem] mono overflow-hidden text-ellipsis",children:y}),(0,jn.jsx)("div",{className:"flex justify-end",children:(0,jn.jsx)("div",{className:"text-xs cursor-pointer hover:underline",role:"button",onClick:()=>h(!1),children:"dismiss"})})]}):f&&(!((r=n?.thebe)===null||r===void 0)&&r.useJupyterLite)?(0,jn.jsxs)("div",{className:"fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,jn.jsxs)("div",{className:"mb-1 font-semibold text-center",children:["\u26A1\uFE0F Connecting to ",v," \u26A1\uFE0F"]}),!C&&(0,jn.jsx)("div",{className:"max-h-[5rem] mono overflow-hidden text-ellipsis",children:_}),C&&(0,jn.jsx)("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis",children:"The in-browser JupyterLite server is ready, press run anytime."})]}):f?(0,jn.jsxs)("div",{className:"fixed p-3 z-[11] text-sm text-gray-700 bg-white border rounded shadow-lg bottom-2 sm:right-2 max-w-[90%] md:max-w-[300px] min-w-0",children:[(0,jn.jsxs)("div",{className:"mb-1 font-semibold text-center",children:["\u26A1\uFE0F Connecting to ",v," \u26A1\uFE0F"]}),(0,jn.jsx)("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis",children:_})]}):null}var fy=H(Ce(),1);function C5({id:t}){let{ready:e,cellIsExecuting:i,notebookIsBusy:r,execute:n}=yo(t);return e?(0,fy.jsx)(ru,{ready:e,executing:i,disabled:r,onClick:n}):null}function S5({id:t}){let{ready:e,cellIsExecuting:i}=yo(t);return!e||!i?null:(0,fy.jsx)(ru,{ready:e,executing:i,disabled:!0,onClick:()=>({}),title:"executing cell..."})}function E5({id:t}){let{ready:e,notebookIsBusy:i,clear:r}=yo(t);return e?(0,fy.jsx)(ty,{ready:e,disabled:i,onClick:r,title:"Clear cell outputs"}):null}var ls=H(Ce(),1);var I5=H(_l(),1);var M5=H(pt(),1);function YTe({showLaunch:t=!1}){let{slug:e,ready:i,state:r,start:n,resetAll:s,clearAll:o,execute:a}=Jx(),l=Jf(),{connecting:c,connect:u,ready:d,server:f,error:h}=(0,I5.useThebeServer)(),m=qO(r,e),p=()=>{if(!u){console.debug("NotebookToolbar: Trying to start a connection but connect() isn't defined");return}u(),n(e)},_=()=>s(e),x=()=>o(e),y=()=>a(e),C=()=>{!d||!f?.settings||window.open(`${f.settings.baseUrl}?token=${f.settings.token}`,"_blank")},k=Rh(r,e),M=UO(r,e),v=!!h,I="Connect to a compute server";return v?I="Error connecting to compute server":k&&(I=M),m?(0,ls.jsx)("div",{className:"sticky top-[60px] flex justify-end w-full z-20 pointer-events-none",children:(0,ls.jsxs)("div",{className:"flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur",children:[!i&&(0,ls.jsxs)("div",{className:"rounded",children:[(0,ls.jsx)("button",{className:(0,M5.default)("flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60",{"opacity-10 text-stone-100 dark:text-stone-700":c||k}),onClick:p,disabled:k,"aria-label":"start compute environment",children:(0,ls.jsx)(Im,{className:"inline-block w-6 h-6 align-top",title:"enable compute"})}),(c||k)&&!v&&(0,ls.jsx)("span",{className:"absolute top-1 left-1 z-10 w-[22px] h-[22px] opacity-100",title:I,children:(0,ls.jsx)(Bg,{size:24})})]}),i&&(0,ls.jsx)(ru,{ready:i,executing:l.page(e,"execute"),onClick:y,title:"Run all cells"}),i&&(0,ls.jsx)(ey,{ready:i,resetting:l.page(e,"reset"),onClick:_,disabled:l.page(e,"execute"),title:"Reset notebook and restart kernel"}),i&&(0,ls.jsx)(ty,{ready:i,disabled:l.page(e,"execute")||l.page(e,"reset"),onClick:x,title:"Clear all cells"}),t&&i&&(0,ls.jsx)(G3,{ready:i,disabled:!1,onClick:C,title:"Launch notebook in Jupyter"})]})}):null}var zZ={output:_5,embed:i5,container:b5},k5=zZ;var PZ={...Lv,myst:DO,mermaid:zO,...k5};var kk=H(be(),1),my=H(Ce(),1);function BZ(t){return e=>{e.preventDefault();let i=document.querySelector(`#${t}`);i&&(i.nextSibling.focus(),history.replaceState(void 0,"",`#${t}`),i.tabIndex===-1&&(i.tabIndex=-1),i.focus({preventScroll:!0}))}}var HZ=kk.default.memo(({targets:t})=>(0,my.jsx)("div",{className:"fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1","aria-label":"skip to content options",children:t.map(({id:e,title:i})=>(0,my.jsx)("a",{href:`#${e}`,className:"block px-2 py-1 text-black underline",onClick:BZ(e),children:i},e))}));var au=H(be(),1);function T5(t){let e=new XMLHttpRequest;e.open("POST","/api/theme"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify({theme:t}))}var gy="(prefers-color-scheme: light)",py="myst:theme";function jZ(){return typeof window!="object"?null:window.matchMedia(gy).matches?sn.light:sn.dark}function FZ({setTheme:t}){(0,au.useEffect)(()=>{let e=window.matchMedia(gy),i=()=>{t(e.matches?sn.light:sn.dark)};return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[])}function CAe({ssrTheme:t,useLocalStorage:e}){let[i,r]=au.default.useState(()=>{if(m_(t))return t;if(typeof window!="object")return null;let s=jZ(),o=localStorage.getItem(py);return e&&m_(o)?o:s});FZ({setTheme:r});let n=(0,au.useRef)(!1);return(0,au.useEffect)(()=>{if(!n.current){n.current=!0;return}m_(i)&&(e?localStorage.setItem(py,i):T5(i))},[i]),[i,r]}var A5=H(Ce(),1);function $Z({useLocalStorage:t}){let e=`localStorage.getItem(${JSON.stringify(py)})`,i=`
  const savedTheme = ${t?e:"null"};
  const theme = window.matchMedia(${JSON.stringify(gy)}).matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
`;return(0,A5.jsx)("script",{dangerouslySetInnerHTML:{__html:i}})}var N5=H(pt(),1);function TAe(t,e){let i=wu(t,"abstract"),r=wu(t,"summary",{requireExplicitPart:!0}),n=wu(t,["keypoints"],{requireExplicitPart:!0}),s=wu(t,["data_availability","data availability"]),o=wu(t,["acknowledgments","acknowledgements"]),a=Object.fromEntries(Object.entries(e??{}).map(([l,c])=>[l,c.mdast]));return{abstract:i,summary:r,keypoints:n,data_availability:s,acknowledgments:o,...a}}function R5(t){return t?.type==="root"&&t.children?.length===1&&t.children[0].type==="block"?t.children[0].children:t}function L5(t){return!!vk(t)}var Er=H(Ce(),1);function D5({id:t,pageKind:e,node:i,className:r}){let n=Hc(),s=i.visibility==="hide"?"":`${n} subgrid-gap col-screen`,o=typeof i.data?.class=="string"?i.data?.class:void 0,a=o&&o.includes("col-")||r&&r.includes("col-"),l=(0,Er.jsxs)("div",{id:t,className:(0,N5.default)("relative group/block",r,o,{[s]:!a,hidden:i.visibility==="remove"}),children:[e===Ei.Notebook&&L5(i)&&(0,Er.jsxs)(Er.Fragment,{children:[(0,Er.jsx)("div",{className:"flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden",children:(0,Er.jsx)("div",{className:"absolute top-0 -right-[28px] flex md:flex-col",children:(0,Er.jsx)(S5,{id:t})})}),(0,Er.jsx)("div",{className:"hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex",children:(0,Er.jsxs)("div",{className:"absolute top-0 -right-[28px] flex md:flex-col",children:[(0,Er.jsx)(C5,{id:t}),(0,Er.jsx)(E5,{id:t})]})})]}),(0,Er.jsx)(we,{ast:i.children})]},`block-${t}`);return i.visibility==="hide"?(0,Er.jsx)(Hl,{title:"Notebook Cell",children:l}):l}function Tk({mdast:t,pageKind:e=Ei.Article,className:i}){if(!t)return null;let r=t.children;return(0,Er.jsx)(Er.Fragment,{children:r.filter(n=>n.visibility!=="remove").map(n=>(0,Er.jsx)(D5,{id:n.key,pageKind:e,node:n,className:i},n.key))})}var oQ=H(pt(),1),j5=H(H5(),1),_i=H(be(),1);var Lk=H(Ce(),1),FAe=[1,2,3,4].map(t=>`main h${t}`).join(", "),Rk=typeof document<"u";function aQ(t){let e=t.cloneNode(!0),i=e.getElementsByTagName("abbr");for(let r=0;r<i.length;r++){let n=i[r],s=n.parentNode;for(;n.firstChild;)s.insertBefore(n.firstChild,n);s.removeChild(n)}return e}function lQ(t){return Array.from(document.querySelectorAll(t)).filter(i=>{let r=i.closest(".exclude-from-outline");return!(i.classList.contains("title")||r)})}function cQ(t,e,i){let[r,n]=(0,_i.useState)(null);if(!Rk)return{observer:r};(0,_i.useEffect)(()=>{let s=new MutationObserver(e);n(s)},[e,n]),(0,_i.useEffect)(()=>{if(!(!r||!t.current)){try{r.observe(t.current,i)}catch(s){console.error(s)}return()=>{r&&r.disconnect()}}},[r])}var dQ=(t,e)=>{let[i,r]=(0,_i.useState)(null),[n,s]=(0,_i.useState)([]);return Rk?((0,_i.useEffect)(()=>{let o=l=>{s(l.filter(c=>c.isIntersecting).map(c=>c.target))},a=new IntersectionObserver(o,e??{});return r(a),()=>a.disconnect()},[]),(0,_i.useEffect)(()=>{if(!i)return;let o=t;return o.map(a=>i.observe(a)),()=>{o.map(a=>i.unobserve(a))}},[t]),{observer:i,intersecting:n}):{observer:i}};function uQ(t,e){if(!Rk)return{activeId:"",headings:[]};let i=(0,_i.useRef)(null);(0,_i.useEffect)(()=>{i.current=document.querySelector("main")},[]);let[r,n]=(0,_i.useState)([]),s=(0,_i.useCallback)((0,j5.default)(()=>{n(lQ(t))},500,{trailing:!1}),[t]);cQ(i,s,{attributes:!0,childList:!0,subtree:!0}),(0,_i.useEffect)(s,[]);let{intersecting:o}=dQ(r),[a,l]=(0,_i.useState)();(0,_i.useEffect)(()=>{let d=o.reduce((h,m)=>h||(m.classList.contains("highlight")?m.id:null),null),f=[...o].sort((h,m)=>h.offsetTop-m.offsetTop)[0];(d||f)&&l(d||f.id)},[o]);let[c,u]=(0,_i.useState)([]);return(0,_i.useEffect)(()=>{let d=10,f=r.map(h=>({element:h,level:Number(h.tagName.slice(1)),id:h.id,text:h.querySelector(".heading-text")})).filter(h=>!!h.text).map(({element:h,level:m,text:p,id:_})=>{let{innerText:x,innerHTML:y}=aQ(p);return d=Math.min(d,m),{element:h,title:x,titleHTML:y,id:_,level:m}}).filter(h=>(h.level=h.level-d+1,h.level<e+1));u(f)},[r]),{activeId:a,headings:c}}function hQ(t){let e=(0,_i.useRef)(null),i=(0,_i.useRef)(null),r=yu().state,n=()=>{if(!e.current||!i.current)return;let s=e.current.offsetHeight-window.scrollY+e.current.offsetTop;i.current.style.display=s<50?"none":"",i.current.style.height=s>window.innerHeight?"":`${s}px`,i.current.style.opacity=s&&s>300?"":"0",i.current.style.pointerEvents=s&&s>300?"":"none"};return(0,_i.useEffect)(()=>{n(),setTimeout(n,100);let s=()=>n();return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[e.current,i.current,r]),(0,_i.useEffect)(()=>{!t||!t.current||(e.current=t.current)},[t?.current]),{container:e,outline:i}}var Nk=H(pt(),1);var F5=H(be(),1),Gs=H(Ce(),1);function fQ({containerClassName:t,innerClassName:e,hideLongBibliography:i=15}){let r=Ro(),n=Hc(),{order:s,data:o}=r?.cite??{},a=s?.filter(d=>d),[l,c]=(0,F5.useState)(!0);if(!a||!o||a.length===0)return null;let u=l&&i?a.slice(0,i):a;return(0,Gs.jsxs)("section",{id:"references",className:(0,Nk.default)(n,"subgrid-gap col-screen",t),children:[(0,Gs.jsxs)("div",{className:e,children:[!!i&&a.length>i&&(0,Gs.jsx)("button",{onClick:()=>c(!l),className:"float-right p-1 px-2 text-xs border rounded hover:border-blue-500 dark:hover:border-blue-400",children:l?"Show All":"Collapse"}),(0,Gs.jsxs)("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["References",(0,Gs.jsx)(oi,{id:"references",title:"Link to References",hover:!0,className:"ml-2"})]})]}),(0,Gs.jsx)("div",{className:(0,Nk.default)("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:(0,Gs.jsxs)("ol",{children:[u.map(d=>{let{html:f}=o[d];return(0,Gs.jsx)("li",{className:"break-words",id:`cite-${d}`,dangerouslySetInnerHTML:{__html:f||""}},d)}),!!i&&a.length>i&&(0,Gs.jsx)("li",{className:"text-center list-none",children:(0,Gs.jsx)("button",{onClick:()=>c(!l),className:"p-2 border rounded hover:border-blue-500 dark:hover:border-blue-400",children:l?`Show all ${a.length} references`:"Collapse references"})})]})})]})}var Dk=H(pt(),1);var Fn=H(Ce(),1);function mQ({containerClassName:t,innerClassName:e}){let i=Ro(),r=Hc(),n=Il("footnoteDefinition",i?.article),s=Il("footnoteReference",i?.article);return n.length===0?null:(0,Fn.jsxs)("section",{id:"footnotes",className:(0,Dk.default)(r,"subgrid-gap col-screen",t),children:[(0,Fn.jsx)("div",{className:e,children:(0,Fn.jsxs)("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["Footnotes",(0,Fn.jsx)(oi,{id:"footnotes",title:"Link to Footnotes",hover:!0,className:"ml-2"})]})}),(0,Fn.jsx)("div",{className:(0,Dk.default)("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:(0,Fn.jsx)("ol",{children:n.map(o=>(0,Fn.jsx)("li",{id:`fn-${o.identifier}`,className:"group",children:(0,Fn.jsxs)("div",{className:"flex flex-row",children:[(0,Fn.jsx)("div",{className:"break-words grow",children:(0,Fn.jsx)(we,{ast:o.children})}),(0,Fn.jsx)("div",{className:"flex flex-col grow-0",children:s.filter(a=>a.identifier===o.identifier).map(a=>(0,Fn.jsx)(oi,{id:`fnref-${a.key}`,title:"Link to Content",hover:"desktop",className:"p-1",children:"\u21A9",scrollBehavior:"instant"},a.key))})]})},o.key))})})]})}var lu=H(Ce(),1);function vy({content:t,title:e="Abstract",id:i="abstract",className:r}){return t?(0,lu.jsxs)("div",{className:r,children:[(0,lu.jsxs)("h2",{id:i,className:"mb-3 text-base font-semibold group",children:[e,(0,lu.jsx)(oi,{id:i,title:`Link to ${e}`,hover:!0,className:"ml-2"})]}),(0,lu.jsx)("div",{className:"px-6 py-1 mb-3 rounded-sm bg-slate-50 dark:bg-slate-800",children:(0,lu.jsx)(Tk,{mdast:t,className:"col-body"})})]}):null}var Ok=H(pt(),1);var Qf=H(Ce(),1);function $5({keywords:t,hideKeywords:e,className:i}){return e||!t||t.length===0?null:(0,Qf.jsxs)("div",{className:(0,Ok.default)("mb-10 group",i),children:[(0,Qf.jsx)("span",{className:"mr-2 font-semibold",children:"Keywords:"}),t.map((r,n)=>(0,Qf.jsx)("span",{className:(0,Ok.default)({"after:content-[','] after:mr-1":n<t.length-1}),children:r},r)),(0,Qf.jsx)(oi,{id:"keywords",title:"Link to Keywords",hover:!0,className:"ml-2"})]})}var cu=H(Ce(),1);function pQ({parts:t,keywords:e,hideKeywords:i,containerClassName:r,innerClassName:n}){return!t.abstract&&!t.keypoints&&!t.summary?null:(0,cu.jsxs)("div",{className:r,children:[(0,cu.jsx)(vy,{className:n,content:t.abstract}),(0,cu.jsx)(vy,{className:n,content:t.keypoints,title:"Key Points",id:"keypoints"}),(0,cu.jsx)(vy,{className:n,content:t.summary,title:"Plain Language Summary",id:"summary"}),(0,cu.jsx)($5,{className:n,keywords:e,hideKeywords:i})]})}var W5=H(pt(),1),ca=H(Ce(),1);function gQ({parts:t,containerClassName:e,innerClassName:i}){return(0,ca.jsxs)("div",{className:e,children:[(0,ca.jsx)(zk,{className:i,title:"Acknowledgments",id:"acknowledgments",content:t.acknowledgments}),(0,ca.jsx)(zk,{className:i,title:"Data Availability",id:"data-availability",content:t.data_availability})]})}function zk({title:t,id:e,content:i,className:r}){return i?(0,ca.jsxs)("div",{className:(0,W5.default)("flex flex-col w-full md:flex-row group/backmatter",r),children:[(0,ca.jsxs)("h2",{id:e,className:"mt-5 text-base font-semibold group md:w-[200px] self-start md:flex-none opacity-90 group-hover/backmatter:opacity-100",children:[t,(0,ca.jsx)(oi,{id:e,title:`Link to ${t}`,hover:!0,className:"ml-2"})]}),(0,ca.jsx)("div",{className:"grow opacity-90 group-hover/backmatter:opacity-100 col-screen",children:(0,ca.jsx)(we,{ast:R5(i)})})]}):null}function wRe({title:t,description:e,twitter:i}){let r=[{title:t},{property:"og:title",content:t},{name:"generator",content:"mystmd"}];return e&&(r.push({name:"description",content:e}),r.push({property:"og:description",content:e})),i&&r.push({name:"twitter:site",content:`@${i.replace("@","")}`}),r}function CRe({origin:t,url:e,title:i,description:r,image:n,twitter:s,keywords:o}){let a=[{title:i},{property:"og:title",content:i},{name:"generator",content:"mystmd"}];return r&&(a.push({name:"description",content:r}),a.push({property:"og:description",content:r})),o&&a.push({name:"keywords",content:o.join(", ")}),t&&e&&a.push({property:"og:url",content:`${t}${e}`}),n&&(a.push({name:"image",content:n}),a.push({property:"og:image",content:n})),s&&(a.push({name:"twitter:card",content:n?"summary_large_image":"summary"}),a.push({name:"twitter:creator",content:`@${s.replace("@","")}`}),a.push({name:"twitter:title",content:i}),r&&a.push({name:"twitter:description",content:r}),n&&a.push({name:"twitter:image",content:n}),a.push({name:"twitter:alt",content:i})),a}export{g$ as a,sn as b,ZQ as c,QQ as d,ys as e,xm as f,lee as g,Hc as h,MT as i,tee as j,Fr as k,ar as l,hee as m,AT as n,ree as o,va as p,see as q,mee as r,vee as s,HT as t,Gi as u,th as v,$n as w,I_ as x,_w as y,$r as z,Mm as A,k4 as B,Mi as C,XT as D,fL as E,sC as F,CL as G,SL as H,EL as I,IL as J,Tm as K,zl as L,km as M,JMe as N,QMe as O,Dke as P,jg as Q,Oke as R,OTe as S,HTe as T,YTe as U,TAe as V,Tk as W,E_ as X,uQ as Y,hQ as Z,b$ as _,fQ as $,mQ as aa,fA as ba,Ew as ca,NA as da,jw as ea,Vw as fa,C_ as ga,P_ as ha,Qre as ia,JW as ja,t8 as ka,r8 as la,pQ as ma,gQ as na,PZ as oa,HZ as pa,CAe as qa,$Z as ra,wRe as sa,CRe as ta};
/*! Bundled license information:

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.1
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-08-28T13:37Z
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
